1998-11-07  Jeff Garzik  <jgarzik@pobox.com>

	* Makefile.am, libgnomeui.h: removed gnome-lamp.[ch]
	* stock_demo.c: removed ifdef'd gnome_lamp widget code
	* winhints_demo.c: made authors var const-correct
	* gnome-lamp.[ch]: removed (general consensus considers
	  gnome-lamp unused and ugly)

1998-11-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-item.[ch] (gnome_icon_text_item_get_text): New public
	function to query the text from the icon item.

	* gnome-icon-list.c (text_changed): Use gnome_icon_text_item_get_text().

1998-11-05  Chris Lahey  <clahey@umich.edu>

	* pixmaps/Makefile.am (stock_images): 
	* gnome-stock.c: 
	* gnome-stock.h: Added GNOME_STOCK_PIXMAP_INDEX, a small pile of
	documents.

	* pixmaps/stock_index.png: Added this file.  The image for
	GNOME_STOCK_PIXMAP_INDEX.

	* gnome-app.c (gnome_app_set_toolbar): Removed an incorrect #ifdef
	to get flat toolbars to work.

1998-11-05  Felix Bellaby <felix@pooh.u-net.com>

	* gnome-client.c (options): Added CBFLAGS to make connection to
	master_client.

1998-11-04  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-net.c (make_inetaddr): Use memset/memcpy rather than
	bzero/bcopy. 
	(gnomesupport.h): Include.
	(max_sockets): Specify `int' type.

1998-11-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcauldron.c: Make private functions static.

1998-11-04  Havoc Pennington  <hp@pobox.com>

	* gnome-guru.c, gnome-guru.h: New widget, a simple-minded wizard
	widget.  
	* gtkrc: Add a style for the title of each page in the GnomeGuru.
	It only works with the standalone guru though, not the
	guru-in-a-dialog. See test-gnome for demo. weird.
	* libgnomeui.h, Makefile.am: added.
	* gnome-icon-sel.c: The type of parent_class was wrong.

1998-11-04  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-item.h (GnomeIconTextItemClass): Added an
	"editing_started" signal, too.

	* gnome-icon-item.c (iti_class_init): Create the new signal.
	(iti_start_editing): Emit the editing_started signal.

	* gnome-icon-item.h (GnomeIconTextItemClass): Added an
	"editing_stopped" signal.  It is emitted when the user presses
	enter or esc and thus finishes editing the item.

	* gnome-icon-item.c (iti_class_init): Create the new signal.
	(iti_stop_editing): Emit the editing_stoppled signal.

1998-11-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c: Updates to the TO-DO list.

1998-11-03  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi-child.[ch] (gnome_mdi_active_window): return active_window
	member.

1998-11-02  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi-child.[ch]: added "set_book_label" signal, giving the user
	some control over the notebook labels. see source and header for some
	comments on the handler.
	* gnome-mdi.c (book_add_view, gnome_mdi_update_child): emit
	"set_book_label" signal to obtain or update the notebook label.

1998-11-01  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	Wheee!  Now we have stippling capabilities in the canvas.

	* gnome-canvas.h (GnomeCanvas): Added fields for the offsets of
	the temporary drawing pixmap.  This is needed by
	gnome_canvas_set_stipple_origin().

	* gnome-canvas.[ch] (gnome_canvas_set_stipple_origin): New public
	function to set the stipple origin of an item's gc.  For use only
	by item implementations.

	* gnome-canvas.c (paint): Set the draw_xofs and draw_yofs fields
	of the canvas.

	* gnome-canvas-rect-ellipse.h (GnomeCanvasRE): Added fields for
	the fill and outline stipple patterns.

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_class_init): Added
	the arguments for stippling.
	(set_stipple): New convenience function to set the stipple pattern
	of a gc.
	(gnome_canvas_re_set_arg): Set the fill/outline stipple arguments.
	(gnome_canvas_re_get_arg): Query the fill/outline stipple
	arguments.
	(gnome_canvas_re_reconfigure): Reset the stipples.
	(gnome_canvas_rect_draw): Set the origin of the stipple patterns
	as appropriate.
	(gnome_canvas_ellipse_draw): Likewise.
	(gnome_canvas_re_destroy): Unref the stipple bitmaps.

	* gnome-canvas-text.h (GnomeCanvasText): Added a stipple field.

	* gnome-canvas-text.c (gnome_canvas_text_class_init): Register the
	fill_stipple argument.
	(gnome_canvas_text_destroy): Unref the stipple bitmap.
	(set_stipple): New convenience function to set the stipple pattern.
	(gnome_canvas_text_set_arg): Set the fill_stipple argument.
	(gnome_canvas_text_get_arg): Query the fill_stipple argument.
	(gnome_canvas_text_draw): Set the stipple origin as appropriate.

	* gnome-canvas-line.h (GnomeCanvasLine): Added a stipple field.
	Also, removed the arrow_gc field, since it was never used for
	drawing.

	* gnome-canvas-line.c (gnome_canvas_line_class_init): Add the
	fill_stipple argument.
	(gnome_canvas_line_destroy): Unref the stipple if it exists.
	(set_stipple): New function to set the stipple pattern on the
	line's gcs.
	(gnome_canvas_line_set_arg): Set the stipple argument.
	(gnome_canvas_line_get_arg): Query the stipple argument.
	(gnome_canvas_line_draw): Set the stipple origin as appropriate.

	* gnome-canvas-polygon.h (GnomeCanvasPolygon): Added fields for
	fill and outline stipples.

	* gnome-canvas-polygon.c (gnome_canvas_polygon_class_init): Added
	the arguments for stippling.
	(set_stipple): New convenience function to set the stipple pattern
	of a gc.
	(gnome_canvas_polygon_set_arg): Set the fill/outline stipple arguments.
	(gnome_canvas_polygon_get_arg): Query the fill/outline stipple
	arguments.
	(gnome_canvas_polygon_reconfigure): Reset the stipples.
	(gnome_canvas_polygon_draw): Set the origin of the stipple patterns
	as appropriate.
	(gnome_canvas_polygon_destroy): Unref the stipple bitmaps.

1998-10-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (create_radio_menu_items): Now returns the
	updated `pos' parameter, since the functions that call it need it.
	(create_help_entries): Likewise.
	(gnome_app_fill_menu_custom): Update the position from
	create_help_entries() and create_radio_menu_items().

1998-10-29  Seth Alves  <alves@hungry.com>

	* gnome-paper-selector.c (set_widgets_from_paper): pulled common
	code into a subroutine
	(gnome_paper_selector_init): added widgets for margin sizes

1998-10-29    <jrb@redhat.com>

	* gnome-popup-help.c (gnome_widget_add_help_with_uidata): added some more
	sanity checking.
	(gnome_popup_help_place_window): removed print statements too

1998-10-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-popup-menu.c (gnome_popup_menu_attach): Use
	gtk_widget_add_events() instead of set_events() -- this lets us
	operate even on realized widgets.

1998-10-29    <jrb@aware-of-vacuity.labs.redhat.com>

	* gtk-socket.c: Remove #define DEBUG_PLUGSOCKET

1998-10-28  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (create_menu_item): i8l_label must be a
	string, not a GtkWidget *.

	* gnome-about.c (gnome_about_calc_size): Made static.
	(gnome_destroy_about): Likewise.

	* gnome-app.c (locations): Made const.

	* gnome-mdi.c (target_table): Made const.

	* gnome-client.c (arguments parser): Made const.

	* gnome-init.c (our_gtk_options our_gtk_parser): Made const.

	* makeenums.pl (parse_entries): Output the arrays of enumerations
	as const.

	* gnome-calculator.c (buttons): Made the buttons array const so
	that it can be shared.

	* gnome-lamp.c: Made the lamp data and enl_mappings const so that
	they can be shared.

	* gnome-stock.c (entries_data default_accel_hash): Made the list
	of entries const so that it can be shared between processes.

1998-10-28  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch] (gnome_mdi_register, gnome_mdi_unregister):
	changed parameter from GtkWidget*  to GtkObject*.

1998-10-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-item.c (get_bounds): New internal function to compute
	the bounding box of the icon text item.
	(recompute_bounding_box): Use get_bounds().
	(gnome_icon_text_item_get_type): The object initialization
	function did nothing, so removed it and use NULL instead.
	(iti_bounds): Use get_bounds() and return the correct bounds.

1998-10-27  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-item.c (iti_bounds): Realize the item if we are asked
	for the bounds before realization.  Federico, this fixes the
	problem you had without having to connect to the realize signal
	(which should be very expensive in terms of memory use for every
	icon). 

	(iti_realize): Remove unused Window
	parameter. 

Mon Oct 26 16:53:04 1998  Owen Taylor  <otaylor@redhat.com>

	* gnome-stock.c: Use gtk_widget_shape_combine_mask() instead
	of gdk_window_", so theme switching doesn't remove
	shape.

1998-10-25  Kjartan Maraas  <kmaraas@fib.hl.no>

	* gnome-font-picker.c: Removed #include "gnome-font-picker-ico.h"
	to make it compile again
	
1998-10-24  David Abilleira  <odaf@nexo.es>

	* gnome-font-picker.c: Now it uses GNOME_STOCK_PIXMAP_FONT instead of
        the one in gnome-font-picer-ico.png
        
	* gnome-font-picker-ico.png: Removed
	* gnome-font-picker-ico.h: Removed

1998-10-24  Martin Baulig  <martin@home-of-linux.org>

	* pixmaps/Makefile.am: Make `gnome-stock-imlib.h' depend upon
	the Makefile.am so it will be rebuild if you add new files.

Sat Oct 24 13:09:50 CEST 1998  Eckehard Berns  <eb@berns.i-s-o.net>

	* pixmaps/stock_font.png: new stock icon
	* pixmaps/Makefile.am: added stock_font.png
	* gnome-stock.[ch]: added defines for stock_font.png (icon, menu and
	button)
	* stock_demo.c: added sample stock_font icons and button

1998-10-23  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (icon_event): Mark the events as processed
	when calling toggle_icon.

1998-10-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (icon_event): Fixed the handling of clicking.

1998-10-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-item.c (iti_get_width): Handle the case where iti->ti
	has not been created yet.
	(recompute_bounding_box): Likewise.

1998-10-22  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-popup-help.c (gnome_popup_help_size_window): Use
	"traditional" drawing functions until Gtk-themes is all over the
	place.

Mon Oct 19 19:33:18 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_window_remove_embedded_xid): Added
	some code for marking embedded windows so theme
	switching can work properly. As soon as themes
	are merged, this will be moved to GTK+.

1998-10-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-item.c (recompute_bounding_box): Use item relative
	cordinates, to support groups.
	(iti_paint_text): Same.

1998-10-21    <jrb@redhat.com>

	* gnome-popup-help.c: Added popup help.  Everyone should use
	this.

	* libgnomeui.h: added the popup stuff.

	* Makefile.am: added the popup-help stuff.

1998-10-21  David Abilleira  <odaf@nexo.es>

	* gnome-font-picker.h: removed "extern C" which is redundant with
        BEGIN_GNOME_DCLS

        * gnome-color-selector.c: Now it creates a modal dialog box only when
        there is another modal window yet.
        
1998-10-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-item.c: Add width_changed signal to icon-text-item.

	* gnome-icon-list.c: (toggle_icon): Make sure we emit a signal
	with the correct index.
	(icon_event): Generate events for button-2 and 3

	* gnome-icon-list.c (gnome_icon_list_icon_is_visible): Fix wrong
	return value. 

1998-10-19  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (icon_event): call toggle_icon on double click
	events. 

1998-10-15  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_new): Fix merge  mistake.

1998-10-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c: I am an idiot.  I did not think anyone would
	ever override the canvas event handlers, so I was happily
	returning FALSE from all of them.
	(gnome_canvas_button): Return the appropriate value from
	emit_event().
	(gnome_canvas_motion): Likewise.
	(gnome_canvas_key): Likewise.
	(gnome_canvas_focus_in): Likewise.
	(gnome_canvas_focus_out): Likewise.
	(gnome_canvas_crossing): Return the appropriate value from
	pick_current_item().

	(emit_event): Now it returns a boolean value that indicates
	whether the event was handled by someone or not.
	(pick_current_item): Likewise.

1998-10-19  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c (book_drop): something seems to have been screwed
	up during owen's last commit. fixed now.

1998-10-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_init): Set the GTK_CAN_FOCUS flag
	in the widget.

	* gnome-color-picker.c (gnome_color_picker_set_title): Set the
	title of the color selection dialog if it exists.

	* gnome-init.c (our_gtk_options): Fixed spelling in the option
	descriptions.

	* gnome-canvas.c (gnome_canvas_item_grab_focus): Set the
	ev.focus_change.window field to the canvas's bin window.
	(emit_event): Rearranged some of the focusing tests.

Mon Oct 19 11:57:51 1998  Owen Taylor  <otaylor@redhat.com>

	* gnome-mdi.c: Change "drag_data_received" callback
	to have proper signature.

1998-10-19  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: removed dnd_type member and g_free()ing
	of it, since owen's changes made it redundant.
	
Sun Oct 18 18:59:33 1998  Owen Taylor  <otaylor@gtk.org>

	* gnome-mdi.[ch] gnome-color-selector.c gnome-file-entry.c: 
	Adapted to the new GTK+ DND API.

	* gnome-stock.[ch]: Added new function
	gnome_stock-pixmap_gdk() to get a stock pixmap as
	a GdkPixmap/GdkMask.

	* gtk-socket.[ch]: Changes to enable DND proxying to
	the embedded plug.

1998-10-17  Ettore Perazzoli  <ettore@comm2000.it>

	* gnome-stock.c: Removed `BUTTON_DEFBRD_WIDTH' and
	`BUTTON_DEFBRD_HEIGHT' constants.

	* gnome-uidefs.h: Removed `GNOME_BUTTON_WIDTH' and
 	`GNOME_BUTTON_HEIGHT' constants.  These are not used by any
 	application AFAIK.

	* gnome-stock.c (gnome_pixmap_button): Do not force the button
 	size anymore.

	* gnome-dialog.c (gnome_dialog_append_button): Use
 	`GTK_WIDGET_SET_FLAGS()' instead of `gnome_button_can_default()'
	to set the `GTK_CAN_DEFAULT' flag.

	* gnome-stock.c (gnome_button_can_default): Do nothing.  Just spit 
	out a warning, saying that this function is now deprecated.

1998-10-16    <jrb@aware-of-vacuity.labs.redhat.com>

	* gnome-messagebox.h: changed comment to redirect user to the
	right code.

1998-10-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (emit_event): Emit events for hidden items as
	well -- they need to get a LeaveNotify, at least.

1998-10-16  Havoc Pennington  <hp@pobox.com>

	* gnome-icon-list.c (gil_button_press): If there's already a
	gil->sel_rect (i.e. we are already rubberbanding) don't create a
	second rubberband if the user clicks one of the other mouse
	buttons. Clicking another button now ends the select due to the 
	button release event.

1998-10-15  Mark Galassi  <rosalia@cygnus.com>

	* Makefile.am (gnome_headers): fixed a typo: a \ was missing after
	gnome-font-picker.h, thus causing several
	$(prefix)/include/libgnomeui/*.h files to not be installed.

1998-10-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_hide): 
	(gnome_canvas_item_show): The canvas needs to repick the current
	item when an item is shown/hidden.

1998-10-15  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_new): Thanks to Havoc for
	spotting this one-line bug.  I was leaking an icon-list and
	returning an incorrectly created icon list widget.

Thu Oct 15 03:33:21 CEST 1998  Eckehard Berns  <eb@berns.i-s-o.net>

	* pixmaps/Makefile.am pixmaps/stock_attach.png: added attach pixmap.
	* gnome-stock.[ch]: added defines for attach pixmap.
	* stock_demo.c: added sample attach pixmap.

1998-10-14  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_show): 
	(gnome_canvas_item_hide): New public functions to hide/show items
	in the canvas.  We have a new visibility flag for canvas items.
	(gnome_canvas_item_init): New private initialization function --
	makes items start as visible by default.
	(redraw_if_visible): New convenience function to queue a redraw of
	an item only if it is visible.  It is used in the places that used
	to always queue a redraw.
	(gnome_canvas_item_grab): Return GrabNotViewable if the item is
	not visible.
	(gnome_canvas_group_draw): Only draw visible items.
	(gnome_canvas_group_point): Test only visible children.
	(gnome_canvas_group_bounds): Only test visible children.
	(pick_current_item): Only pick if the root is visible.
	(emit_event): Only emit if the item is visible.
	(paint): Only draw the root if it is visible.

1998-10-14  Havoc Pennington  <hp@pobox.com>

	* gnome-icon-list.h: BEGIN_GNOME_DECLS, END_GNOME_DECLS so C++
	programs will link.

1998-10-14  David Abilleira  <odaf@nexo.es>

	* gnome-font-picker.[ch] New widget for selecting a font from a
	simple to use button. This is equivalent to gnome-color-picker but to
	select fonts.

	* gnome-font-picker-ico.png and .h. Default ico to show inside
	the button. At this moment header file generation is not
	automated because I don't want to modify Makefile.am until I
	know which is the right place to put the icon
        
	* libgnomeui.h: Added gnome-font-picker.h to the list of headers.

	* Makefile.am: Added gnome-font-picker.[ch] to the sources.

1998-10-14  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-polygon.[ch]: New polygon item for the canvas.  I
	need it for Gnomecal, so I finally got around to implementing this.
	
	* gnome-canvas.c: Update the TODO list; we now have a polygon item.

	* libgnomeui.h: Added gnome-canvas-polygon.h to the list of headers.

	* Makefile.am: Added gnome-canvas-polygon.[ch] to the list of sources.

1998-10-14  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-item.c (gnome_icon_text_item_select): When we are
	unselected, cancel any pending editing facility on the item.

1998-10-13  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	(gnome_icon_list_icon_is_visible):  Small name function name
	change, for compatibility with the older code.  Somehow it got
	dropped. 
	
	* gnome-icon-list.c (gnome_icon_list_get_items_per_line): Export
	this routine.

	* gnome-icon-item.c (iti_unrealize): Only call iti_stop_editing if
	an editing was in course.
	(iti_realize): account for the fact that we can be realized before
	being configured (ie, the canvas is already visible).
	(gnome_icon_text_item_configure): If the item has been realized do
	the icon computations.

	* gnome-icon-list.c (gnome_icon_list_set_separators): Implemented
	missing routine.

	(gnome_icon_list_new): As we depend on Imlib for drawing icons,
	always use the Imlib visual.
	
1998-10-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_init): Now by default
	lines start in width_pixels mode turned off, to be consistent with
	rectangles and ellipses.

1998-10-13  Havoc Pennington  <hp@pobox.com>

	* gnome-canvas.h, gnome-canvas.c (gnome_canvas_world_to_window):
	New function, inverse of gnome_canvas_window_to_world.

1998-10-13  Havoc Pennington  <hp@pobox.com>

	* gnome-icon-list.h, gnome-icon-list.c: Add
	gnome_icon_list_construct function, and use it in _new.

1998-10-13  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c (gnome_mdi_open_toplevel): restrict MDI
	to a single toplevel when in modal mode.
	* gnome-mdi.[ch] (gnome_mdi_set_window_view): removed:
	gnome_mdi_set_active_view does precisely that and even more!
	* gnome-mdi-session.c (gnome_mdi_restore_state): replaced
	gnome_mdi_set_window_view() with gnome_mdi_set_active_view()
	and removed a hash table lookup for the app since mdi retrieves
	it from the view.
	
1998-10-13  Martin Baulig  <martin@home-of-linux.org>

	* gnome-app-helper.c (create_menu_item): When the label is the
	empty string, don't call gettext on it. This is required since
	gettext maps the empty string to the header lines at the beginning
 	of the .pot files.

1998-10-12  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c, gnome-icon-list.h: New implementations of the
	GnomeIconList.  This GnomeIconList is derived from the GnomeCanvas
	and has some nice features:  inline name edition of filenames and
	banding selection of icons as well as a flicker free display.  

	The icon list API is fully documented with the proposed commenting
	style. 

	The downside is that the constructor API has changed, I will
	shortly fix the code on CVS to work with the new API. 

	* gnome-icon-item.c, gnome-icon-item.h: New files.  Canvas items
	that implement text editing in a width-constrained region.  They
	use a GtkEntry as a hidden backend to handle most of the nasty
	details of input editing.  This means the edition features of them
	are very complete. 

	* gnome-icon-text.c, gnome-icon-text.h:  Routines used to layout
	wrapped text for tooltips and icons is now on their own file.
	Fully documented as well. 

1998-10-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_window_to_world): New public
	function that takes in window coordinates (relative to the
	GTK_LAYOUT (canvas)->bin_window) and converts them to world
	coordinates.  This is what everyone needs :-)
	(emit_event): Made it use gnome_canvas_window_to_world().

1998-10-12  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.h: remove GNOME_MDI_MS from GnomeMDIMode enums.
	(gnome_mdi_open_toplevel): new function.
	* gnome-mdi.c: removed all conditional code depending on
	GNOME_MDI_MS.
	(gnome_mdi_open_toplevel): new function.
	(gnome_mdi_init): set initial mode to the one selected in
	look and feel properties.
	(gnome_mdi_set_mode): fix to accomodate the previous change.
	(gnome_mdi_add_view, gnome_mdi_add_toplevel_view): fixed to
	open a new toplevel if there isn't one.
	
1998-10-09  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-text.c (gnome_canvas_text_draw): Fixed stupid bug,
	do not try to draw empty lines.

	* gnome-canvas-text.c (gnome_canvas_text_bounds): Fixed a little
	y1->x1 confusion.

1998-10-08  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-mdi-session.h: Fixup includes.

	* gnome-mdi-session.c: Fixup includes.

1998-10-08  Raja R Harinath  <harinath@cs.umn.edu>

	* gtkcauldron.h: Remove `#pragma }'.

1998-10-08  The Rasterman <raster@redhat.com>
	* gnome-winhints.[ch]: moved to standard method of #defines in gtk+
	and gnome by using enum's and all capitals. added extra support.
	Cleaned up code. aded "check for a gnome compliant wm" code and
	put this all into winhints_demo.c - currently onle E 0.15 in CVS
	supports all of this. I hope other WM's will catch on soon.
	
1998-10-08  James Henstridge  <james@daa.com.au>

	* gnome-href.[ch]:  Added a simple widget for embedding hyperlinks
	into a GUI.  This uses my gnome-url code in libgnome.
	* gtkrc:  Added some lines to make href text blue.

1998-10-05  Raja R Harinath  <harinath@cs.umn.edu>

	Changes to parallel `gtk+'.
	* Makefile.am (libgnomeuiinclude_HEADERS): Move non-generated
	headers ...
	(gnome_headers): ... here.
	(gnome.defs): Depend on $(gnome_headers).
	(auto-files, auto-files-1): Remove rules.
	(BUILT_SOURCES): List generated files.
	
1998-10-04  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.h: Added a comment for the line_style argument.

	* gnome-canvas-line.c (gnome_canvas_line_set_arg): Actually set
	the line_style.

1998-10-04  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-canvas.c (emit_event): Small bug fix:  do not reinitialize
	the item to be used.

Sat Oct  3 23:46:51 EDT 1998 Gregory McLean <gregm@comstar.net>
	
	* gnome-canvas.c (gnome_canvas_item_get_bounds):
	Fixed a whoops in here that was causeing crashes
	GNOME_CANVAS_ITEM_CLASS (item)->bounds should actually be
	GNOME_CANVAS_ITEM_CLASS (item->object.klass)->bounds (though
	yosh says it really should be (item)->klass) :)

	* gnome-canvas-line.h (GnomeCanvasLine): I found myself needing
	to have some dashed lines as items, it looked like a fairly trival
	change so I added a GdkLineStyle member to GnomeCanvasLine.

	* gnome-canvas-line.c: Added a line_style arg for drawing dashed
	lines (gdk can do it so all we are doing is using that functionality)
	Nothing looks like it broke.

1998-10-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_get_bounds): New public
	function used to query an item for its bounding box.
	(gnome_canvas_group_bounds): New function that iterates over all
	the children in the group and adds up their bounds.

	* gnome-canvas.h (GnomeCanvasItem): Added a "bounds" method used
	to query the item for its bounding box.

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_bounds): New
	function that implements the "bounds" method for rectangle and
	ellipse items.

	* gnome-canvas-image.c (gnome_canvas_image_bounds): New function
	that implements the "bounds" method for image items.

	* gnome-canvas-text.c (gnome_canvas_text_bounds): New function
	that implements the "bounds" method for text items.

	* gnome-canvas-line.c (get_bounds): Moved most of the stuff in
	recalc_bounds() to this function.  This function only calculates
	the line's bounds in world coordinates.
	(recalc_bounds): Use the get_bounds() function.
	(gnome_canvas_line_bounds): New function that implements the
	"bounds" method for line items.

	* gnome-canvas-widget.c (gnome_canvas_widget_bounds): New function
	that implements the "bounds" method for widget items.

1998-10-03  Martin Baulig  <martin@home-of-linux.org>

	* gnome-client.c (gnome_client_get_config_prefix): Use
	`program_invocation_short_name' if `client->program' is NULL.

1998-10-02  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtklayout.c (gtk_layout_move): Provide a default value. 

	* gnome-canvas.c (gnome_canvas_realize): Added
	GDK_FOCUS_CHANGE_MASK to the events the canvas gets. 
	(gnome_canvas_item_shutdown): clear the focus is the killed item
	had it. 
	(gnome_canvas_focus_in, gnome_canvas_focus_out,
	gnome_canvas_item_grab_focus): New functions to implement focus in
	a canvas.
	
	* gnome-canvas.h: Add new flag.  GNOME_CANVAS_ITEM_CAN_FOCUS. 
	GnomeCanvas: New field:  focused_item. 

Fri Oct  2 09:21:47 CEST 1998  Eckehard Berns  <eb@berns.i-s-o.net>

	* gnome-stock.c (create_pixmap_from_imlib_scaled): free the scaled_down
	data.

1998-10-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtklayout.c (gtk_layout_gravity_works): Destroy the windows
	created for the test.
	(gtk_layout_gravity_works): Initialize event mask

1998-09-30  Havoc Pennington  <hp@pobox.com>

	* gnome-color-picker.h, gnome-color-picker.c: Type fix-fest for
	the benefit of C++. 
	(struct _GnomeColorPicker): Store stuff as gdouble.
	(struct _GnomeColorPickerClass): color_set emits a guint;
	should be gushort, but there is no GTK_VALUE_USHORT for some
	reason.
	(gnome_color_picker_set_i8, gnome_color_picker_get_i8): Use
	guint8; remove range checking.
	(gnome_color_picker_set_i16, gnome_color_picker_set_i16): Use
	gushort; remove range checking (FIXME may need to check range on
	some platforms? Gives a warning on Intel if check.)
	(gnome_color_picker_get_d, gnome_color_picker_set_d): Use gdouble.
	(gnome_color_picker_set_dither, gnome_color_picker_user_alpha):
	Use gboolean.
	(gnome_color_picker_set_title): const on the char*
	(gnome_color_picker_class_init): color_set args are guint.
	(cs_ok_clicked): Use gushort and gdouble.
	(gnome_color_picker_clicked): gdouble
	(gnome_color_picker_marshal_signal_1): GTK_VALUE_UINT

Wed Sep 30 17:09:01 1998  John Ellis  <johne@bellatlantic.net>

	* pixmaps/stock_up_arrow.png, stock_down_arrow.png, stock_top.png,
	stock_bottom.png, stock_exec.png: New stock images.
	* pixmaps/Makefile.am: Added above files.
	* gnome-stock.[ch]: Added references to above images.

1998-09-30  Ettore Perazzoli  <ettore@comm2000.it>

	* gnome-animator.c: Turned `GnomeAnimator' into a windowless
 	widget.
	(struct _GnomeAnimatorPrivate): New field `area'.
	(realize): Removed function.
	(state_or_style_changed): New function.
	(style_set): New function.
	(state_changed): New function.
	(init): Set the `GTK_NO_WINDOW' widget flag.  Do not handle
 	parent's signals anymore; install `style_set()' and
 	`state_changed()' in the widget class description instead.
	(draw_background_pixmap): Use the new `area' field in
 	`GnomeAnimatorPrivate' to set the tile/stipple origin.
	(size_allocate): Clear the parent widget's window area.  Set
 	`area' in the private part.
	(paint, draw): Updated to draw in the parent's window.
	(setup_window_and_style): Removed.
	(gnome_animator_new_with_size): Do not touch the widget's window.
	(expose): Redraw only the part that is being exposed.

	* gnome-animator.c
	(gnome_animator_append_frames_from_imlib_at_size): Made a lot
 	faster by rendering the GdkImlibImage once, and copying areas from
 	the generated Pixmap.  Refuse to append frames
 	(and return FALSE) if the width of the image is not a multiple of
 	`x_unit'.

Wed Sep 30 01:52:39 PDT 1998 Manish Singh <yosh@gimp.org>

	* gnome-animator.h: whitespace changes so makeenums.pl doesn't barf

1998-09-29  Ettore Perazzoli  <ettore@comm2000.it>

	* gnome-animator.h (struct _GnomeAnimator): Removed `frames'
 	field.  Type of `playback_speed' changed to gdouble.
	(gnome_animator_get_playback_speed): Return value changed to
 	gdouble.

	* gnome-animator.c: Updated to use GdkPixmaps instead of
 	GdkImages, and a linked list instead of a dynamic array.
	(struct _GnomeAnimatorFrame): Added `width', `height', `prev' and
 	`next' fields.  `image' field replaced by a `pixmap' field.
	(struct _GnomeAnimatorPrivate): `timeout_id' moved here from
 	`struct _GnomeAnimator'.  New fields `first_frame', `last_frame'
 	and `current_frame'.
	(init): Initialize new fields in `GnomeAnimator' and
 	`GnomeAnimatorPrivate'.
	(free_all_frames): Free the linked list.
	(paint): Use the `current_frame' field in `GnomeAnimatorPrivate'
 	to get the current frame; updated to draw a GdkPixmap instead of a
 	GdkImage.
	(append_frame): Updated to use the linked list.
	(gnome_animator_append_frame_from_imlib_at_size): Create a
 	GdkPixmap, not a GdkImage.  Set the new `width' and `height'
 	fields.
	(gnome_animator_stop): Take `timeout_id' from
 	`GnomeAnimatorPrivate'.
	(gnome_animator_advance): Warn, with `g_error()', if the
 	GnomeAnimatorLoopType is unknown.
	(gnome_animator_goto_frame): Updated to use the linked list.
	(gnome_animator_append_frame_from_gnome_pixmap): Take the frame's
 	pixmap from the GnomePixmap widget by simply referencing it.  Set
 	`width' and `height' in the new frame according to the pixmap's
 	size.

1998-09-29  Martin Baulig  <martin@home-of-linux.org>

	* gnome-mdi.c (gnome_mdi_get_view_from_window): New function.
	(gnome_mdi_set_window_view): New function. This sets the active
	view of a window without giving focus to that window.
	* gnome-mdi.h: Add prototypes.

	* gnome-mdi-session.c: We now save and restore window positions,
	the active view of each window and the active window.

1998-09-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-text.c (gnome_canvas_text_class_init): Added two
	new object arguments, text_width and text_height.  These are used
	to query the rendered size of the text.
	(gnome_canvas_text_get_arg): Process the new arguments.

	* gnome-animator.c: Include only the necessary files.

	* gnome-winhints.h: Include only the necessary files.

1998-09-29  Martin Baulig  <martin@home-of-linux.org>

	* gnome-mdi-session.[ch]: New files.
	(GnomeMDIChildCreate): New typedef. This is a pointer to a function
	which parses the config string and creates a new GnomeMDIChild.
	(gnome_mdi_save_state): Call this function when saving state with
	the GnomeMDI object and the name of the config section to use.
	(gnome_mdi_restore_state): Call this function with the GnomeMDI
	object, the name of the config section and a (GnomeMDIChildCreate)
	function pointer.

	* gnome-mdi.c (gnome_mdi_add_toplevel_view): New function. Same as
	`gnome_mdi_add_view', but when using GNOME_MDI_NOTEBOOK we add the
	view to a newly created toplevel window.
	* gnome-mdi.h (gnome_mdi_add_toplevel_view): Added prototype.

	* gnome-mdi-child.c: Added new signal `get_config_string'. This
	should be used in subclasses to return a config string representing
	the object which can be used to recreate it when restarting from
	the session manager.
	* gnome-mdi-child.h (GnomeMDIChildClass): Added new signal handler
	function `get_config_string'.

	* libgnomeui.h: Include `gnome-mdi-session.h'.
	* Makefile.am (libgnomeui_la_SOURCES): Added `gnome-mdi-session.c'.
	(libgnomeuiinclude_HEADERS): Added `gnome-mdi-session.h'.

1998-09-29  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c: Oops, fix a couple screwups in the last commit.
	* gnome-messagebox.c: Use gtk_window_set_modal
	* gnome-dialog-util.c: ditto
	* stock_demo.c: ditto.

1998-09-29  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c, gnome-dialog.h: Replace dialog's modality
	facilities with the ones from GtkWindow. Since GtkWindow's were
	exactly the same nothing should break (unless you accessed the
	modal flag directly and then you deserve breakage). Also blew away
	that log stuff on the bottom, for better or worse.
	(struct _GnomeDialog): Nuke modal field.
	(gnome_dialog_init): Don't init the modal field.
	(gnome_dialog_set_modal): Call gtk_window_set_modal and spew
	irritating warning to stop using this function.
	(gnome_dialog_run_modal): Use gtk_window_set_modal
	(gnome_dialog_run): Use GTK_WINDOW(dialog)->modal and
	gtk_window_set_modal.
	(gnome_dialog_close_real): Don't remove grab, GtkWindow does it on
	hide.
	(gnome_dialog_show): Don't add grab.

1998-09-28  Havoc Pennington  <hp@pobox.com>

	* gnome-animator.c, gnome-animator.h: Misspell private, so C++
	doesn't complain.

1998-09-28  Ettore Perazzoli  <ettore@comm2000.it>

	* Makefile.am (libgnomeui_la_SOURCES): Added `gnome-animator.c'.
	(libgnomeuiinclude_HEADERS): Added `gnome-animator.h'.
	(noinst_PROGRAMS): Added `animator_demo'.
	(animator_demo_SOURCES, animator_demo_LDADD): New variables for
	compiling `animator_demo'.

	* libgnomeui.h: #Include "gnome-animator.h".

	* animator_demo.c: New file: simple demo for `GnomeAnimator'.  It
 	currently requires some images from `gnome-core'...  I'll have to
 	fix this.

	* gnome-animator.c, gnome-animator.h: New files: new
 	`GnomeAnimator' widget.

1998-09-27  Havoc Pennington  <hp@pobox.com>

	* gnome-actionarea.h, gnome-actionarea.c: Removed.
	* Makefile.am, libgnomeui.h: Changed accordingly.

1998-09-27  Raja R Harinath  <harinath@cs.umn.edu>

	`automake' 1.3b and older have a bug with handling continuation
	lines inside conditionals.
	* Makefile.am (gtkcal_headers): Don't use continuation lines.
	(gtkcal_sources): Likewise.
	(EXTRA_libgnomeui_la_SOURCES): List gtkcalendar.[ch].

1998-09-28  Ettore Perazzoli  <ettore@comm2000.it>

	* gnome-messagebox.c (gnome_message_box_new): Fixed some memory
 	leaks.

1998-09-27  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-scores.c (gnome_scores_set_colors,
	gnome_socres_set_def_color, gnome_scores_new): Use unsigned ints
	here.

	* gnome-preferences.c (gnome_preferences_set_button_layout):
	Unsigned int warning fix.

	* gnome-properties.c
	(gnome_property_configurator_request_foreach): Unsigned int
	warning fix.

	* gnome-init.h: New file.  Move gnome-init declarations here.

	* gnome-dns.c (struct): Use guint32 for the tag

	* gnome-color-selector.c (color_dropped): Use usngined int

	* gnome-dentry-edit.c: Include <string.h>

Sun Sep 27 16:54:33 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: still fiddling with this f**king background
	colors. changed GnomeStock structure.
	* gnome-stock.c (create_pixmap_from_imlib_scaled): check via
	gnome_config if we want imlib's or out own resizing.
	(build_disabled_pixmap): check via gnome_config how the disabled pixmap
	should be built.
	* gnome-pixmap.[ch] (gnome_pixmap_new_from_rgb_d_shaped_at_size,
	gnome_pixmap_load_rgb_d_shaped_at_size): new functions.
	* gnome-app-helper.c (create_pixmap_and_label): check via gnome_config
	if we want icons in menus to keep consistance with
	gnome_stock_menu_item.

1998-09-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_reparent): Added all the usual
	sanity checks, plus the extra checks pertaining to reparenting --
	both items must be in the same canvas, and the new parent cannot
	be the item itself or an inferior of the item.  Added proper
	redrawing requests and mark the canvas as needing a repick.  Also,
	recalculate the item's bounds.

1998-09-27  Michael Lausch  <mla@gams.at>

	* gnome-canvas.c (gnome_canvas_item_reparent): new function. Moves
	a canvas_item from one canvas_item_group to another.

1998-09-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-popup-menu.c (popup_marshal_func): Fixed stupid bug in the
	marshaller; I was using args[0] instead of the actual object.

Wed Sep 23 17:04:05 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: expanded the functionality of
	gnome_stock_pixmap_widget to load GnomeStock widgets from files.
	(gnome_stock_pixmap_widget_at_size): new function. Loads a GnomeStock
	widget from a file and scales it using antializing.
	* stock_demo.c: added an example how to use the new functionality.

1998-09-21  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_set_arg): Avoid
	unnecessary reconfiguration, recalculation of bounds, and arrow
	polygon recomputation.

	* gnome-canvas-text.c (gnome_canvas_text_set_arg): Avoid
	unnecessary item reconfiguration and recalculation of bounds.

	* gnome-canvas-rect-ellipse.c (get_color_arg): New function to
	avoid a bit of duplicated code in gnome_canvas_re_get_arg().
	(set_outline_gc_width): Now the outline GC's line width is
	calculated here.
	(gnome_canvas_re_set_arg): Optimizations to avoid unnecessary
	item reconfiguration and recalculation of bounds.

	* gnome-app-helper.c (create_menu_item): Set separators as
	insensitive so that they cannot be selected.
	(create_pixmap): Look for pixmap files in the standard pixmap
	paths.  This was accidentally removed during the rewrite of
	GnomeAppHelper - my bad :-(

1998-09-21  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: added view_changed signal, similar to child_changed.
	* gnome-mdi.c (app_set_view): update active_view and active_child to
	hold new values before emitting child_changed and/or view_changed
	signals and pass old child/view as signal handler arguments. this
	seems saner since the appropriate gnome-app is already updated to
	match the new view.

1998-09-20  Raja R Harinath  <harinath@cs.umn.edu>

	* pixmaps/Makefile.am (stock_images): New variable.  Lists all the
	stock images.
	(EXTRA_DIST): Add $(stock_images).
	(BUILT_SOURCES): Add `gnome-stock-imlib.h'.
	(gnome-stock-imlib.h): Don't use wildcards, use $(stock_images).

	* Makefile.am (libgnomeui_la_SOURCES):
	Remove `pixmaps/gnome-stock-imlib.h'.

Sun Sep 20 18:40:44 1998  John Ellis  <johne@bellatlantic.net>

	* pixmaps/calculator-font.xpm: Changed to png
	* pixmaps/Makefile.am: Changed reference to above.
	* gnome-calculator.c: Changed to use the png file.
	* Makefile.am: Changed gnome-stock-imlib.h to
	pixmaps/gnome-stock-imlib.h

Mon Sep 21 00:03:03 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: removed some compiler warnings.
	GnomeStock is now a bit smarter concerning the background color for
	transparency and disabled pixmaps (for those of you who play
	around with the gtk styles).

Sun Sep 20 15:26:41 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* pixmaps/: use PNG images instead of XPMs.
	* puxmaps/Makefile.am: updated to use PNGs.

Sat Sep 19 19:37:13 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c (gnome_stock_paint): added gtk_widget_queue_draw
	* gnome-stock.[ch]: added menu versions of the timer icons

Sat Sep 19 17:24:58 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* pixmaps/Makefile.am: removed xpm2rgb which needs a Display.
	use ../../tools/convertrgb/convertrgb to build gnome-stock-imlib.h

Sat Sep 19 12:47:35 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* pixmaps/xpm2rgb.c pixmaps/stock_*.xpm: new files
	* pixmaps/Makefile.am: added generation of gnome-stock-imlib.h
	* gnome-stock.c: include pixmaps/gnome-stock-imlib.h

1998-09-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-popup-menu.c (gnome_popup_menu_new): New public function
	to create a popup menu from a GnomeUIInfo array.
	(gnome_popup_menu_attach): New public function to attach a popup
	menu to a widget -- the popup menu can be called by pressing mouse
	button 3 over the widget.  The menu can be shared between multiple
	widgets and it will be destroyed when the last widget it is
	attached to is destroyed.
	(gnome_popup_menu_do_popup): New public function to explicitly
	popup a menu.

	* gnome-app-helper.c (do_ui_signal_connect): Use
	gtk_signal_connect_full() instead of gtk_signal_connect_interp(),
	since the latter is obsolete (but works anyway...).

	* stock_demo.c:
	* gnome-stock.c:
	* gnome-number-entry.c:
	* gnome-init.c:
	* gnome-dialog.h:
	* gnome-dialog.c:
	* gnome-dentry-edit.c:
	* gnome-client.c (gnome_client_init):
	* gnome-calculator.c:
	* gnome-app.c:
	* libgnomeui.h: Removed occurrences of #ifdef GTK_HAVE_FEATURES_1_1_0.
	We require it, anyways.

	* Makefile.am: Moved all the conditional canvas files into the
	main list of sources -- they are always compiled now.

1998-09-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Makefile.am: Renamed gnome-popupmenu.[ch] to gnome-popup-menu.[ch].

1998-09-18  Sebastian Wilhelmi  <wilhelmi@ira.uka.de>

	* libgnomeui.h: corrected gnome-popupmenu.h to gnome-popup-menu.h and
	the same (but here this is only a typo, not a bug ;-) in
	gnome-popup-menu.h and gnome-popup-menu.c

1998-09-18  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app-helper.c (create_pixmap): If no pixmap has been
	provide, behave like GNOME_APP_PIXMAP_NONE.

1998-09-17  Martin Baulig  <baulig@merkur.uni-trier.de>

	* gnome-app-helper.c (do_ui_signal_connect): Store both `uiinfo->user_data'
	(GNOMEUIINFO_KEY_UIDATA) and `uibdata->data' (GNOMEUIINFO_KEY_UIBDATA) in
	the widget using gtk_object_set_data().

1998-09-17  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.[ch] (gnome_app_fill_menu_*): added a gint pos
	argument in order to reimplement broken menu insertion functions.
	(gnome_app_insert_menus_custom): use gnome_app_fill_menus_custom().
	(gnome_app_find_menu_pos): fixed to work with Federico's changes.

1998-09-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_fill_menu_custom): More function
	arguments sanity checks.
	(gnome_app_create_menus): Likewise.
	(gnome_app_create_menus_interp): Likewise.
	(gnome_app_create_menus_with_data): Likewise.
	(gnome_app_create_menus_custom): Likewise.
	(setup_accelerator): Added an argument for the signal name.
	(gnome_app_fill_toolbar gnome_app_fill_toolbar_custom): New public
	functions to fill toolbars from a GnomeUIInfo array.
	(gnome_app_create_toolbar):
	(gnome_app_create_toolbar_interp):
	(gnome_app_create_toolbar_with_data):
	(gnome_app_create_toolbar_custom): Make these functions use the
	new fill_toolbar ones.
	Removed the old #ifdef'ed functions.

1998-09-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_fill_menu
	gnome_app_fill_menu_custom): New public functions that are a
	rewrite of the menu creation code in GnomeAppHelper.  These are
	saner versions with additional goodies, like working accelerators,
	underlined shortcuts, sanity checks, etc.
	(gnome_app_create_menus):
	(gnome_app_create_menus_interp):
	(gnome_app_create_menus_with_data):
	(gnome_app_create_menus_custom): Made these functions use the new
	fill_menu code.
	The toolbar code still needs sanitizing; will do that tomorrow.

	* gnome-app-helper.h: Beautification and documentation of the
	header file.
	(GnomeUISignalConnectFunc): Removed the app parameter to functions
	of this type, as it is not needed or used.  Please make the
	appropriate changes to your language bindings and such.

	* gnome-app-helper.c: Added a little TODO list.

	* gnome-popupmenu.c: #ifdef'ed out the function bodies, since
	gnome-popupmenu is completely broken and needs rewriting.

	* gnome-canvas.c: Updates to the TODO list.

	* gnome-preferences.c (gnome_preferences_get_menus_have_icons
	gnome_preferences_set_menus_have_icons): New public functions to
	get/set whether menu items have icons in them.
	(gnome_preferences_load): Load the menus_have_icons parameter.
	(gnome_preferences_save): Save the menus_have_icons parameter.

	* gnome-rootwin.c (gnome_rootwin_expose): Return FALSE.

	* gnome-app.c: Added g_return_* sanity checks where they were missing.
	(gnome_app_set_contents): Fix the case where contents == NULL.

	* gnome-app.h: Added some comments/documentation.
	(struct _GnomeApp) Added an accel_group field -- this is the accel
	group where the window's hotkeys live.

	* gnome-app.c (gnome_app_init): Create the app window's accel
	group and attach it.

	* gnome-app.c (get_orientation): Added a small warning if the
	orientation is not matched.

Tue Sep 15 11:22:24 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_socket_realize): Add a gdk_flush()
	so that our newly created window is guaranteed to
	already have SubstructureRedirect when another app
	gets the XID.

1998-09-14  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c (gnome_mdi_remove_view): fixed view removal to
	update the menubar correctly.

Sat Sep 12 13:50:29 1998 Paul Sheer <psheer@obsidian.co.za>

	* gtkcauldron.c: Added inline labels: specified as text between
	an `(' and a `)' with no space between the `(' and the first
	text character.

	* gtkcauldron.c: Added scrollable frames: specify with the v and
	h options to the `]' of a frame. Eg `]v' or `]vh' or ']h'. See
	README.gtkcauldron for more details.

1998-09-12 Francisco Bustamante <pancho@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_do_menu_creation): added check for
	NULL moreinfo pointer in a GNOME_APP_UI_SUBTREE case.

1998-09-12  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c, gnome-mdi-child.c: changed some GTK_TYPE_POINTERs
	in parameters passed to gtk_signal_new() to gtk_widget_get_type()
	calls.

1998-09-11  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi-child.c (gnome_mdi_child_set_name): moved the
	gnome_mdi_rename_child()'s functionality here.
	* gnome-mdi.c (gnome_mdi_rename_child): removed.
	(child_list_activated_cb, gnome_mdi_set_active_view): moved
	much of the former to the latter.
	(app_set_view, app_create): when uisng GnomeUIInfo templates to
	create menus and the toolbar, the MDI menus and toolbar are now
	set up with a gnome_app_create_*_with_data() call so that relevant
	callbacks are passed a pointer to the MDI as data. in a similar
	manner the child specific menus' callbacks are passed a pointer to
	the child.

1998-09-09  Havoc Pennington  <hp@pobox.com>

	* gnome-gtk-utils.h: Cleanup. Added copyright (FSF? I guess so.)
	Added GNOME_BEGIN_DECLS (took me an hour to figure out that was
	causing gnome-- breakage). Made include guards consistent with
	other headers.

1998-09-09  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-dentry-edit.c: Protect inclusion of `gnomesupport.h' with
	NEED_GNOMESUPPORT_H.

Tue Sep  8 22:54:31 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-dentry-edit.c: Include gnomesupport.h for strndup.

1998-09-06  Martin Baulig  <martin@home-of-linux.org>

	* gnome-mdi.c (gnome_mdi_set_mode, rootwin_drop): Make the newly
	created windows have the same size the current view had before.

	* gnome-mdi.h (gnome_mdi_active_view): New function.
	(gnome_mdi_set_active_view): New function.

	* gnome-mdi.c: Renamed static `gnome_mdi_set_active_view()'
 	to `set_active_view()' and added new global function
 	`gnome_mdi_set_active_view()'.

Fri Sep 04 17:53:41 1998  George Lebl  <jirka@5z.com>

	* gnome-color-picker.c: initialize use_alpha

1998-09-03  Martin Baulig  <martin@home-of-linux.org>

	* gnome-font-selector.c (gnome_font_select_with_default): New
	function. Same as gnome_font_select () but let you give a
	default font.

Thu Sep  3 05:47:19 1998  Tim Janik  <timj@gtk.org>

	* gnome-icon-list.c (gnome_icon_list_forall): provide a _forall
	implementation instead of _foreach.

1998-09-02  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_root): Changed the return type to
	GnomeCanvasGroup, as it is more convenient that way.

	* gnome-color-picker.[ch]: New color picker that is a real
	widget.  GnomeColorSelector is now deprecated.

	* gnome-color-selector.c (gnome_color_selector_new): Added message
	of deprecation.

	* libgnomeui.h: Added gnome-color-picker.h to the list of headers.

	* Makefile.am: Added gnome-color-picker.[ch] to the sources.

1998-09-02  Martin Baulig  <martin@home-of-linux.org>

	* gnome-mdi.c (gnome_mdi_rename_child): New function. This is
	required to set the correct name in the menu item.

1998-09-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_create_toolbar_with_data,
	gnome_create_toolbar_custom): New routines to reuse the toolbar
	creation code without having the toolbar be attached by default.

1998-08-28  Havoc Pennington  <hp@pobox.com>

	* gtklayout.c (gtk_layout_move): Fix infinite loop (add
	g_list_next on each iteration).

1998-08-25  Havoc Pennington  <hp@pobox.com>

	* gnome-canvas.h (gnome_canvas_item_set_valist): New function
	takes a va_list as argument.
	* gnome-canvas.c (gnome_canvas_item_set): Implement in terms of
	set_valist.

Wed Aug 26 00:50:27 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-app.c (gnome_app_reparent_handle_box): Declare to avoid
	warnings.

	* gnome-propertybox.c (gnome_property_box_init): Changed calls to
	reflect typo fix.
	* gnome-preferences.h: Declare
	gnome_preferences_get_property_box_apply,
	gnome_preferences_set_property_box_button_apply.
	* gnome-preferences.c (gnome_preferences_get_property_box_apply):
	Renamed to fix typo.

1998-08-25  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	Fixed a bug waiting to happen on my previous change: Specifically,
	UI-properties would have been the only victim (change of the style
	of a gnome-propertybox while using it).

	* gnome-propertybox.c (gnome_property_box_init): Implement support
	for OK/CANCEL/HELP vs OK/APPLY/CLOSE/HELP modes.

	* gnome-preferences.c (gnome_preferences_load): Activate the code
	for the preference dialog box configuration.

1998-08-24  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcauldron.c (gtk_dialog_cauldron_parse): Use
	gtk_window_position on the created dialog box.

Mon Aug 24 22:51:50 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_socket_realize): Use
	gtk_widget_get_parent_window() to get the parent window.

Mon Aug 24 19:01:02 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_socket_size_request/allocate): Don't
	need to assert that the widget->window != NULL.

Mon Aug 24 23:43:47 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-imlib.h: added convert and jump_to icons
	* gnome-stock.h: added defines for the new icons
	* gnome-stock.c: added entries for the new icons
	added some `const's and (char *) typecasts to let gnome-stock
	compile without warnings with -Wall
	* stock_demo.c: added convert and jump_to icons

1998-08-24  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_rightclick_menubar,
	gnome_app_rightclick_toolbar):  Make the handleboxes reparent on
	double click.

Mon Aug 24 07:53:53 1998  Tim Janik  <timj@gtk.org>

	* gnome-canvas.c (gnome_canvas_item_construct): added a
 	const gchar *first_arg_name, to the prototype which is required by
	gtk_object_args_collect(). pass va_list by value. unfortunately this
 	change is source incompatible ;(
	(gnome_canvas_item_new): added first_arg_name, to pass to
	gnome_canvas_item_construct, source compatile change.
	(gnome_canvas_item_set): added first_arg_name, to pass to
	gtk_object_args_collect. pass va_list by value.

	* gnome-net.c (gnome_net_printf): use g_strdup_vprintf() instead of
	g_vprintf().

1998-08-21  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c: Fixed the new compiler warnings.

1998-08-21  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcauldron.c (gtk_cauldron_button_exit): Used gtk_main_quit for
	terminating the dialog instead of destroying the window, as the
	code expects the window to be valid after the cauldron main
	loop.
	(gtk_dialog_cauldron_parse): Hook to the delete_event instead of
	destroy (as we do the destroy always after gtk_main).

Fri Aug 21 18:28:43 1998  Jonathan Blandford  <jrb@redhat.com>
	* gtk-plug.[ch]:
	(gtk_plug_construct): New function.

Thu Aug 20 19:06:19 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-dentry-edit.c: Include <ctype.h>.
	(gnome_dentry_edit_split): New function.
	(gnome_dentry_edit_sync_dentry): Use it.

Thu Aug 20 19:22:47 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_socket_claim_focus): Yet another fix
	for when the plug window hasn't appeared yet.

Thu Aug 20 18:40:38 1998  Owen Taylor  <otaylor@redhat.com>

	* winhints_demo.c gnome-wmhints.[ch]: Removed
	excess header file includes from gnome-wmhints.h,
	fixed a few things so the result compiles.

1998-08-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c: Updates to the to-do list.

	* gnome-canvas-text.c (gnome_canvas_text_class_init): Added
	clip_width, clip_height, clip, x_offset, and y_offset arguments.
	These are used to define an optional clip rectangle and offset
	distance for the text.  Please see the comments in
	gnome-canvas-text.h for an explanation of these.
	(split_into_lines): Added support for multiline text; this
	function splits the text into an array of lines.
	(gnome_canvas_text_draw): Changed to draw
	multiline/justified/clipped text.
	(gnome_canvas_text_point): Modified to calculate the distance to
	multiline clipped text.

Thu Aug 20 15:44:22 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_socket_filter_func): Small
	improvement to CreateNotify handling.

Thu Aug 20 15:23:58 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c (gtk_socket_filter_func): We seem to
	be getting ConfigureRequests before CreateNotify when
	our plug window is added, so we need to handle them.

Wed Aug 19 18:21:24 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk-socket.c: Don't process focus requests when we don't have
	have a plug.

Wed Aug 19 13:33:31 EDT 1998 The Rasterman <raster@redhat.com>
	* gnome-rootwin.c - removed lots of unecessary event mask entries for
	the root window widget - made it have dummy (do nothing) draw and
	expose handlers. Now it works correctly with themes.

1998-08-18  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-propertybox.c (gnome_property_box_append_page): Wonder why
	this routine was tagged as deprecated.  Make it legal to use
	again.

1998-08-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_get_arg):
	* gnome-canvas-text.c (gnome_canvas_text_get_arg):
	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_get_arg): Return a
	malloc()ed color for the color arguments.

Tue Aug 18 06:41:47 1998  Tim Janik  <timj@gtk.org>

	* gnome-init.c (our_gtk_options): added --gtk-module, and a few
	descriptions.
	(our_gtk_parse_func): fix for the flag name lookup in g_strconcat(),
	which was referring to the option name off-by-one.

1998-08-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_get_arg): Made the
	fill_color_gdk argument read/write.

	* gnome-canvas-text.c (gnome_canvas_text_get_arg): Made the
	font_gdk and fill_color_gdk arguments read/write.

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_get_arg): Made the
	fill_color_gdk and outline_color_gdk arguments read/write.

1998-08-14  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-text.c (gnome_canvas_text_class_init): The font
	argument should be of type GTK_TYPE_GDK_FONT.

Wed Aug 12 18:33:15 EDT 1998 Gregory McLean <gregm@comstar.net>

	* gnome-app-helper.c: Adjusted the GNOME_PIXMAP_FILENAME
	stuff to do a gnome_pixmap_file() on the file name passed in
	otherwise you wind up doing all sorts of silly stuff to maintain
	good code.. Anyone have a better soultion?

Wed Aug 12 14:48:24 1998  Owen Taylor  <otaylor@redhat.com>

	* gnome-stock-imlib.h: Made all gnome stock pixmaps
	  const. (Makes >100k more memory shared between gnome apps)

Wed Aug 12 18:01:30 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: 1st go at a rewrite of the gnome stock widget.
	Because of a new widget (GnomeStock) some apps might get minor
	problems. The majority of the apps should work though.

Tue Aug 11 23:35:58 1998  Jonathan Blandford <jrb@mit.edu>
	* gnome-app.c: added GTK_SHRINK to the x/y options.

1998-08-11  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_grab): Set the
	canvas->current_item to the grabbed item to force events to go to
	it.

	* gnome-canvas-widget.h:
	* gnome-canvas-line.h:
	* gnome-canvas-image.h:
	* gnome-canvas-text.h:
	* gnome-canvas-rect-ellipse.h:
	* gnome-canvas.h: Documentation fixes and additions.  Added
	descriptions of object arguments.

1998-08-10  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_set_arg): Added
	fill_color_gdk and outline_color_gdk arguments.  The argument's
	value is a pointer to an already-allocated GdkColor.

	* gnome-canvas-text.c (gnome_canvas_text_set_arg): Added font_gdk
	and fill_color_gdk arguments.  The argument values are a pointer
	to a GdkFont and an already-allocated GdkColor, respectively.

	* gnome-canvas-line.c (gnome_canvas_line_set_arg): Added
	fill_color_gdk argument.

Sun Aug 09 14:37:58 1998  George Lebl  <jirka@5z.com>

	* gnome-about.c: draw the pixmap with the correct clip mask

1998-08-07  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_reconfigure):
	* gnome-canvas-text.c (gnome_canvas_text_reconfigure):
	* gnome-canvas-image.c (gnome_canvas_image_reconfigure):
	* gnome-canvas-line.c (gnome_canvas_line_reconfigure):
	* gnome-canvas-widget.c (gnome_canvas_widget_reconfigure): Call
	the parent class reconfigure method at the start of the overriden
	method.

1998-08-06  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-preferences.[ch]: added MDI preferences.
	* gnome-mdi.h: changed the GnomeMDIMode enums a bit: this requires
	recompiling any apps using MDI.
	* gnome-mdi.c: take UI properties into account.

1998-08-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c:
	* gnome-canvas-image.c:
	* gnome-canvas-text.c:
	* gnome-canvas-rect-ellipse.c: Call the parent class
	realize/unrealize/map/unmap methods in the overriden methods.

Wed Aug  5 23:08:53 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock*: added tigert's undelete icon, changed yes/no buttons,
	added prev/next button with images from back forward.

Wed Aug  5 12:47:01 1998  Owen Taylor  <otaylor@redhat.com>

	* gnome-stock.c (gnome_stock_pixmap_widget_realize): A widget
	  is not allowed to changed it's requisition during the
	  realize() method. Moved initial pixmap setting into
	  new(). (Past changes have eliminated the need to
	  have everything realized first.) This should keep
	  gtk_vbox_size_allocate() from getting confused. But
	  the entire widget needs to be rewritten from scratch,
	  as a bin instead of the current GtkVBox hack.

	* gnome-app-helper.c (gnome_app_do_menu_creation): Removed
	  unecessary realize().

1998-08-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtklayout.c (gtk_layout_size_allocate): Move_resize the
	bin_window, not just resize it.  This is for when we have parents
	that do funky size allocation, because the bin_window may not act
	as expected as it has the gravity bits set.

Wed Aug  5 11:19:56 1998  Owen Taylor  <otaylor@redhat.com>

	* gnome-dialog.c (gnome_dialog_destroy): Don't remove
	  the accelerator group - GTK+ handles it for us.

	* gnome-app.c gnome-app-helper.c: Added gtk-1.1 code to check
	  if AccelGroup is already attached before attaching it
	  again.

1998-08-04  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtkcauldron.c: Fixup includes.
	(user_callbacks): Made static.
	Fixed for Gtk-1.1.  Could someone please test that it runs?  I
	only fixed it for compilation.

	* gtkcauldron.h: Fixup includes.

	* libgnomeui.h: #include "gnome-number-entry.h"

	* gnome-canvas.c (gnome_canvas_button):
	(gnome_canvas_motion):
	(gnome_canvas_expose):
	(gnome_canvas_key):
	(gnome_canvas_crossing): Only do stuff if the event window is the
	same as the canvas->layout.bin_window.

	* gnome-canvas-widget.[ch]: New widget item type for GnomeCanvas.
	It still needs to be debugged.

	* Makefile.am: Added gnome-canvas-widget to the sources.

	* libgnomeui.h: Added gnome-canvas-widget.h to the list of headers.

	* gnome-canvas-image.c (gnome_canvas_image_set_arg): Take the
	absolute value of the width/height arguments.

1998-08-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_draw): Use the zoom offsets when
	calculating coordinates.
	(gnome_canvas_expose): Likewise.
	(paint): Likewise.
	(gnome_canvas_set_scroll_region): Likewise.
	(gnome_canvas_set_pixels_per_unit): Likewise.
	(pick_current_item): Likewise.
	(window_to_world): Likewise.
	(scroll_to): New internal function to scroll the canvas to a new
	position.  It takes care of adjusting the scroll offset and zoom
	offset to keep as much as possible of the canvas scrolling region
	in view.
	(gnome_canvas_scroll_to): Use the new scroll_to function.
	(gnome_canvas_set_pixels_per_unit): Likewise.
	(gnome_canvas_set_scroll_region): Likewise.
	(gnome_canvas_size_allocate): Reset the adjustment page_size and
	page_increment.

	* gnome-canvas.h (struct _GnomeCanvas): New fields zoom_xofs and
	zoom_yofs.  These are used to track the inset offsets to use when
	the canvas is zoomed out.

1998-08-03  Jaka Mocnik <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.h: new GnomeMDI member tab_pos: stores the desired tab
	position of MDI notebook widgets.
	* gnome-mdi.c (gnome_mdi_set_tab_pos): sets the desired tab position
	for MDI notebook widgets.
	(book_create): set the desired tab position of created notebook widgets.

1998-08-02  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (gnome.defs): Simplify rule by using `cd $srcdir'
	before doing any of the stuff.
	(gnometypebuiltins{.h,_vars.c,_ids.c,_evals.c}: Likewise.
	* makeenums.pl (parse_entries): `srcdir' is now not passed in the
	environment.

1998-07-31  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_set_scroll_region):
	(gnome_canvas_set_pixels_per_unit): Use gtk_layout_freeze/thaw().
	(DISPLAY_X1): Use the layout->xoffset value instead of the
	adjustment value.
	(DISPLAY_Y1): Likewise.
	(gnome_canvas_get_scroll_region): New public function to query the
	scrolling limits of the canvas.

	* gtklayout.c (gtk_layout_freeze):
	(gtk_layout_thaw): Added public freeze/thaw functions for
	GtkLayout.  These disable/enable moving and repainting of the
	bin_window of the layout, respectively.
	(gtk_layout_position_children): New private function to reposition
	all the children in the layout.
	(gtk_layout_adjustment_changed): Don't do anything but update the
	offsets if it is frozen.  Use gtk_layout_position_children().

	* gtklayout.h (struct _GtkLayout): Added frozen field.

1998-07-31  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

        * gnome-mdi-child.h: GnomeMDIChild now has a pointer to his
	parent MDI [if it exists].
	* gnome-mdi.[ch] (gnome_mdi_update_child): new public function.
	for now all it updates are the children's names.
	* gnome-mdi.c (gnome_mdi_add_child, gnome_mdi_remove_child):
	take care of updating the child's parent pointer.
	(find_page_by_widget): new private convenience function.
	* gnome-mdi-child.c (gnome_mdi_child_set_name): call
	gnome_mdi_update_child().

1998-07-30  Mark Crichton  <crichton@expert.cc.purdue.edu>

	* gnome-popupmenu.c (gnome_app_create_popup_menus_custom):
	The old reparent there was a bad thing.  Changed to a
	container_add.  Mem leak still exists,will be fixed soon.
	(gnome_app_create_popup_menus): Changed #if to #ifdef so
	code would actually compile correctly.

	Popup menu code is now "stable" for general testing now.  If
	anyone can fix thebad display-ish bug I'm having, I'd appreciate
	leads.

1998-07-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-init.c: Fixup includes.

	* gnome-canvas.c (gnome_canvas_scroll_to): Re-added the
	gnome_canvas_scroll_to() function.  It changes the scroll offset
	by emitting the proper signals, and takes care of all the gritty
	details.
	(gnome_canvas_get_scroll_offsets): New public function to query
	the scroll offsets of the canvas.

1998-07-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	OK, some semi-major changes.  The canvas is now a descendant of
	GtkLayout, which does smooth scrolling a la Mozilla (so that
	subwindows of the window you are scrolling do not trail behind
	when you scroll).

	There are some problems left with setting the adjustments to
	reasonable values when the canvas is zoomed in; I will be fixing
	that shortly.

	Please read the changes below to see what needs to be done for
	stuff derived from the canvas.

	* gtklayout.[ch]: Added the supercool GtkLayout container to the
	source tree.

	* gtklayout.c (gtk_layout_adjustment_changed): Do not do any
	window-related operations if the widget is not mapped.

	* Makefile.am: Added gtklayout.[ch] to the sources.

	* libgnomeui.h: Added gtklayout.h to the list of headers.

	* gnome-canvas.[ch]: The GnomeCanvas widget now descends from
	GtkLayout.  Made the necessary changes to the Gtk-related
	functions to make this happen.

	* gnome-canvas.h (struct _GnomeCanvas): Removed the bg_pixel and
	bg_set fields.  Also, removed the display_x1 and display_y1 fields
	-- these can now be queried from the
	canvas->layout.hadjustment->value and vadjustment fields.

	* gnome-canvas.h: Removed the gnome_canvas_scroll_to() function.
	The scroll offset can now be set using the parent layout's
	adjustments.

	* gnome-canvas.h (struct _GnomeCanvas): Removed the visual and
	colormap fields.

	* gnome-canvas.h: gnome_canvas_new() now takes zero arguments --
	it will use the proper Gtk visual and colormap (settable by using
	gtk_widget_push_visual() and gtk_widget_push_colormap()).

	* gnome-canvas.h: Removed the gnome_canvas_construct() function.

	* gnome-canvas.c (gnome_canvas_construct): Removed this function
	and moved the useful parts to gnome_canvas_init().
	(gnome_canvas_new): Now just creates the object and returns it as
	is -- now all initialization can be done in gnome_canvas_init().

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_realize): Use the
	canvas->layout.bin_window.
	* gnome-canvas-text.c (gnome_canvas_text_realize): Likewise.
	* gnome-canvas-image.c (gnome_canvas_image_realize): Likewise.

1998-07-29  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (EXTRA_DIST): Add `gnome.defs', make{types,enums}
	scripts, and gnometypebuiltins_{vars,ids,evals}.c.

1998-07-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_set_arg): When re-setting
	the coordinates of the line, drop the arrowhead polygons if they
	exist, as they need to be regenerated.

	* gnome-canvas-line.c (reconfigure_arrows): Do not do anything if
	the line does not have any points at all.
	(recalc_bounds): Only grow the bounds to include the arrows if the
	arrows have been defined yet.

	* gnome-canvas-line.c (reconfigure_arrows): Do not scale the
	arrows when the width of the line is specified in (unchanging)
	pixels, to be consistent with the rest of the canvas.
	(gnome_canvas_line_point): Adjust the effective width of the line
	for the distance-to-point calculation so that even lines that are
	logically less than one pixel thick can be picked up.

1998-07-29  Havoc Pennington  <hp@pobox.com>

	* gnome-icon-list.h, gnome-icon-list.c: Put const on char* args.

1998-07-28  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_draw): Draw the
	arrowheads if they exist.
	(reconfigure_arrows): New function used to recompute the arrowhead
	polygons.

	* gnome-canvas-line.c (recalc_bounds): Doh.  Call
	gnome_canvas_group_child_bounds() to notify the line's parent of
	the changed bounds.

	Added standard Gtk functions for querying object arguments:

	* gnome-canvas.c (gnome_canvas_group_get_arg): New function.
	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_get_arg): New function.
	* gnome-canvas-text.c (gnome_canvas_text_get_arg): New function.
	* gnome-canvas-line.c (gnome_canvas_line_get_arg): New function.

	* gnome-canvas.c (gnome_canvas_request_redraw): Do not do anything
	if the widget is not drawable.

1998-07-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_destroy): Doh, forgot to
	assign line.

	* gnome-canvas.c (item_post_create_setup): Moved
	realization/mapping from here to group_add().
	(group_remove): Unmap/unrealize the child here as well.  This is
	in preparation for the reparent functions of the canvas.

	* gnome-canvas.h: Added realized and mapped flags for items.
	Sigh, I thought I would not be needing them.

	* gnome-canvas.c (gnome_canvas_item_shutdown): Only
	unmap/unrealize the item if appropriate.

	* gnome-canvas.c (gnome_canvas_group_realize):
	(gnome_canvas_group_unrealize):
	(gnome_canvas_group_map):
	(gnome_canvas_group_unmap): Use the realized/mapped flags to see
	which children to operate on.

	* gnome-canvas.c (gnome_canvas_item_shutdown): Unmap/unrealize the
	item before unparenting it.
	(group_remove): Rewrote for sanity's sake.
	(gnome_canvas_item_shutdown): Reset the canvas current_item and
	new_current_item to null.
	(gnome_canvas_group_destroy): Proper destruction of the list of
	children.

1998-07-27  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.c (gnome_app_find_menu_pos): fixed a bug with
	multiple items with same prefixes in a menu.

Sun Jul 26 13:31:27 1998  Tom Tromey  <tromey@cygnus.com>

	Some `-Wall -Wmissing-declarations' fixes:
	* gnome-scores.c (gnome_scores_new): Changed type of `buttons' to
	match gnome_dialog_constructv prototype.
	* gnome-popupmenu.c (gnome_app_create_popup_menus_custom): Removed
	unused variables.
	* gnome-lamp.c (type_hash): Now static.
	* gnome-init.c: Include libgnomeui/libgnomeui.h.
	(gnome_init): Protect segv code with USE_SEGV_HANDLE.
	(gnome_segv_handle): Likewise.
	* gnome-icon-sel.c: Include <string.h>.
	* gnome-entry.c (gnome_entry_load_history): Removed unused
	variable.
	(gnome_entry_save_history): Likewise.
	* gnome-dns.c (gnome_dns_server_req): Now static.
	(gnome_dns_create_server): Likewise.
	(gnome_dns_callback): Likewise.
	* gnome-dialog-util.c: Include gnome-dialog-util.h.
	* gnome-client.c (client_set_prop_from_array_with_arg): Added cast
	to avoid warning.
	* gnome-app-helper.c (gnome_app_add_radio_menu_entries): Always
	return a value.
	(gnome_app_add_help_menu_entries): Likewise.
	(gnome_app_insert_menus_custom): Removed unused variable.
	* gnome-appbar.c: Include libgnomeui/gnome-preferences.h.
	* gnome-app.c: Include libgnomeui/gnome-preferences.h.

1998-07-27  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: removed some unused variables and functions and
	fixed some things that I forgot during the previous commit.
	Thanks go to Tom Tromey for pointing things out and sending a patch.

1998-07-26  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app.c: don't use GTK_SHRINK flag when attaching toolbar,
	menubar or statusbar. it seems nicer if these don't shrink when
	the GnomeApp itself is shrunk.
	* gnome-mdi.h: changed GNOME_MDI_* mode flags to enums.
	* gnome-mdi.c (book_create): make the notebook scrollable: this fixes
	the problem with lots of children in notebook mode.
	(app_create): allow growing and shrinking of GnomeApps.
	(gnome_mdi_get_app_from_view, gnome_mdi_get_child_from_view):
	convenience functions for getting the GnomeMDIChild or GnomeApp data
	from an associated view.
	* gnome-mdi-child.h: removed VIEW_GET_* macros. they have been obsoleted
	by the gnome_mdi_get_*_from_view() functions.
	* gnome-mdi.[ch] (gnome_mdi_register, gnome_mdi_unregister): these
	functions should make life easier if an application opens windows
	that should "keep the app alive" even if there are no MDI windows
	open. any such windows should be registered with the MDI: as long
	as there is a window registered, the MDI will not destroy itself
	(even if the last of the MDI windows is closed). balsa's Mailbox List
	window comes to mind as an example.

Fri Jul 24 19:54:43 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-scores.c (gnome_scores_new): Use construct to set
	the title and buttons.

        * gnome-app-util.c: Switch to parented dialogs.

	* gnome-dialog-util.h, gnome-dialog-util.c: Added "parented"
	versions of these. The old versions are not really necessary
	anymore because you can just pass NULL for parent, but they
	save typing I guess.

	* gnome-preferences.h: New functions for dialog position, whether
 	to attempt dialog-over-parent centering, whether dialogs are
 	TOPLEVEL or DIALOG.

	* gnome-dialog.c (gnome_dialog_newv): Remove unused variable.
	(gnome_dialog_set_parent): New function, allows setting a parent
	the dialog should be centered over.

Sat Jul 25 02:51:12 1998  Simon Kagedal  <simon@sdf.se>

 	* gnome-scores.c, gnome-scores.h:
 	made the GnomeScore dialog inherit from GnomeDialog
 	instead of GtkWindow

1998-07-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (emit_event): When there is a grabbed item, the
	event should also be propagated upwards in the item hierarchy, not
	just when the current item is actually the grabbed item.
	(is_descendant): New function that returns whether an item is a
	descendant of some parent group.

	* gnome-canvas-line.c (gnome_canvas_line_point): Fixed effective
	width calculation.  Doh.

	* gnome-canvas-util.c (gnome_canvas_polygon_to_point): Fixed typo
	(y -> py).

	* gnome-canvas-line.c (gnome_canvas_line_translate): Implemented
	translate method.
	(recalc_bounds): Doh.  Fixed off-by-one error when growing
	bounding box.

	* gnome-canvas-util.c (gnome_canvas_get_miter_points): Fixed typo
	(x2 -> x3).

	* gnome-canvas-line.c (gnome_canvas_line_point): When on the last
	edge, projecting the butt points depends on whether we are using
	GDK_CAP_PROJECTING.

Fri Jul 24 02:34:31 1998  John Ellis  <johne@bellatlantic.net>

	* gnome-dentry-edit.c:
	(gnome_dentry_edit_sync_display): now update icon select dialog too.
	(static void gnome_dentry_edit_sync_dentry): if text fields are blank,
	set the corresponding dentry pointer NULL to avoid blank entries in
	the .desktop files.
	(gnome_dentry_edit_set_icon): now no icon sets the dentry->icon pointer
	NULL instead of "", like the above this avoids blank entries.

Thu Jul 23 00:59:23 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: added `first' and `last' icons from gnomecard.

1998-07-22  Havoc Pennington  <hp@pobox.com>

	* gnome-stock.h: #include "gnome-pixmap.h" rather than
  	<libgnomeui/gnome-pixmap.h>

	* gnome-pixmap.h: #include gnome-defs.h so that this file
	can be included without the rest of libgnomeui (e.g. in
	gnome--)

1998-07-21  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.c (gnome_canvas_line_point): Finished
	implementing distance-to-point method.  It is a bit buggy, I will
	test it tomorrow.

	* gnome-canvas-util.c (gnome_canvas_get_miter_points): New public
	function to calculate the butt points of a line segment.
	(gnome_canvas_polygon_to_point): New public function to compute
	the distance between a polygon and a point.

	* gnome-canvas-line.c (recalc_bounds): We can only calculate
	mitered points up to (line->num_points - 3).
	(gnome_canvas_line_draw): Use pointer arithmetic instead of
	calculating indices explicitly.
	(recalc_bounds): Likewise.

Mon Jul 20 22:41:29 1998  John Ellis  <johne@bellatlantic.net>

	* gnome-dentry-edit.c (gnome_dentry_edit_sync_display): fix segfault
	when dentry->exec should be empty, but isn't. hmm...
	(gnome_dentry_edit_set_icon): fix when clearing by setting it "".

Mon Jul 20 17:30:12 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_init): Only reallocate buffer if
	errno is ERANGE.

Sun Jul 19 23:07:38 1998  George Lebl  <jirka@5z.com>

	* gnome-propertybox.c: fix the {set,get}_data calls, they now use
	  the proper object

1998-07-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_construct
	gnome_canvas_item_constructv): Removed the unused type parameter.

	* gnome-canvas-line.c (recalc_bounds): Implemented the
	bounds-calculation routine.

	* gnome-canvas-util.c (gnome_canvas_get_miter_points): New public
	function to compute the miter points of a line's corner.

	* gnome-canvas-line.c (gnome_canvas_line_destroy): Free line
	structure's fields properly.
	(gnome_canvas_line_draw): Optimization: use a static array of
	points instead of allocating one, when possible.

Sun Jul 19 22:54:12 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-canvas.h, gnome-canvas-c: Added
	gnome_canvas_item_construct,
	gnome_canvas_item_constructv

Sun Jul 19 18:06:38 1998  Tom Tromey  <tromey@cygnus.com>

	Reverted change of July 7:
	* gnome-client.c (gnome_client_save): Removed.
	(gnome_client_restart_session): Removed.
	* gnome-client.h (gnome_client_save,
	gnome_client_restart_session): Removed.

1998-07-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_raise
	gnome_canvas_item_lower): Do not accept values less than 1.
	(gnome_canvas_item_raise_to_top
	gnome_canvas_item_lower_to_bottom): New public functions to
	raise/lower an item to the top/bottom of its parent's z-order,
	respectively.

	* gnome-canvas-rect-ellipse.c (gnome_canvas_rect_draw
	gnome_canvas_ellipse_draw): Made a little optimization when
	converting item coordinates to canvas pixel coordinates.

	* Makefile.am: Added gnome-canvas-line and gnome-canvas-util to the
	sources.

	* gnome-canvas.c (gnome_canvas_item_new gnome_canvas_item_newv):
	Removed the canvas parameter passed to these functions.  It is not
	needed, as we can extract the canvas from the parent item parameter.

1998-07-19  Havoc Pennington <hp@pobox.com>

	* gnome-appbar.h, gnome-appbar.c: Add construct function.

Sat Jul 18 20:25:28 1998  George Lebl  <jirka@5z.com>

	* gnome-propertybox.[ch]: cleaned up the way the notebook
	  page "dirty" flags are handeled, now one should just use
	  gtk_notebook functions on the ->notebook item in the
	  struct

Sat Jul 18 20:26:40 1998  John Ellis  <johne@bellatlantic.net>

        * gnome-dentry-edit.c (gnome_dentry_edit_load_file): changed
        gnome_desktop_entry_load to unconditional.

Sat Jul 18 12:42:09 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c (gnome_dialog_constructv): Use append_button,
	not append_buttons without NULL termination.
	(gnome_dialog_construct): Same.
	(gnome_dialog_new): Reverted last change. Use the construct
 	function rather than cut-and-pasting it.

1998-07-18  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch] (gnome_mdi_find_child): made the function
	public.
	* gnome-mdi.c: added some g_return_if_*() checks in all the
	public functions and removed some ancient parts of code that
	did nothing.

1998-07-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Added gnome-canvas-line.[ch] to the build process.

Fri Jul 17 14:48:14 1998  John Ellis  <johne@bellatlantic.net>

	* libgnomeui.h:
        * Makefile.am: Added gnome-dentry-edit.[ch] and
	gnome-icon-sel.[ch] so they can be used in gmenu. They have been
	collecting dust, so it's about time :)

1998-07-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-line.[ch]: Beginnings of a polyline/curve item for
	the canvas.  It is not in the compilation process yet.

	* gnome-canvas-util.[ch]: New files with miscellaneous public
	utility functions for the canvas.

	* gnome-canvas-rect-ellipse.c (gnome_canvas_rect_draw): Fixed
	off-by-one error when painting unfilled rectangles.  Stupid X
	weird semantics.
	(gnome_canvas_ellipse_draw): Likewise for ellipses.  Gotta hate X.

Thu Jul 16 23:14:00 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-about.h, gnome-about.c (gnome_about_new):
 	const-correctness.
	(gnome_about_construct): new function.

1998-07-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-image.c (gnome_canvas_image_set_arg): Do not reset
	the width and height when the image is changed.  This makes
	updating an existing image easier.
	(gnome_canvas_image_destroy): Oops, the parent class destroy
	method was not being called.

	* gnome-canvas.c (gnome_canvas_item_grab): Test the return value
	of gdk_pointer_grab() before actually setting the grabbed item in
	the canvas structure.
	(gnome_canvas_item_raise gnome_canvas_item_lower): New public
	functions used to raise and lower items in their parent's z-order.

Wed Jul 15 22:31:58 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-popupmenu.h, gnome-popupmenu.c (__GNOME_POPUPMENU_H__):
 	added include guards, and LGPL. The author needs to put in the
	copyright owner, I didn't want to assume FSF.

        * gnome-appbar.c (entry_insert_text_cb): Don't use
	gtk_editable_get_position with Gtk 1.0

1998-07-15  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-popupmenu.c (gnome_app_create_popup_menus): Declare `void'
	return type.
	(gnome_app_create_popup_menus_custom): Likewise.
	* gnome-popupmenu.h: Coressponding changes.  Also add
	{BEGIN,END}_GNOME_DECLS gaurds.

Wed Jul 15 19:14:44 1998  Havoc Pennington  <hp@pobox.com>

	* TODO: Updated.

1998-07-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.h (GnomeCanvas): New field, grabbed_item, points to
	the item that holds the active pointer grab.

	* gnome-canvas.c (gnome_canvas_item_grab
	gnome_canvas_item_ungrab): New public functions; perform a mouse
	grab on the specified item.  These are pretty much like
	XGrabPointer() and XUngrabPointer(), respectively.

	* gnome-canvas.c (emit_event): If there is a grabbed item, check
	that it is the current item for emission.

	* gnome-canvas.c (shutdown_transients): New function, remove the
	idle handler and ungrab the mouse.

	* gnome-canvas.c (gnome_canvas_unmap): Use shutdown_transients().
	* gnome-canvas.c (gnome_canvas_unrealize): Likewise.

	* gnome-canvas-image.h (GnomeCanvasImage): New need_recalc flag --
	specifies whether we need to rescale the image when needed.

	* gnome-canvas-image.c (gnome_canvas_image_reconfigure): Just turn
	on the need_recalc flag, do not actually do the rescaling work here.

	* gnome-canvas-image.c (recalc_if_needed): Rescale the image and
	fetch the pixmap/mask if needed.

	* gnome-canvas-image.c (gnome_canvas_image_draw): Use recalc_if_needed().
	* gnome-canvas-image.c (gnome_canvas_image_point): Likewise.

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_set_arg): Do not
	recalc bounds unnecessarily.
	* gnome-canvas-image.c (gnome_canvas_image_set_arg): Likewise.

	* gnome-canvas.c (gnome_canvas_construct): Ref/sink root item.
	(group_add): Ref/sink item.
	(group_remove): Unref item.
	(gnome_canvas_destroy): Unref root item.

Tue Jul 14 22:47:33 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-app.h, gnome-app.c, gnome-dialog.h, gnome-dialog.c:
	Added "construct" functions. The gnome-dialog one takes a va_list
	which is kind of weird; if there's a good alternative I'd like
	to use it instead.

1998-07-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (paint): Fixed off-by-one bug in the rectangle
	coordinates comparison.
	(gnome_canvas_new): Use the construct function.
	(gnome_canvas_construct): New public function; constructor useful
	for derived classes and language bindings.

	The canvas no longer supports unattached item sets, since the
	application can take care of a list of arbitrary items by itself.
	Only hierarchical groups are supported now.

	(gnome_canvas_group_new): Removed this function.
	(group_add): Made static and renamed from gnome_canvas_group_add.
	(group_remove): Made static and renamed from gnome_canvas_group_remove.

1998-07-13  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c (gnome_mdi_add_view): check if view has been successfully
	added to the child.
	* gnome-mdi-child.c (gnome_mdi_child_add_view): check if view has been
	successfully created.

Sun Jul 12 22:57:55 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-app-util.c: Implementations for interactive appbar
	and appbar progress bar.
	* gnome-app-util.h: Change set_progress to use gdouble rather
	than gfloat.
	* gnome-appbar.h, gnome-appbar.c: Try implementing interactive
	minibuffer with a GtkEntry hack. It doesn't work so good; think of
	it as a prototype.
	* gnome-types.h: GnomePreferencesType enum
	* gnome-dialog-util.c: Use set_modal instead of grab_add for modal
	dialogs; this fixes a bug (the "modal" dialogs weren't).

Fri Jul 10 10:19:38 1998  Tim Janik  <timj@gtk.org>

	* gnome-app-helper.c (gnome_app_do_menu_creation):
	* gnome-stock.c (gnome_stock_menu_item):
	create GtkAccelLabel if GTK_HAVE_ACCEL_GROUP, so accelerators are
	visible.

Fri Jul 10 08:08:45 1998  Tim Janik  <timj@gtk.org>

	* gnome-canvas.c:
 	(gnome_canvas_item_new):
	(gnome_canvas_item_set): adapted the argument collection and setting
 	code to work with the recent gtk changes.

1998-07-09  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: GnomeMDI's create_menubar and create_toolbar
	signal handlers now receive additional parameter that holds a
	pointer to the corresponding GnomeApp widget. This should be
	useful when, say, calling gnome_stock_pixmap_widget(app, ...)
	in these handlers.
	* gnome-mdi.c (rootwin_drop): open the new GnomeApp at the
	position of the mouse pointer.

1998-07-08  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_scroll_to): New public function to
	set the top-left display coordinates of the canvas.

1998-07-07  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_group_point): Fixed * and /
	confusion when coverting coordinates.

	* gnome-canvas-image.c (dist_to_mask): New function, calculates
	the distance in pixels from a point to a mask.  The point is
	considered to be "inside" the mask if it is on a white pixel.

	* gnome-canvas.c (emit_event): Convert event coordinates to world
	coordinates before emitting.

	* gnome-canvas-image.c: Scale the image properly; it wasn't working.

	* gnome-canvas-image.h (GnomeCanvasImage): New fields cwidth and
	cheight.  These represent the rendered size of the image in pixels.

1998-07-07  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c: fixed updating of active_view and active_child
	throughout the code.
	* gnome-mdi.h: made the GNOME_MDI_*_INFO_KEYs public. these allows
	users to get access of the copies of menu and toolbar templates.

1998-07-06  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas-image.[ch]: New imlib image type for the canvas.

	* libgnomeui.h:
	* Makefile.am: Added gnome-canvas-image.[ch].

	* gnome-canvas-rect-ellipse.c (gnome_canvas_re_realize):
	* gnome-canvas-text.c (gnome_canvas_text_realize): Call the
	reconfigure method instead of the explicit function.

	* gnome-canvas.c (gnome_canvas_item_move): Take care of incomplete
	item type implementations by warning about unimplemented method.
	(gnome_canvas_group_draw): Test for presence of draw method.
	(gnome_canvas_group_point): Test for presence of point method, and
	use an initialized point_item in case the method is incompletely
	implemented.
	(gnome_canvas_update_now): Now we flush the X queue here to ensure
	repaint.

	* gnome-canvas-text.c (gnome_canvas_text_translate): Implemented
	translate method for text items.

Tue Jul  7 00:03:21 1998  John Ellis  <johne@bellatlantic.net>

	* gnome-dentry-edit.c (gnome_dentry_get_dentry): fixed segfault.
	(gnome_dentry_edit_set_icon): icons now display when changed.
	* gnome-icon-sel.[ch] (gnome_icon_selection_show_icons): new
	function, call this after adding all directories so the progress
	bar updates correctly.

Mon Jul  6 22:46:58 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appbar.h, gnome-appbar.c: A tentative start at this
	widget inspired by Mozilla; eventually it will be a lot nicer
	hopefully.
        * gnome-app-util.h, gnome-app-util.c (gnome_app_set_status,
	gnome_app_push_status, gnome_app_pop_status): Removed functions.
	(gnome_app_progress_update): renamed to set_progress
	* gnome-app-util.c: Changed to use AppBar
	* libgnomeui.h, Makefile.am: Add gnome-appbar.[ch]
	* gnome-app.c: #ifdef GTK_RELIEF_NONE around toolbar relief stuff.
	* gnome-preferences.c: I mispelled the menubar handlebox config
	key.

1998-07-06  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.c (gnome_app_find_menu_pos): can look for separators.
	* gnome-mdi.c: some bugfixes.

Sun Jul  5 18:12:24 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (master_environment): Removed DISPLAY, HOME,
	PATH, LD_LIBRARY_PATH.

1998-07-06  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: added child_changed signal and did some extensive
	code clean-up ;).

1998-07-06  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.c (gnome_app_find_menu_pos): added a
	check if submenu is not NULL.
	* gnome-mdi.[ch]: removed child_menu_label and all related
	functions. now all children items are inserted where
	child_list_path points.

1998-07-05  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_update_now): New public function
	that tells the canvas to redraw itself immediately, instead of
	waiting for the idle loop.

	* gnome-canvas-text.c: New text item for the canvas, still not finished.

	* libgnomeui.h:
	* Makefile.am: Added gnome-canvas-text.[ch].

1998-07-05  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-mdi.c (app_create): Fixed a typo.

1998-07-04  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-app-helper.h (GNOMEUIINFO_JUSTIFY_RIGHT): Fixed a wrong
	order of GnomeUIInfo fields, which caused a compile error.

1998-07-03  Chris Lahey  <clahey@umich.edu>

	* libgnomeui.h: Check for GDK_HAVE_FULL_CROSSING_EVENT before
	including gnome-canvas.h and gnome-canvas-rect-ellipse.h.

Fri Jul  3 16:51:31 CDT 1998  Richard Hestilow  <hestgray@ionet.net>

	* gnome-app.c (gnome_app_set_toolbar) : Added check for
	Gtk+ support of relief features. (GTK_HAVE_RELIEF_STYLE)

Mon Jun 29 14:10:48 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-preferences.h, gnome-preferences.c
	(gnome_preferences_get_toolbar_relief,
	gnome_preferences_set_toolbar_relief): Whether the toolbar buttons
	have the beveled edge.
	* gnome-app.c (gnome_app_set_toolbar): Turn off the toolbar button
	relief if user requested it.
	* gnome-preferences.c (gnome_preferences_load): Oops, forgot to
	push a new prefix for the GnomeApp stuff, it was being saved under
	Dialog prefs.
	* gnome-dialog.h, gnome-dialog.c (gnome_dialog_run_and_die):
	Renamed to run_and_destroy - run_and_die was cute at 2 am, but
	probably not a good name. ;-)

1998-07-02  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-socket.h, gtk-plug.h: Fix prototypes

1998-07-02  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* Makefile.am (INCLUDES): Cosmetic cleanups.

	* gnome-canvas.c (gnome_canvas_destroy): Use canvas_parent_class,
	not item_parent_class on the destroy method.

Thu Jul  2 14:12:14 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock*: new icons by tigert.
	stock_demo.c: added search-replace sample icons

1998-07-02  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.c: the child-specific menu callbacks no longer
	get their GnomeMDIChild pointer passed as user data.
	gnome_mdi_get_active_view() (or mdi->active_view) and
	VIEW_GET_CHILD() macro should be used to get the pointer
	to the GnomeMDIChild in callbacks.

1998-07-02  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_item_shutdown): Implemented
	shutdown method, mostly stolen from GtkWidget.
	(gnome_canvas_item_set): Request redraw and repick.
	(gnome_canvas_item_setv): likewise
	(gnome_canvas_item_move): likewise

	Implemented reference counting for items.  It is still missing in
	several places.

1998-07-01  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c (gnome_canvas_group_child_bounds): Now can either
	add an item's bounds to the group's bounds, or rebuild the entire
	group's bounds recursively.
	(gnome_canvas_item_w2i): New function to convert from world
	coordinates to item coordinates.

	* gnome-canvas.c (gnome_canvas_group_translate): Implemented
	translate method.

	* gnome-canvas-rect-ellipse.c (recalc_bounds): Whoops, we were
	doing everything in world coordinates.  Now it takes item
	coordinates into account.
	(gnome_canvas_re_translate): Implemented translate method.
	(recalc_bounds): Don't forget to notify parent that our bounds changed.

1998-07-01  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.[ch]: changed
	"typedef struct _GnomeUIBuilderData *GnomeUIBuilderData" to
	"typedef struct _GnomeUIBuilderData GnomeUIBuilderData" and
	patched the functions using this. This will probably break some
	apps, but changes are trivial. It seems more consistent this way.

Tue Jun 30 22:02:34 PDT 1998 Manish Singh <yosh@gimp.org>

	* Makefile.am: added back in the optional gnome-canvas sources
	so they get installed too

1998-06-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c:
	* gnome-canvas.h:
	* gnome-canvas-rect-ellipse.c:
	* gnome-canvas-rect-ellipse.h: Here is the new canvas that uses
	GtkObjects for the canvas items.  It supports a hierarchical
	organization of items, and arbitrary item sets as well.  This is
	still a work in progress.  Please see the test-gnome demo for
	information on how to use this beast.

Tue Jun 30 16:13:19 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-color-selector.c: Include <stdio.h>.
	* gnome-stock.c: Include libgnome/gnome-i18nP.h.
	* gnome-mdi.c: Include libgnome/gnome-i18nP.h.
	* gnome-dateedit.c: Include libgnome/gnome-i18nP.h, <stdio.h>.
	* gtk-ted.c: Include libgnome/libgnomeP.h.
	* gnome-startup.c: Include libgnome/libgnomeP.h.
	* gnome-pixmap.c: Include libgnome/libgnomeP.h.
	* gnome-number-entry.c: Include libgnome/libgnomeP.h.
	* gnome-init.c: Include libgnome/libgnomeP.h.
	* gnome-font-selector.c: Include libgnome/libgnomeP.h.
	* gnome-entry.c: Include libgnome/libgnomeP.h.
	* gnome-dentry-edit.c: Include libgnome/libgnomeP.h.
	* gnome-client.c: Include libgnome/libgnomeP.h.
	* gnome-calculator.c: Include libgnome/libgnomeP.h.

1998-06-30  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.[ch]: Modified menu and toolbar creation functions
	to support GNOME_APP_UI_BUILDER_DATA items that supply GnomeUIBuilderData
	structure to use with the following entries until the end of the current
	GnomeUIInfo array or next GNOME_APP_UI_BUILDER_DATA item. BuilderData
	structures supplied in this manner do not affect subtrees [initial structures
	created by or supplied to appropriate gnome_app_helper__create_*() calls are
	used for this] or other GnomeUIInfo arrays at the same level.

Tue Jun 30 17:14:31 1998	Jonathan Blandford <jrb@redhat.com>
	* gnome-app-helper.c: Modified gnome_app_add_radio_menu_entries()
	to handle separators.

1998-06-29  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: dnd types now differ for each process using MDI.
	this prevents false impression that dragging a notebook page from
	MDI of one process to MDI of another will work.

1998-06-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-entry.c: Remove the prefix_list get/set stuff.

1998-06-29  Nuno Ferreira <nmrf@rnl.ist.utl.pt>

	* gnome-file-entry.c: Include config.h, do not include
	libgnomeui/libgnomeui.h, instead include libgnome/gnome-i18nP.h

Mon Jun 29 03:04:30 1998  Havoc Pennington  <hp@pobox.com>

	* TODO: Updated a little.

Mon Jun 29 02:58:15 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-preferences.h, gnome-preferences.c
	(gnome_preferences_get_toolbar_handlebox,
	gnome_preferences_set_toolbar_handlebox,
	gnome_preferences_get_menubar_handlebox,
	gnome_preferences_set_menubar_handlebox): New functions.

	* gnome-app.c (gnome_app_set_menus): Obey preferences for
	handlebox.
	(gnome_app_set_toolbar): Obey handlebox prefs.

Mon Jun 29 02:52:10 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h, gnome-dialog.c (gnome_dialog_run): Take out the
	hide stuff.
	(gnome_dialog_run_and_hide): Do what gnome_dialog_run used to do.
	(gnome_dialog_run_and_die):  Run and then destroy the dialog.
	(gnome_dialog_button_connect_object): Someone requested this.


Sun Jun 28 10:50:01 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnomeui.h: Include libgnome/gnome-parse.h, so libgnomeui.h
	can be included without first including libgnome.h.

Mon Jun 29 00:35:47 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-app-util.h, gnome-app-util.c: Implementation for all
	functions except interactive statusbar stuff. However,
	ui-properties doesn't allow you to turn on interactive statusbar
	yet, so all the functions should be usable if possibly buggy.
	Also, many of the functions changed to return the dialog created.
	* gnome-app.c: Initialize the statusbar member to NULL.
	* gnome-preferences.h, gnome-preferences.c: Add statusbar
 	vs. dialog options.
	* libgnomeui.h: Add gnome-app-util.h
	* Makefile.am: Add gnome-app-util.h, gnome-app-util.c

1998-06-28  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (make_button_toolbar): i18n strings marked;  Added
	code that still does not work for configuring toolbar settings (we
	should configure pictures/text-pictures/text-only/tooltips).

	* gnome-client.c (gnome_client_new_default): Until someone
	documents what is the procedure to use the new client stuff, I am
	removing this warning, as it apparently does the right thing.

1998-06-28  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi-child.[ch]: removed declaration of non-existing
	gnome_mdi_get_views() and removed some other stale stuff.

1998-06-28  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-scores.c: Included 'gnome-i18nP.h' instead of 'gnome-i18n.h'.

1998-06-24  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-init.c: Add a new argument handled by Gtk+.  Reindent.

1998-06-23  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: new member child_menu_label and function
	for setting it, so MDI doesn't always display Children.

Sun Jun 21 15:09:04 CEST 1998  Eckehard Berns  <eb@berns.pirma.de>

	* gnome-pixmap.[ch] (gnome_pixmap_new_from_imlib): new function
	(gnome_pixmap_new_from_imlib_at_size): new function
	(gnome_pixmap_load_imlib): new function
	(gnome_pixmap_load_imlib_at_size): new function
	(finish_load): changed to accept `int destroy', which determines
	whether the GdkImlibImage should be destroyed or not.

	The new functions make it possible to pass valid GdkImlibImages for
	GnomePixmap creations/updates.

1998-06-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c: Fixed bug where it would crash if you clicked
	on an empty icon list.  Thanks to James Henstridge
	<james@quoll.daa.com.au> for the patch.

Thu Jun 18 23:52:04 1998  George Lebl  <jirka@5z.com>

	* gnome-init.c: set up config autosyncing during gnome_init

	* gnome-entry.c: don't sync every time we want to do a set,
	  we can realy on the autosync to do it for us, this should
	  reduce cpuusage.

1998-06-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-number-entry.c: Fixup includes.

1998-06-18  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.c: changed gnome_app_add_[radio|help]_menu_entries() to
	return new pos so that insertion works properly.

Thu Jun 18 02:47:26 1998  George Lebl  <jirka@5z.com>

	* gnome-number-entry.[ch]: new entry type modeled after file
	  entry, but for numbers. has a "browse" dialog with a
	  calculator.

	* gnome-calculator.[ch]: add some new functions for more control

Thu Jun 18 00:40:27 1998  George Lebl  <jirka@5z.com>

	* gnome-entry.c: use the new gnome_config prefix list functions
	  so that gnome_entry doesn't interfere with app's prefix stack

Tue Jun 16 15:35:01 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dentry-edit.h, gnome-dentry-edit.c, gnome-icon-sel.h,
	gnome-icon-sel.c: New files.
	* gnome-pixmap.h, gnome-pixmap.c (gnome_pixmap_new_from_file,
	gnome_pixmap_new_from_file_at_size, load_file,
	gnome_pixmap_load_file, gnome_pixmap_load_file_at_size):
	const char * for filename arguments.

Sun Jun 14 13:46:09 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (INCLUDES): Look in intl source and build
	directories.

Sat Jun 13 16:46:18 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (arguments): Fixed typo.

1998-06-12  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.c: (array_insert_arg): Removed.
	(master_environment): New array.  Lists all environment variables,
 	that will set automatically to the master client.
	(gnome_client_init): Sets the environment variables listed in
 	'master_environment' and the current_directory now.
	(gnome_client_set_current_directory): Sets only one environment
 	variable instead of all.
	(client_set_prop_from_string): Include the trailing '\0' character
 	when sending strings.

	* gnome-client.h: Changed declaration of
 	'gnome_client_set_environment'.  This function now only sets one
 	environment variable and not the hole environment.
	(struct _GnomeClient): member environment now of type GList.

1998-06-10  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-calculator.c:
	* gnome-properties.c: #include <config.h>

	* gnome-pixmap.[ch]: Removed the *old* gnome_pixmap_* functions
	that predated the GnomePixmap widget.

Wed Jun 10 21:19:25 EDT 1998 Gregory McLean <gregm@comstar.net>

	* gnome-dialog-util.c : #include <config.h> (seeing as
	we went through all the trouble of detcecting all this stuff...

1998-06-10  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (EXTRA_libgnomeui_la_SOURCES): Add gnome-canva-*
	here.  These files are conditionally built.

Wed Jun 10 14:19:39 EDT 1998 Gregory McLean <gregm@comstar.net>

	* gnome-canvas-* stuff gets automaticly turned on and off
	  depending on which gtk you build against. As I'm not an auto*
	  guru I'm fairly sure its not bullet proof but it works for me.

Wed Jun 10 13:07:09 EDT 1998 Gregory McLean <gregm@comstar.net>

	* Wheee libgnomeui now compiles (with the exception of the
	  canvas stuff) under 1.0.x again. It also compiles under 1.1
	  for thoose of you that like to bleed. Please please if you
	  add code that _requires_ gtk 1.1 shield it with HAVE_DEVGTK
	  so us boring folks can continue to get stuff done.

Wed Jun 10 00:45:36 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (our_gtk_options): Added help separator entry.

Mon Jun  8 20:11:52 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dateedit.c: #include <stdlib.h> for atoi.
	(day_selected): use g_snprintf, sprintf was undeclared.

	* gnome-mdi-child.c (gnome_mdi_child_destroy): Use g_free, free
	was undeclared.
	(gnome_mdi_child_set_name): Use g_strdup, g_free.

	* gnome-mdi-child.h: Declare gnom_mdi_child_get_type()

	* gnome-mdi.c: #include "libgnome/gnome-util.h"
	Removed a bunch of unused variables.
	(app_set_title): Use g_copy_strings in place of strcat
	(app_set_active_view): Slight rewrites for "assignment in
	conditional" warning.
	(top_add_view): Same.
	(gnome_mdi_add_child): Use return_val_if_fail, for checks.
	(gnome_mdi_remove_child): Same, and a couple unused variables.

	* gnome-stock.c (gnome_pixmap_button): Use g_snprintf, fixes
	warning about undeclared sprintf.

	* gtkdial.c: Use return_val_if_fail when function returns
	something. Removed a couple of unused variables.

Mon Jun  8 19:27:17 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-less.h, gnome-less.c: Changed error handling; rather than
	have the widget report errors, return FALSE from show functions if
	there is an error and set errno if applicable.
	(gnome_less_show_file): add return value.
	(gnome_less_show_command): add return value.
	(gnome_less_show_filestream): add return value. Use fgets instead
	of fread because a book I have here says fread isn't portable. (?)
	(gnome_less_show_fd): New function, for file descriptors.
	(gnome_less_write_file): New function, writes contents to a
	filename.
	(gnome_less_write_fd): New, for file descriptor.
	(gnome_less_set_font): Put in header, no longer static. Set
	arbitrary font.
	(gnome_less_set_fixed_font): allow turning fixed font on and off.
	(gnome_less_reshow): Reshow contents with current font, etc.
	(gnome_less_fixed_font): Deprecated warning.

Mon Jun  8 19:22:03 1998  Havoc Pennington  <hp@pobox.com>

	 * gnome-app-helper.h (GNOMEUIINFO_JUSTIFY_RIGHT): New macro for a
	 struct with everything 0/NULL and type
	 GNOME_APP_UI_JUSTIFY_RIGHT. I hope this is right.

Mon Jun  8 19:19:24 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h: #include <gtk/gtkaccelgroup.h>

Mon Jun  8 19:10:24 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-geometry.h, gnome-geometry.c (gnome_geometry_string):
	New function gets a geometry string which describes a GdkWindow.
	Code comes from gnomecal.
	(gnome_parse_geometry): Use the glib types instead of standard C
	types, since I had to include gdk anyway for GdkWindow. Also, fix
	spelling of a variable name.

1998-06-08 Arturo Espinosa Aldama <arturo@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_do_menu_creation): The support for
	pixmapped menus was broken (if you tried to put menus with pixmaps
	of your own, you got warnings). This patch fixes it.

1998-06-08  Chris Lahey  <clahey@umich.edu>

	* gnome-less.h:
	* gnome-dns.c: Included stdio.h so that it would compile
	correctly.

1998-06-08  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gtkdial.[ch]: added view_only member and gtk_dial_set_view_only()
	function that makes gtkdial not respond to mouse events in case
	it is only used as display.

1998-06-05  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_rounded_box): Now we show marked files
	with a rounded box instead of a box.

Sun Jun 07 17:24:15 1998  George Lebl  <jirka@5z.com>

	* gnome-mdi.h,gnome-mdi-child.h: fix the cplusplus stuff,and
	  make it use GNOME_(BEGIN|END)_DECLS

1998-06-07  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-mdi.[ch]: a configurable MDI object.
	see gnome-hello/gnome-hello-7-mdi.c or gnome-utils/ghex for an
	example of its use.
 	* gnome-mdi-child.[ch]: an MDI child object
	* libgnomeui.h: includes above headers
	* Makefile.am: changed to include above sources in libgnomeui

1998-06-07  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.c: Inclueded 'stdarg.h'.
	(gnome_client_object_init): Preset 'static_args'.
	(gnome_client_add_static_arg): New function.  Enables one to set
 	some command line options, which will always be added to the clone
 	and restart command.
	(gnome_real_client_destroy): Free 'static_args'.
	(client_set_prop_from_array_with_arg): Includes static arguments
 	into the command line, before sending them to the session manager.
	(client_set_prop_from_glist): New function. Sets properties from a
 	list of string (Not yet used).

	* gnome-init.c: Included 'libgnomeui/gnome-client.h'. New variable
 	'client'.
	(our_gtk_parse_func): Adds the parsed gtk command line options as
 	static arguments to the master client.

	* gnome-client.h: Added 'gnome_client_add_static_arg' declaration.
	(struct _GnomeClient): Added member 'static_args'.

1998-06-06  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-init.c (gnome_init): Added 'gnome_client_init' call.

	* gnome-client.c: New variable 'gnome_client_auto_connect_master',
 	'cloned_client', 'sm_cloned_id_arg_name' and
 	'cloned_id'. 'default_client' renamed to 'master_client'. Replaec
 	'array_free' with 'gnome_string_array_free'.
 	(gnome_client_object_init): Renamed 'gnome_client_init' function.
	(master_client_connect): Renamed 'default_client_connect'
 	function.
	(master_client_disconnect): Renamed 'default_client_disconnect'
 	function.
	(gnome_client_init): Renamed 'default_client_init' function.
	(arguments): Added 'sm-cloned-id' and 'sm-disable' option.
	(client_set_prop_from_array_with_arg): New function.  Sets a
 	property from a string array and adds a additional command to the
 	commandline.
	(gnome_master_client): New function.
	(gnome_cloned_client): New function.
	(gnome_client_new_default): Added warning message.
	(client_parse_func): Added setting of restart and clone command.  Connecting to session manager when receiving ARGP_KEY_FINI.
	(gnome_client_disable_master_connection): New function.

	* gnome-client.h: New 'gnome_client_disable_master_connection',
 	'gnome_master_client' and 'gnome_cloned_client' declaration.

Thu Jun  4 14:53:55 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-lamp.h: new function gnome_lamp_set_window_type.

	* gnome-lamp.c (gnome_lamp_set_window_type): new function to set the
	wm hints for lamps/beacons.
	(gnome_lamp_set_win_app_state): new static function to set the
	WIN_APP_STATE window property. This is an implementation of raster's
	proposal as found in the E sources (gnome.c).

1998-06-03  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* libgnomeui.h:
	* Makefile.am:
	* gtkdial.[ch]: moved gtkdial from gnome-admin/gxsnmp/widgets
 	to libgnomeui.

1998-06-02  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* libgnomeui.h:
	* Makefile.am: Removed the canvas stuff from these files, for the
	upcoming release which will use gtk-1.0.4.  The canvas needs the
	development branch of Gtk.

1998-06-02  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.c (gnome_app_find_menu_pos): set *pos to 0 if
	path is emtpy and check whether menuitem's child is NULL in order
	not to SIGSEGV at separators in menus. Also added a call to
	gtk_widget_queue_resize() on the parent widget at the end of
	insertion or removal!

1998-06-01  Seth Alves  <alves@twitch.hungry.com>

	* gnome-app-helper.c (gnome_app_find_menu_pos): if path is empty,
	return parant, rather than fail

Tue Jun  2 00:50:56 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-lamp.c: added sequence support.

Mon Jun  1 17:48:28 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-lamp.c (gnome_lamp_set_pixmap_color): use imlib's best color
	match for color calculation in colormap modes.

1998-06-01  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.[ch]: added gnome_app_remove_menus() and
	gnome_app_insert_menus_* routines. For the time being they
	dont set or remove accelerators, since I had no idea how to
	handle this - especially removal.

1998-05-31  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-about.c: Include "libgnome/gnome-i18nP.h" instead of
 	"libgnome/gnome-i18n.h".

	* gnome-client.h: Added 'gnome_client_get_config_prefix' and
 	'gnome_client_get_global_config_prefix' declarations.
	(struct _GnomeClient): New member 'config_prefix' and
 	'global_config_prefix'.

	* gnome-client.c: Added 'program_invocation_short_name'
 	declaration.  Added 'client_unset_config_prefix' declaration.
	(gnome_client_get_type): Changed return value of
 	'gnome_client_get_type' to 'GtkType'.
	(gnome_client_init): Preset '[global_]config_prefix'.
	(gnome_real_client_destroy): Released '[global_]config_prefix'.
	(gnome_client_connect): Added some calls to unset config prefix.
	(gnome_client_set_program): Likewise.
	(gnome_client_set_id): Likewise.
	(gnome_client_get_previous_id): Added check, if the client
 	parameter really is client.
	(gnome_client_get_config_prefix): New function.  Calculates a
 	config prefix depending on program name and client id.
	(gnome_client_get_global_config_prefix): New function.  Calculates a
 	config prefix depending on program name.
	(client_unset_config_prefix): New function.

1998-05-27  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app-helper.h: added new GnomeUIInfoType
	GNOME_APP_UI_JUSTIFY_RIGHT that notifies app-helper routines that
	all the menu items from now on should be right justified. This
	should prove useful for adding help menu to the menubar.

	* gnome-app-helper.c (gnome_app_do_menu_creation): take care
	of handling GNOME_APP_UI_JUSTIFY_RIGHT GnomeUIInfoType.

1998-05-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-canvas.c gnome-canvas.h: The GnomeCanvas widget!  This is
	still not finished and is not ready for general consumption.  I
	need it on cvs to hack on it a bit while being at the Linux Expo :-)

	* gnome-canvas-rect-ellipse.c: Rectangle and ellipse primitives
	for the canvas; still not finished.

	* Makefile.am: Added the canvas files to the listing.

1998-05-25  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (relayout_icon), gnome-icon-list.h: add
	desired_text_width.

1998-05-25  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_layout_text): I must be stupid or
	something.  Fixed the bug that caused the ".\n." effect; it was
	the same bug that put separators on the new row instead of on the
	row they split.

Mon, 25 May 1998 10:55:37 +0200 Paolo Molaro <lupus@debian.org>

	* gtkspell.[ch]: spell-check widget using ispell.

Sat May 25  1:58:00 1998  Cesar Miquel  <miquel@df.uba.ar>

	* gnome-about.c Applied a patch provided by Changwoo Ryu
	<cwryu@adam.kaist.ac.kr> that makes the gnome_about_new's
	"logo" argument more convenient to use. It:

 		1) Uses gdk_imlib.  Goodbye, xpm.
		2) Find the logo file in the pixmap
		   directory (by gnome_pixmap_file).

Sat May 23 21:55:41 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c (gnome_dialog_run_modal): Don't call set_modal,
	leave the dialog in the same state we came to it. Don't call
	close_hides, leave close behavior up to the caller. Connect a
	handler to the "close" signal which refuses to close the dialog
	unless a button has been clicked. Thus -1 will never be
	returned. Remove signal handlers when a button is clicked. Call
	gtk_main_quit() when a button is clicked to avoid piling up
	gtk_main's and cause the function to actually return. Call
	gtk_widget_show on the dialog if it has not yet been shown. Use a
	define instead of -1 for invalid button.
	(gnome_dialog_set_modal): Make it work if the widget has already
	been shown.

	* gnome-dialog.h: Updated a couple of comments.
	(GnomeDialogButton): Removed unused typedef.


Fri May 22 23:26:11 1998  Tom Tromey  <tromey@cygnus.com>

	Some -Wall fixes:
	* ted_demo.c (main): Return 0.
	* gtkcalendar.c (gtk_calendar_header_button): Removed unused
	decl.
	* gtk-ted.c (gtk_ted_add): Removed unused variable.
	(parent_class): Removed.
	* gnome-client.c (gnome_client_new_without_connection): Removed
	unused variable.
	* gnome-about.c (gnome_about_repaint): Removed unused variable.
	(gnome_about_display_comments): Removed unused label.
	(gnome_fill_info): Removed unused variables.
	(gnome_about_new): Likewise.
	* gnome-net.c (net_socket_new): Removed unused variable.
	* gnome-init.c: Include gnome-preferences.h.
	* gnome-font-selector.c (gnome_font_selector_get_selected):
	Removed unused variables.
	(text_points_callback): Commented out for now.
	* gnome-geometry.c (gnome_parse_geometry): Removed unused
	variable.
	* gnome-dns.c (gnome_dns_create_server): Removed unused variable.
	(server_init_cnt): Removed.
	* gnome-dialog.c (gnome_dialog_run_modal): Use
	g_return_val_if_fail.  Removed unused variable.
	* gnome-color-selector.c (gnome_color_selector_get_button): Use
	g_return_val_if_fail.
	* gnome-app.c (gnome_app_class_init): Removed unused variable.
	(gnome_app_add): Commented out.

1998-05-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-init.c (our_gtk_parse_func): Use gtk_rc_set_image_loader
	only for Gtk 1.1 compilations.  This allows people to compile
	parts of gnome with Gtk 1.0.

1998-05-21  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c (gtk_calendar_thaw): Remove warnings
	Make the internal color names static.

	* gnome-stock.c (gnome_stock_transparent_window): New routine for
	creating toplevel shaped popup windows from the stock icons.
	These are used to make DnD icons easily availble to applications
	that need them.

	New icons: imlib_not and imlib_multiple_file: The "can not drop
	here" and the "various files are being dragged".

Thu May 21 18:43:14 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c (build_disabled_pixmap): destroy the GC when done

	* gnome-lamp.[ch]: new files. Proposal for the basic implementation of
	lamps/beacons.

1998-05-21  John Ellis  <johne@bellatlantic.net>

	* gnome-pixmap.h: changed char *data in
	gnome_pixmap_new_from_rgb_d_at_size to unsigned char *data.
	* gnome-pixmap.c: added missing definition of
	GtkWidget *gnome_pixmap_new_from_rgb_d_at_size(...).

1998-05-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_paint_text): Added justification
	parameter.  This is generally useful to have.  It is also required
	for when the icon list is in GNOME_ICON_LIST_TEXT_RIGHT mode.
	(draw_icon): Use the proper justification for text.
	(ilist_signals): Strange, this baby did not have a type (guint).

Wed May 20 17:30:19 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.[ch] (gnome_pixmap_new_from_gnome_pixmap): new
	function. I need that to get a copy of a pixmap to work with.

	* gnome-stock.c (gnome_pixmap_button): added check for GnomePixmap to
	build a GnomeStockPixmapWidget to get the functionality to gray it out
	if it's unsensitive.

	* gnome-stock.[ch]: added GNOME_STOCK_PIXMAP_TYPE_GPIXMAP to be able
	to use GnomePixmaps as stock pixmaps.
	(gnome_pixmap_button): added check for ButtonsUseLabels (don't know if
	this is usefull though).

	* gnome-dialog.c (gnome_dialog_append_button): use
	gnome_button_can_default.

1998-05-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (relayout_icon): New function; recals the text
	layout info field of an icon.
	(reassign_max): Recomputes the max pixmap/text width/height of the ilist.
	(finish_recalc): Calculates the max icon width/height of the ilist.
	(recalc_max_icon_size_1): Reimplemented in terms of the three
	functions above.
	(recalc_max_icon_size): Reimplmented in term of the three
	functions above.

	* gnome-icon-list.h (GnomeIconList): New fields that store the max
	text width/height.  They are needed for the new text layout stuff.

	* gnome-icon-list.h (GnomeIconTextInfo): Renamed structure.

	* gnome-icon-list.c (gnome_icon_layout_text): Rewrote function to
	handle separators/max_width/confine parameters.

	* gnome-icon-list.c (gnome_icon_paint_text): Now it only takes the
	upper-left position where to paint the text block.

	* gnome-icon-list.c (draw_icon): Fixed to calculate text position correctly.

1998-05-19  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-icon-list.c (get_icon_num_from_xy): properly return
	on_spacing=TRUE and *num=-1 when a column without an icon in last
	row is clicked.
	(adjust_scrollbars): now properly adjusts scrollbars when the
	viewed area expands beyond icon list's width or height due to
	some change.

Tue May 19 21:38:15 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c (gnome_pixmap_button): New function. Returns a button
	with a pixmap and label. Added default size to the created button.
	(gnome_stock_menu_item): Use gnome_config_get_bool.
	(gnome_pixmap_button): Likewise.

	* gnome-stock.[ch]: added some `const' to `char *'s.

1998-05-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_layout_text): Now we can configure
	the separators and confinement status of the wrapped text.

	* gnome-icon-list.h: Added prototype for gnome_icon_list_append_imlib.

	* gnome-icon-list.c (sync_selection): Removed warnings by using the
	GPOINTER_TO_INT and GINT_TO_POINTER macros.
	(gnome_icon_list_set_separators): New function; lets you set the
	characters where it is fine to split the icon text rows.

1998-05-18  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-client.c (gnome_client_class_init): Use GTK_RUN_LAST for
	the save_yourself signal

	* gnome-icon-list.c (gnome_icon_paint_text,
	gnome_icon_layout_text, gnome_icon_text_info_free): moved from
	gmc's gtrans.c code here.  Some more code reuse.
	(gnome_icon_layout_text): The split routine should be improved to
	split on various other characters to give us a better layout than
	we currently have.

	Implemented icons with wrapped text.

Sun May 17 16:00:21 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h, gnome-dialog.c (gnome_dialog_editable_enters):
	New function, call this if your dialog contains an editable to
	keep the editable from disabling the Return keyboard shortcut
	(assuming you don't want to disable it).
	* gnome-dialog-util.c (request_dialog): Use the new function.

Sun May 17 12:01:55 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-preferences.h, gnome-preferences.c: Use access functions
	instead of global struct.
	* gnome-dialog.c: Use the access functions.

Sun May 17 02:29:14 1998  Havoc Pennington  <hp@pobox.com>

	* Makefile.am, libgnomeui.h: Include gnome-preferences. Cross
	fingers.
	* gnome-dialog.c: Don't put libgnomeui/ in front of #includes. Use
	gnome-preferences setting for button position.
	* gnome-init.c (gnome_init): gnome_preferences_load()
	* gnome-preferences.c: Add trailing slash to section names;
	gnome-config is a little finicky about this. Use array instead of
	defines for possible button style options.
	(gnome_preferences_load): Use a loop to load
	the styles, instead of a long if-else thing.
	(gnome_preferences_save): Implemented just the dialog button
	styles part.

Sat May 16 16:02:38 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-actionarea.c: Add annoying warning. I am deleting this
	in a week or so.
	* gnome-color-selector.c: Added "FIXME no copyright". Use
	g_return_if_fail throughout instead of g_assert, for consistency
	with rest of lib.
	* gnome-dateedit.c: Add some g_return_if_fail checks.
	* gnome-pixmap.c: g_return_if_fail
	* gnome-properties.c: #include gnome-config, don't #include
	action-area. Add a couple g_return_if_fail checks.
	(gnome_property_configurator_setup): Don't show the property box
 	in setup; it needs to be shown *after* the pages are added to
 	it. This makes desktop-properties come up much more nicely.
	(gnome_property_configurator_destroy): Don't destroy the property
 	box in _destroy(); it destroys itself on close.

Sat May 16 02:12:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-preferences.c (gnome_preferences_load): Removed useless
	prefix push/pop.
	(UI_APPNAME): Changed value to start with "Gnome".
	(GENERAL): Likewise.
	(DIALOGS): Likewise.
	(_PROPERTY_BOX_BUTTONS): Removed leading "/".
	(DIALOG_BUTTONS_STYLE_KEY): Likewise.
	* gnome-stock.c (stock_button_from_entry): Use Gnome and not
	GnomeStock as file name in config key.
	(gnome_stock_menu_item): Likewise.
	(accel_hash): Likewise.
	(gnome_stock_menu_accel_dlg): Likewise.

1998-05-15  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-dateedit.c: Add support for 12/24 hour format.

1998-05-15  Federico Mena  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_init): Connect to the
	"changed" signal of the adjustments as well, otherwise we will not
	reset stuff properly when clearing the icon list.

1998-05-15  Jaka Mocnik <jaka.mocnik@kiss.uni-lj.si>

	* gnome-icon-list.c (gnome_icon_list_button_press): pressing non-left mouse button
	on a selected icon now calls toggle_icon() immediately and not upon button release.
	* gnome-icon-list.c (toggle_icon): changed behavior so that only left mouse button
	can SHIFT- or CTRL-select and that pressing a non-left button on a selected icon does
	not unselect other selected icons. this seems more appropriate to me.
	* gnome-icon-list.c: changed all initializations of last_selected member from -1 to 0.
	This prevents segfaults when SHIFT-selecting before any icons have been selected.

Thu May 14 12:31:28 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-dialog.c (gnome_dialog_close): changed type of close_handled
	to gint.

1998-05-14  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c: Added dirty flag to the gnome icon list

Wed May 13 00:16:35 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog-util.h, gnome-dialog-util.c: Return the created
 	dialog. This makes the functions much more useful. I was thinking
 	they should be maximally opaque, but went a little overboard
 	I guess.
	* testgnome.c: Well, that was short-lived. Someone else did it
	already. Yay!

1998-05-11  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_unselect_all): New function.

Tue May 12 00:33:10 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-preferences.h, gnome-preferences.c: Hmm, I didn't think
	about that earlier attempt much. This should work a little better.
	* testgnome.c: Barest skeletal start.

Sat May  9 15:55:48 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog-util.h, gnome-dialog-util.c: gnome-app-util had
	some internal functions to quickly pop up some common dialogs;
	so I put them here for anyone to use. Probably bloat, if they
	weren't used in gnome-app-util anyway.
	* gnome-app-util.c: #include without the libgnomeui prefix.
	 Remove most of the code and put it in gnome-dialog-util.c.
	* gnome-types.h: New file, for now has a couple of function
 	pointer typedefs used in the above stuff.
	* gnome-app-util.h: Changed to use gnome-types.h
	* TODO: Updated.
	* Makefile.am, libgnomeui.h: Include new files.

1998-05-09  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-client.c (default_client_init): Use the new macro
	GTK_HAVE_SIGNAL_INIT

1998-05-08  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c (gtk_calendar_thaw): Added freeze/thaw
	functionality.

Fri May  8 10:06:01 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (default_client_init): Call gtk_type_init and
	gtk_signal_init.

Thu May  7 21:46:24 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c: Take out debug printfs.

1998-05-07  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-icon-list.c: Changed required for gmc icon view.
	(icon_new_from_imlib): New routine, this is now used internally to
	create an icon from an Imlib image.
	(gnome_icon_list_append_imlib): New routine: add icons from an
	Imlib created image.
	(gnome_icon_list_append): Modified, load the file and call
	gnome_icon_list_append_imlib.
	(toggle_icon): Implemented the Windows-like selection scheme.

Thu May  7 19:13:33 1998  Havoc Pennington  <hp@pobox.com>

	* Makefile.am, libgnomeui.h: Add gnome-less
	* gnome-less.h, gnome-less.c: Set default width to 80 columns
	when the font is changed.
	* TODO: Check this item off.
	* gnome-preferences.h: Fiddled around, not important.

Thu May  7 15:47:21 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-about.c (gnome_about_new): Use set_close instead of
	deprecated set_destroy.

Wed May 06 23:00:55 1998  George Lebl  <jirka@5z.com>

	* stock_demo.c: it's now possible to get rid of the damn
	  "really quit" window, without actually quitting

Wed May 06 22:42:40 1998  George Lebl  <jirka@5z.com>

	* gnome-dialog.c: emitting the close signal passed a NULL
	  where a pointer to retval was supposed to be producing
	  a segfault

Wed May  6 18:54:54 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h, gnome-dialog.c: Recommit of April 30 changes;
	difference is using a new "close" signal instead of delete_event.
	However, the "close" signal marshaller segfaults for now.
	* gnome-messagebox.c, gnome-propertybox.c: Use new gnome-dialog
	stuff.
	* gnome-uidefs.h: GNOME_YES, GNOME_NO to make button handling
	more readable; also for use with gnome-app-util
	* stock-demo.c: Use new dialog stuff; try to use "close" signal
	just to expose the bug.
	* TODO: Updated.
	* gnome-app-util.h, gnome-app-util.c: Started on the
	dialog/statusbar abstraction; status bar part doesn't work
	yet.
	* gnome-preferences.h: Define sections and keys for use in
	libgnomeui global preferences.

Wed May  6 01:29:33 1998  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>

	* gnome-app.[ch]: added gnome_app_set_statusbar() function
	which simply allows for insertion of another widget in the
	bottom row of the table.

Sun May  3 10:56:50 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-ice.c (ice_tag): Removed.
	(new_ice_connection): Always call gdk_input_add.

Fri May  1 02:52:27 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h, gnome-dialog.c: Revert to 1.3 and 1.7
	respectively, before any accelerator/destroy changes.
	* gnome-propertybox.c: Revert to 1.8 accordingly.

Fri May  1 02:04:06 1998  Havoc Pennington  <hp@pobox.com>

        * gnome-dialog.c (gnome_dialog_clicked): Revert to old destroy
 	behavior.

	* gnome-dialog.c (gnome_dialog_key_pressed): Return TRUE if the
 	event was handled (???). Mostly it shouldn't really make a
 	difference though, for this function. Disable Escape functionality
 	for now.

Thu Apr 30 23:13:31 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: added an accelerator table and
	  accelerators since too many people complained about it.
	  it doesn't work for the numpad which is kind of weird

Thu Apr 30 21:31:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (client_set_prop_from_string): Don't include
	trailing \0 in length.
	(client_set_prop_from_array): Likewise.

Thu Apr 30 23:25:19 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h (struct _GnomeDialog): New member,
	GtkAcceleratorTable * accelerators
	* gnome-dialog.h (gnome_dialog_set_accelerator): New function, EZ
 	way to connect an accelerator to a button.
	* gnome-dialog.h (gnome_dialog_close): New function. Emits
	delete_event, hides then destroys only if delete_event isn't
	handled.
	* gnome-propertybox.c (just_close): Use gnome_dialog_close.
	* gnome-dialog.c: Use gnome-uidefs rather than custom
	button/border sizes. Implement new gnome-dialog.h interfaces.
	* gnome-dialog.c (gnome_dialog_key_pressed): New function,
	gnome_dialog_close if GDK_Escape is pressed, otherwise
	call parent's key_press_event handler.
	* gnome-dialog.c (gnome_dialog_class_init):
	widget_class->key_press_event = gnome_dialog_key_pressed;
	* gnome-dialog.c (gnome_dialog_init): Create accelerator table.
	* gnome-dialog.c (gnome_dialog_button_clicked): Use
	gnome_dialog_closed() to self destruct.
	* gnome-dialog.c (gnome_dialog_destroy): Unref accelerator table.

Thu Apr 30 21:31:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (client_parse_func): Set previous_id for client.

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c: return meaningful values from most routines.

Thu Apr 30 11:45:38 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-app-helper.c (gnome_app_create_menus_custom,
	gnome_app_do_toolbar_creation): if GnomeApp gets a new accelerator
	table, add it to the window.

Thu Apr 30 01:27:52 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Removed.

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-geometry.c (get_number): Handle the case +-10.

Thu Apr 30 00:48:54 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-less.h, gnome-less.c: Added simple widget to display a
 	file or command output. GtkText wrapper. Not included in Makefile
	due to feature freeze.
	* gnome-uidefs.h: Added GNOME_BUTTON_WIDTH, GNOME_BUTTON_HEIGHT.
	Shouldn't break anything.

1998-04-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-color-selector.c (gnome_color_selector_button_clicked):
	Use correct visual and colormap for color selector.

1998-04-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (finish_load): Hide the old window and show the
	new one if the widget is mapped.  Otherwise reloading a new pixmap
	won't work right.

Wed Apr 29 21:16:28 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-dialog.c (gnome_dialog_append_buttons): changed signal_connect
	for button to signal_connect_after.

1998-04-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-geometry.c (gnome_parse_geometry): Add preconditions;
	Support 'X' and '=' as XParseGeometry does.

1998-04-28  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-geometry.c: New file, provides X geometry string parsing.

1998-04-28  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-propertybox.c (global_apply): Use correct types for the
	parameters passed to gtk_signal_emit().

	* gnome-propertybox.h (struct _GnomePropertyBoxClass): Fixed
	prototypes for the signal handlers (they take a gint parameter as well).

Sun Apr 26 15:40:48 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: supplied `About' icon for use in buttons

Sun Apr 26 00:18:02 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c (gnome_dialog_init): Pack the dialog's vbox
	with expand set to TRUE.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-file-entry.c (gnome_file_entry_init): Undo the emission of
	a signal on content change, as GtkText already emitted "changed".

Sat Apr 25 14:04:55 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{.c,-imlib.h}: fixed apply/ok stock buttons, added trash
	and trash_full to the list of stock menu items.

Fri Apr 24 16:32:33 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk-socket.c: Re-fixed destroy handling on the socket
	so that it can be destroyed correctly _and_ notifies
	the child correctly of the destruction.

Thu Apr 23 20:50:56 1998  George Lebl  <jirka@5z.com>

	* gtk-socket.c: fixed destroy handeling on the socket,
	  before it only worked if you destroyed the plug, if
	  you destroyed the socket it just messed up

1998-04-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dialog.c (gnome_dialog_new): Actually set the window
	title; it was just being ignored.

Fri Apr 24 01:32:21 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: added new icons by tigert

	* gnome-stock.c (stock_button_from_entry): added support for normal
	stock icons in stock buttons

Wed Apr 22 19:29:49 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h: Added better comments.
	* gnome-dialog.c (gnome_dialog_button_connect): New function.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-calculator.c (gnome_calculator_class_init): Register the
	signals.

	* gnome-file-entry.c (gnome_file_entry_init): Added emission of a
	signal when the information on the entry changes.

Wed Apr 22 16:47:49 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: added new icons by tigert

1998-04-21  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-calculator.c (gnome_calculator_init): Add padding to
	calculator buttons.

	* gtkcalendar.c (gtk_calendar_select_day): Call
	gtk_calendar_compute_days every time when selecting a day and a
	month.

Tue Apr 21 14:26:22 1998  George Lebl  <jirka@5z.com>

	* gnome-calcualtor.c: spelling error in comment

Tue Apr 21 00:04:28 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: use function call finite and stop
	  NAN's. this should help portability

1998-04-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-calculator.c (gnome_calculator_init): Added
	internationalization.

	* gnome-app-helper.h (GNOMEUIINFO_ITEM_STOCK): New macro, this one
	uses STOCK pixmaps.

Sun Apr 19 17:34:22 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.c: Cleanup and rearranging, generalized some
	functions to think about moving them to gnome-util.
	* gnome-appsmenu.h: Fixed a typo.

Sat Apr 18 16:32:09 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: catch SIGFPE's and set error, this
	  catches all the errors (intel doesn't give SIGFPE's
	  enough, and alpha SIGFPE's all over the place)

Fri Apr 17 19:42:54 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: #define GNOME_APPS_MENU_DENTRY_DIR_EXTENSION

	* gnome-appsmenu.c: Saving works now, mostly. Successfully loaded
	system menu, saved in .gnome, reloaded, displayed.
	(GNOME_APPS_MENU_DEBUG_PRINT): debugging macro
	(g_extract_file): New, reverse of g_concat_dir_and_file (may move
	to gnome-util along with get_extension, is_dotfile?).
	(dentry_save_func): Implemented.
	(is_dotfile): Oops, didn't stop at first path separator. Fixed.
	(gnome_apps_menu_new_from_file): optimized to immediately ignore
	backup files.
	(gnome_apps_menu_save): Made to work, previously it saved the
 	.directory file in the wrong directory and got confused. Still
 	does symlinks wrong I think (like ftw(), potentially traverses
 	them twice.)

Fri Apr 17 15:49:02 1998  George Lebl  <jirka@5z.com>

	* gnome-calcualtor.c: fix the +/- button to actually
	  change the sign.

Fri Apr 17 16:03:36 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h (GnomeAppsMenu): rearranged order of items
	in struct (put bit flags together)
	(GnomeAppsMenuSetupFunc): Changed required behavior - can now
	take NULL arguments and ignore them.

	* gnome-appsmenu.c: Implemented vtable instead of function
	lookup, meaning small changes throughout.
	(gnome_apps_menu_check): Check presence of vtable.
	(find_class): Took out this function, not needed with vtables.
	(dentry_setup_func): Changed to use new SetupFunc semantics.
	(dentry_save_func): New function, just a stub.
	(gnome_apps_menu_new_from_file): new function.
	(gnome_apps_menu_load): destroy empty menu, and return NULL,
	rather than return an empty menu.
	(gnome_apps_menu_save): Removed use of ftw(). Get name of
 	directory AppsMenu and create a matching filesystem
 	directory. Delete empty filesystem directories. Delete old backup
 	files. Still doesn't work, some kind of memory corruption, and
 	likely fails on symlinks or other weird situations.
	(gnome_apps_menu_new): Init vtable.

1998-04-17  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* gtkcalendar.[hc]: display option GTK_CALENDAR_NO_MONTH_CHANGE to
	avoid undesired month changings.

1998-04-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (gnome_date_edit_new): Now gets a show_time
	flag that indicates show the time part (or just the date).
	(gnome_date_edit_init): Fix cut&paste typo when showing time_entry.

1998-04-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (gnome_date_edit_set_time): Print the date correctly.

Thu Apr 16 00:18:13 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: added error handeling,
	  some workarounds to alpha's SIGFPE problem, and
	  added a result_changed signal.

Thu Apr 16 02:06:07 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Renamed "variety" to
	"class" throughout, for clarity. Starting on using a vtable
	instead of whatever dumb thing I was doing.
	(GnomeAppsMenuGtkMenuItemFunc): Replaced by
	GnomeAppsMenuSetupFunc, this is more versatile and works
	with GtkTree or whatever as well. Uses of GtkMenuItemFunc
	changed appropriately.
	(gnome_apps_menu_setup): Calls setup function.
	(gnome_apps_menu_save, gnome_apps_menu_save_default): new
	functions, started implementing them.

Wed Apr 15 18:03:36 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: Updated comments.

	* gnome-appsmenu.c: Moved things around and fixed comments to make
 	file clearer.
	(gtk_menu_item_new_from_apps_menu): Fixed bug which assumed menu
 	was of homogeneous type (because the particular variety's function
 	did the recursion rather than the generic function).
	(gtk_menu_new_from_apps_menu): ignore the root node, rather than
 	creating a one-item menu with the root node on it. Remaining bug:
 	Child menus show up on my screen before I call _show() on the root
 	menu. I do not understand this.

1998-04-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (gnome_date_edit_init): The "Calendar" button
	is now prettier.

	* gnome-dateedit.c (select_clicked): The date editor widget now
	has a real popup for the calendar, and generally does the calendar
	stuff in a saner way.

Wed Apr 15 00:57:30 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.c: I got a working panel-like menu out of
 	share/apps, so that's progress. Many rough edges remain. Changes:
 	use G_DISABLE_CHECKS; implemented function to create GtkMenuItem
 	from the menu structure, complete with pixmaps; took out some
 	unused code

	* gnome-appsmenu.h (GNOME_APPS_MENU_IS_DENTRY): Removed unused
 	macros for identifying .desktop-based menus, according to new "no
 	special cases" policy.

1998-04-15  Arturo Espinosa Aldama  <arturo@nuclecu.unam.mx>

	* gtkcalendar.c (gtk_calendar_size_allocate): just an if to
	avoid a warning when not using the header window.

	* gtkcalendar.c (gtk_calendar_select_day): another if for added
	functionality: gtk_calendar_select_day (my_widget, 0) now eliminates
	any selected day in the calendar. This was already possible, but
	generated a warning.

1998-04-14  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (day_selected): Use gtk_calendar_get_date ().

	* gtkcalendar.c (gtk_calendar_size_request): In libdate, months
	are indexed in [1, 12].  Make the calculation of the max month
	width know about this.
	(gtk_calendar_get_date): Added gtk_calendar_get_date() function to
	avoid the user having to access the widget's fields.

	* gtkcalendar.h: Added prototype for gtk_calendar_get_date().

	* gnome-dateedit.c (select_clicked): Add 1900 to the tm_year field
	of the struct tm.  The calendar was getting the wrong year.
	(day_selected): Synchronize calendar month and displayed month.
	(gnome_date_edit_get_date): We have to test for >= 1900, not just >.
	(gnome_date_edit_set_time): Add 1900 to tm_year.

	* gnome-dateedit.c (gnome_date_edit_class_init): Initialize signal
	handlers.
	(gnome_date_edit_init): Changed flags passed to
	gtk_box_pack_start() to make the widget look nicer when resized.

	* gnome-dateedit.h: Fixed the declarations for the class signals.

Tue Apr 14 16:35:40 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h (gnome_apps_menu_new): Now has
	arguments.
	* gnome-appsmenu.c: Added lots of debugging stuff to
	check invariants. Broke gnome_apps_menu_load() apart
	into lots of little functions and it seems to work now.

Tue Apr 14 00:34:54 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: added parenthesis and factorial,
	  which means that except for error handeling it's
	  almost complete

Mon Apr 13 22:48:11 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: added conversions DEG/RAD/GRAD

Mon Apr 13 22:17:02 1998  George Lebl  <jirka@5z.com>

	* Makefile.am: added pixmap subdir

	* pixmaps/Makefile.am: install calcualtor-font.xpm

	* gnome-calculator.[ch]: reduce object size by not
	  including the font pixmap and redone how buttons are
	  made

Tue Apr 14 10:27:25 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Fixed many little glitches,
	after first compilation attempt. Compiles, doesn't work. Copyright
	changed to FSF.

Mon Apr 13 00:43:32 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: fixed display

Sun Apr 12 23:43:11 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: added e and PI buttons and made
	  the display have more digits after .

Sun Apr 12 23:28:02 1998  George Lebl  <jirka@5z.com>

	* gnome-calcualtor.c: DEG/RAD/GRAD modeswitching button
	  added

Sun Apr 12 23:01:24 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: now has pretty font display,
	  reduced the number of digits to 12 and added
	  memory functions.

	* pixmaps/calculator-font.xpm: the font for the
	  calculator display

Sun Apr 12 19:29:52 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: killed a few bugs, seems to
	  kind of work now

Sun Apr 12 17:24:39 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: added the beginnings of a
	  double precision calculator widget modeled after
	  xcalc

	* libgnomeui.h, Makefile.am: added gnome-calculator
	  references

Sat Apr 11 14:20:26 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Began implementing
	load and menu creation functions. .directory support.
	* gnome-appsmenu.h (gtk_menu_item_new_from_apps_menu): New
	function.

Sat Apr 11 11:35:24 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c
	(gnome_apps_menu_load_system, gnome_apps_menu_load_default):
	Two new functions.
	(GnomeAppsMenuVariety): moved from .h to .c
	(gnome_apps_menu_variety_new): also moved

1998-04-10  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-app-helper.h (GnomeUIInfoType): New type, extracted from
 	GnomeUIInfo, to make access to this type easier when using C++.
	(GnomeUIPixmapType): likewise
	(GnomeUIInfo): Use GnomeUIInfoType and GnomeUIPixmapType.
	(GNOMEUIINFO_END): Use expicit type casts to GnomeUIPixmapType and
 	GdkModifierType to prevent C++ from generating compiler warnings.
	(GNOMEUIINFO_SEPARATOR): likewise
	(GNOMEUIINFO_ITEM): likewise
	(GNOMEUIINFO_ITEM_DATA): likewise
	(GNOMEUIINFO_TOGGLEITEM): likewise
	(GNOMEUIINFO_TOGGLEITEM_DATA): likewise
	(GNOMEUIINFO_HELP): likewise
	(GNOMEUIINFO_RADIOLIST): likewise
	(GNOMEUIINFO_RADIOITEM): likewise
	(GNOMEUIINFO_RADIOITEM_DATA): likewise

Fri Apr 10 00:14:03 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h (gnome_apps_menu_variety_new):
	New function.
	* gnome-appsmenu.c: Continued implementation. Variety
	registration is done, load and GtkMenu creation isn't.

Thu Apr  9 23:25:29 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: Added basic menu-manipulation functions.
	* gnome-appsmenu.c: New file, began implementation.
	Doesn't work yet.

Thu Apr  9 22:12:49 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: New interface, not yet implemented.

Wed Apr  8 19:17:18 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c, gnome-messagebox.c: Use gnome-uidefs.h
	* libgnomeui.h: #include gnome-uidefs.h
	* gnome-uidefs.h: New file.

1998-04-07  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (lift_me): I never thought that
	gtk_signal_emit_stop_by_name was so easy to use :-).
	This means, GtkTed is now back to functional for GUI editing.

	(gtk_ted_setup_layout): Handle the case where the widgets do no
	longer exist in the code, but the layout file still has
	information on them.

	(gtk_ted_init_divisions): New routine, now when editing an
	existing dialog box, the correct number of control rows/columns
	are created.

Mon Apr  6 13:10:43 CDT 1998 Havoc Pennington  <hp@pobox.com>

	* gnome-about.h (GnomeAboutButton): typedef removed.
	* gnome-about.h (GNOME_ABOUT_BUTTON_WIDTH,
	GNOME_ABOUT_BUTTON_HEIGHT): defines removed.
	* gnome-about.h, gnome-about.c: GnomeAbout now derives from
	GnomeDialog.
	* gnome-about.c: Unused signal enum removed.
	* gnome-about.c (parent_class): Unused global variable
	removed.
	* gnome-about.c: Removed button-creating code, since
	GnomeDialog handles it.
	* gnome-about.c (gnome_about_button_clicked): Callback
	removed, GnomeDialog handles it.
	* gnome-about.c: Removed border-width code; use default
	border from GnomeDialog.
	* gnome-about.c (gnome_destroy_about): Fixed memory leak;
	function freed uninitialized tmp variable rather than
	gai->names. Removed tmp declaration.
	* libgnomeui.h: #include <libgnomeui/gnome-dialog.h>
	* gnome-net.h: use BEGIN_GNOME_DECLS
	* gnome-net.c (gnome_net_gets): changed if (errno = EAGAIN)
	to if (errno == EAGAIN).
	* gnome-about.c, gnome-net.c, gnome-scores.c,
	gnome-propertybox.c: #include specific headers, not <gnome.h>
	* gnome-propertybox.c, gnome-messagebox.c, gnome-dialog.c:
	Removed i18n defines; will use new private header.
	* gnome-actionarea.h: Added a "deprecated" comment.
	* gnome-dialog.h, gnome-dialog.c (gnome_dialog_set_sensitive):
	New function to set button sensitivity.
	* gnome-propertybox.h, gnome-propertybox.c: Now derives from
	GnomeDialog.
	* gnome-propertybox.c (GNOME_PAD): Removed this #define.
	* gnome-propertybox.c (dialog_clicked_cb): new function.
	* gnome-propertybox.c: Changed signature of previous button
	callbacks. They are now called from dialog_clicked_cb, so
	they have no button argument.
	* gnome-propertybox.c (gnome_property_box_init): Don't set
	up button box or vbox, since GnomeDialog now handles that.
	* gnome-propertybox.c (global_apply): return if
	property_box->items == NULL. Initialize variable 'item' to
	NULL, to make -Wall happy.
	* gnome-dialog.c (gnome_dialog_button_clicked): Since
	PropertyBox destroyed itself when this function emitted
	"clicked", and this function then tried to look at a
	GnomeDialog struct member, there was a bug. Fixed.
	* gnome-propertybox.c (gnome_property_box_init): Don't do
	the 3D frame, since GnomeDialog handles it.
	* gnome-dialog.c (gnome_dialog_init): Added a nice 3D bevel
	to the edge of the dialog, like gnome-propertybox had.

1998-04-06  Marc Ewing  <marc@redhat.com>

	* gtk-socket.[ch]: change "id" parameter name to "wid"
	  so as not to conflict with objc reserved word (again).

Mon Apr 06 00:57:23 1998  George Lebl  <jirka@5z.com>

	* gtk-{plug,socket}.[ch]: updated to owen's
	  plugsocket v0.2

Fri Apr  3 23:29:11 1998  Havoc Pennington <hp@pobox.com>

	* gnome-messagebox.c, gnome-messagebox.h: Now derived from
	gnome-dialog.
	* Makefile.am (libgnomeui_la_SOURCES): Added gnome-dialog.c.
	(libgnomeuiinclude_HEADERS): Added gnome-dialog.h.
	* gnome-dialog.c, gnome-dialog.h: New files.

1998-04-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c: #include <string.h>
	Removed unused global variable parent_class.

	* gnome-dateedit.h: Add prototype for gnome_date_edit_get_type().

1998-04-03  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-dateedit.c (fill_time_popup): Make the top boundary inclusive

1998-04-02  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtkcalendar.[ch]: Update to latest version from gcalendar cvs module.

1998-04-01  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* gtkcalendar.c (gtk_calendar_select_month,
	gtk_calendar_select_day): Don't paint unless the widget is drawable!

1998-04-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-dateedit.c, gnome-dateedit.h: New widget for editing a
	date/time.

	* gtkcalendar.c (gtk_calendar_class_init): Declare signal
	"day_selected";
	(gtk_calendar_marshall_date): Marshaller for new signal.
	(gtk_calendar_main_button): when a click happens in a day, emit
	the signal day_changed.

1998-04-01  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtkcalendar.[ch]: Updated to latest version from gcalendar
	module.

1998-03-31  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c: Added Shawn's and Cesar's calendar widget to the
	gnome-libs.

1998-03-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_moveto): Finished
	implementing moveto routine.  It only supports vertical alignment,
	as the icon list tries to display only whole columns and thus
	disable horizontal scrolling.

	* gnome-icon-list.h: New function gnome_icon_list_get_icon_at().
	Returns the index of the icon that is under the specified
	coordinates, or -1 if the coordinates are over white space.

	* gnome-icon-list.c: Added missing functionality regarding
	selecting/unselecting of icons.

1998-03-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_icon): Only try to set the masks if the pixmap exists.
	(get_icon_num_from_xy): Fixed a couple of off-by-one errors.

Sat Mar 28 18:12:33 CET 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{,-imlib}.[ch], stock_demo.c: Added more of tigert's
	pixmaps.

1998-03-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_icons_area): Only paint icons within
	exposure area width.
	(adjust_scrollbars): Use better values for step_increment in adjustments.

1998-03-27  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome_segv.c: included "config.h"
	(main): Added i18n.

1998-03-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.h: New files gnome-icon-list.[ch].  This
	provides the GnomeIconList widget.  It is an icon list widget with
	several display modes.  It has an API very similar to the
	GtkCList, so using it should be easy.  It will be used on the file
	manager for the iconic view, for an icon selector property box,
	etc.  It is still not finished and it has bugs, but you can start
	playing with it now.  There is a small example program on
	http://www.nuclecu.unam.mx/~federico/test-ilist.c

	* libgnomeui.h: Added gnome-icon-list.h to the includes.

	* Makefile.am: Added gnome-icon-list.[ch] to the rules.

Thu Mar 26 13:29:18 1998  Radek Doulik  <gis@academy.cas.cz>

	* gnome-client.c (gnome_client_flush): check HAVE_LIBSM, hope I don't
	break something

Wed Mar 25 01:30:00 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* stock_demo.c: use the "Really quit?" message box for real.

	* gnome-stock.c: minor i18n fix for clist titles.

Tue Mar 24 23:06:44 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-messagebox.c (gnome_message_box_init): applied patch from
	robert havoc pennington <rhpennin@midway.uchicago.edu> with some
	sanity checks and use of gnome_pixmap_file

Tue Mar 24 22:32:11 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-propertybox.c: applied patch from Havoc Pennington
	<hp@pobox.com>

Tue Mar 24 19:24:23 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-messagebox.c (gnome_message_box_new): use
	gnome_pixmap_new_from_file for pixmap loading

	We will have to supply some pixmaps for the gnome message box. I
	couldn't find any "bomp.{xpm,png}".

Tue Mar 24 19:24:23 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-app-helper.c (gnome_app_do_ui_accelerator_setup): use
	gtk_widget_install_accelerator to make the accelerators visible in
	the menu

Tue Mar 24 19:16:55 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* stock_demo.c, gnome-stock.c: use GnomePropertyBox's own signals.

	* gnome-propertybox.c: fix some box-packing (to allow window resizing).
	(just_close): fix "delete_event" (segfaulted if someone realy catched
	the signal)

Tue Mar 24 01:07:14 1998  Tom Tromey  <tromey@cygnus.com>

	* stock_demo.c (message_dlg): New function to test
	gnome-messagebox.  (This could be moved elsewhere; it is just a
	hack.)

	* gnome-propertybox.c (gnome_property_box_new): Buttons now kept
	in a button box.
	* gnome-messagebox.c (gnome_message_box_new): Buttons now kept in
	a button box.
	(GNOME_PAD): Define.

Sun Mar 23 02:24:44 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: fixed some segfaults when clicking on empty
	accelerators.

Sun Mar 23 00:09:49 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: Added config dialog for menu accelerators. This might
	not be the proper place, but I didn't know where else to put it.

	* stock_demo.c: Choosing preferences opens the accel config dlg.

Sun Mar 22 19:16:58 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: Added gnome_stock_menu_accel_parse.

	* gnome-stock.c: Added parsing of default accelerators in rc
	GnomeStock.

Sun Mar 22 16:04:00 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: Added gnome_stock_menu_accel

	* stock_demo.c: Use gnome_stock_menu_accel. Include GnomePropertyBox
	sample.

Sun Mar 22 10:26:09 1998  Radek Doulik  <rodo@aquarius>

	* gnome-propertybox.c (just_close): send delete_event to property
	box instead of widget_destroy

Sun Mar 22 00:07:06 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-propertybox.c (global_apply): Emit apply signal with page
	number of -1 after all pages applied.

Sat Mar 21 00:45:10 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-properties.c (apply_page): New function.
	(gnome_property_configurator_setup): Connect apply_page to "apply"
	signal on property box.
	(gnome_property_configurator_request): Removed.

	* gnome-properties.h (GnomePropertyConfigurator): Replaced
	notebook with property_box.

	* gnome-propertybox.c (gnome_property_box_new): Actually pack
	widgets into frame.
	(gnome_property_box_init): Initalize `items'.

	* libgnomeui.h: Include gnome-propertybox.h.
	* gnome-propertybox.h: New file.
	* gnome-propertybox.c: New file.
	* Makefile.am (libgnomeui_la_SOURCES): Added gnome-propertybox.c.
	(libgnomeuiinclude_HEADERS): Added gnome-propertybox.h.

	* gnome-messagebox.c: Changed all names from gnome_messagebox_* to
	gnome_message_box_*.  The latter mathches Gtk style, and works
	better with gnome.defs/gen-typeinfo.

	Somewhat modified patch from Havoc Pennington:
	* gnome-messagebox.c (gnome_messagebox_new): Initialize buttons
	element to NULL, not to a new list.  Call va_end.
	(gnome_messagebox_set_default): Use g_list_nth.
	(gnome_messagebox_button_clicked): Now static.

Fri Mar 20 23:02:46 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-messagebox.c (gnome_messagebox_new): Use
	gnome_stock_or_ordinary_button.

	* gnome-stock.h (gnome_stock_or_ordinary_button): Declare.
	Updated copyright.
	* gnome-stock.c (stock_button_from_entry): New function.
	(gnome_stock_button): Use it.
	(gnome_stock_or_ordinary_button): New function.
	Updated copyright.

1998-03-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-file-entry.c (realize): Added drop support to gnome
	file-entries.  Now you can drag files from mc to the file entries
	and guess what happens :-)

Fri Mar 20 00:01:47 1998  Tom Tromey  <tromey@cygnus.com>

	* gtk-plug.h: Changed `()' to `(void)'.
	* gtk-clock.h: Renamed `clock' arguments to `gclock' to avoid
	clash with ANSI function.
	* gtk-socket.h: Renamed `socket' argument to `gsocket' to avoid
	clash with Unix system call.

Thu Mar 19 18:02:04 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (our_gtk_parse_func): Allocate two slots for every
	slot in argv.

1998-03-19  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_add): Add support for gtk_container_add
	to GnomeApp widget.

1998-03-20  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-imlib.h: added timer and timer_stopped icons. At least
	two apps already use timer buttons: gtt and gtop.

	* gnome-stock.[ch]: Added gnome_stock_pixmap_widget_set_icon. See
	stock_demo.c for an example.

	* stock_demo.c: added an example for the use of ..._set_icon.

1998-03-19  Marc Ewing  <marc@redhat.com>

	* gtk-socket.{c,h}: change "id" parameter name to "wid"
	  so as not to conflict with objc reserved word.

Wed Mar 18 20:40:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-stock.c (NOT_ALWAYS_SHADE): Renamed to fix typo.
	(_default_entries_data): Added `label' field.
	(entries_data): Added label info to each element.
	(stock_pixmaps): Copy label into hash entry.
	(gnome_stock_menu_item): Fail if text is NULL.
	(gnome_stock_button): Look up label in entry.

	* gnome-stock.h: Added `label' field to each GnomeStockPixmapEntry
	structure.

1998-03-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-file-entry.h: New files gnome-file-entry.[ch].  This is a
	combo box widget with an extra "Browse" button to enter file
	names.  All places in Gnome where an entry widget is being used to
	get a filename should use the GnomeFileEntry widget instead.

	* libgnomeui.h: Added gnome-file-entry.h to the includes.

	* Makefile.am: Added gnome-file-entry.[ch] to the file lists.

Tue Mar 17 22:45:47 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock/stock_demo: added "Save As" icon.

Tue Mar 17 22:28:47 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.h: added dummy variable to include N_("blah")s for
	i18n.

	* gnome-stock.c (gnome_stock_button): use dgettext, not gettext.

1998-03-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_do_menu_creation): The activate
	signal should not be connected to subtree items --- you don't want
	to call a subtree structure when the user clicks on a submenu, right?

1998-03-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.h: Removed the explicit values from the type
	enum and removed the GNOME_APP_UI_LAST value (never used).
	Added #ifndef GNOME_APP_HELPER_H... stuff.

1998-03-16  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock/stock_demo: Added undo stock icon. Added some more
	stock icons to the list of converted menu icons.

	* gnome-stock-xpm-h: removed -- fully switched to imlib rgbs.

1998-03-16  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock*.[ch]: Added new icons for yes/no buttons. Added a
	quick and durty scale_down function to convert the toolbar icons for
	the menus. Hope it works on all mashines. Removed external reference
	to gnome_stock_pixmap - use gnome_stock_pixmap_widget instead.

	* gnome-pixmap.[ch]: Added gnome_pixmap_new_from_rgb_d_shaped to
	support imlib's shape_color for gnome-stock.

1998-03-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-rootwin.h: New widget GnomeRootWin.  This is a widget that
	corresponds to the root window of the screen.  Yes, I know it is
	weird.  However, it provides a nice Gtk abstraction for the root
	window.  The immediate use of this will be to drop objects from
	the file manager into the root window.  Some hacking is still
	needed in this widget to make it work exactly like normal GtkWindows.

	* libgnomeui.h: Added #include "libgnomeui/gnome-rootwin.h".

	* Makefile.am: Added gnome-rootwin.[ch] to the list of files.

1998-03-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_draw): Doh.  I don't know how to
	subtract.  Fixed offsetting, again.

Thu Mar 12 15:50:27 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_set_spacings): Set the spacings for each line
	with a hacky widget on every line.

1998-03-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c: Added warnings of "don't use me" to all the
	obsolete functions.
	(gnome_pixmap_draw): Added proper widget draw function.  We need a
	special draw function because a GnomePixmap's window may not be as
	big as its allocation.
	(paint): New function that actually paints the stuff.
	(gnome_pixmap_expose): Use the paint() function.

Tue Mar 10 22:27:31 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_flush): New function.
	(gnome_client_disconnect): Flush client.
	* gnome-client.h (gnome_client_flush): Declare.

	* gnome-client.c (gnome_client_set_restart_command): Don't insert
	--sm-client-id option if restart_command is NULL.
	(gnome_real_client_connect): Likewise.

Tue Mar 10 15:01:05 1998  Federico Mena <federico@nuclecu.unam.mx>

	* gnome-color-selector.c (gnome_color_selector_new): Use the
	proper visuals for the color selectors.

Mon Mar  9 23:59:41 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_load_layout): Remove gracious printf.

1998-03-09  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-init.c (gnome_init): Only set `program_invocation_name'
	and `program_invocation_short_name' if they are not already set.

Mon Mar  9 23:21:22 1998  Eckehard Berns  <eb@berns.prima.de>

	* stock_demo.c: added stock icon properties,
	added descriptions for `other icons'

	* gnome-stock*: changed other icons to look like tigert's and added
	a preferences stock icon.

Mon Mar  9 17:37:44 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (gnome_init): Set program_invocation_short_name.

Mon Mar  9 17:37:17 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-init.c (gnome_init): Initialize the
	program_invocation_name.  Wonder if this fixes stuff for people?

Sun Mar  8 17:59:38 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (INCLUDES): Added @SUPPORTINCS@.
	(ted_demo_LDADD): Added @LIBSUPPORT@.
	(stock_demo_LDADD): Likewise.

Sat Mar  7 01:21:57 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_new_without_connection): Don't look
	for magic argument.
	(default_client_connect): Use sm_client_id_prop.
	(default_client_disconnect): Likewise.
	(array_has_sm_client_id_arg): Removed.
	(array_insert_sm_client_id_arg): Now static.
	(gnome_client_set_clone_command): Duplicate RestartCommand if
	clone command is freed.
	(gnome_real_client_connect): Only add magic option to duplicate of
	restart command.
	(gnome_client_set_restart_command): Likewise.
	(array_copy): Now static.
	(array_init_from_arg): Likewise.
	(array_free): Likewise.
	(array_remove_sm_client_id_arg): Removed.

	* stock_demo.c (main): Use new form of gnome_init.
	* ted_demo.c (main): Use new form of gnome_init.

Fri Mar  6 21:46:37 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_get_default_client): Removed.
	(gnome_client_new_default): New function.
	(default_client_init): Renamed, now static.
	(arguments): New static.
	(parser): Likewise.
	(client_parse_func): New function.
	(gnome_client_new): Changed interface.
	(gnome_client_new_without_connection): Likewise.

	* gnome-init.c (gnome_init): Pass argv[0], not *argv[0], to
	gnome_rc_parse.

Sat Mar  8 02:35:33 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-{imlib,xpm}.h: foolishly tried to make remaning stock
	icons look like tigert's pixmaps.

	* gnome-stock.c: changed_size fields (20x20 -> 24x24) for affected icons

Sat Mar  7 16:40:08 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c (create_pixmap_from_data): use
	gnome_pixmap_new_from_xpm_d_at_size.

	* gnome-stock.h: added new stock icons: print, search, back, forward.

	* gnome-stock-{imlib,xpm}.h: added tigert's icons.

	* stock_demo.c: included new icons

Fri Mar  6 18:06:32 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{,-imlib,-xpm}.[ch]: reorganized pixmaps.
	./pixmaps/ isn't needed any longer

Wed Mar  4 00:14:01 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_new_layout): create widgets with an argument
	that specifies where the layout is stored.

1998-03-03  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-about.c (gnome_about_new): Uses /* */ comments, not //.

1998-03-01  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.c (gnome_pixmap_expose): I have to draw the pixmap on
	every expose :-(

1998-03-01  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.c: fixed GnomePixmaps positioning.

	* gnome-stock.c (..._size_request): request size of current pixmap
	if there is one.

	* gnome-stock-{imlib,xpm}.h: added/changed those nasty stock button
	pixmaps to other nasty pixmaps (when will someone with at least a
	minimum of some drawing skill replace my ugly pixmaps?)

Sun Mar  1 00:23:29 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-about.c (gnome_about_display_comments): Simplified
	paragraph splitting.  Don't crash if comments is empty string.
	Don't leak memory if malloc fails.

Sat Feb 28 17:27:41 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_new): Set app->name to appname.  Do not
	know how this got to the current state.

1998-02-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_expose): Repaint only the exposed area.
	(gnome_pixmap_size_allocate): Center the pixmap's window on its allocation.
	(setup_window_and_style): Center the window on the widget's allocation.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-scores.c: Set window policy for the score dialog so that it
	                  doesn't shrink nor grow.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-scores.c: The scores dialog now uses a stock button for OK.

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-stock.c (build_disabled_pixmap): The style that provides
	the GC for painting should come from the pixmap, not from the
	window, to avoid BadMatch problems.  Also, the visual and colormap
	should come from there.  Eliminated the window argument, as it is
	no longer needed.
	I still have a problem, though.  The widget needs to be realized
	to pick its style (for the gc).  So I realize it if it is not
	realized yet --- this will create a toplevel window if the widget
	has not been parented yet, and looks extremely ugly, and doesn't
	work.
	(build_disabled_pixmap): OK, I now use a color context to paint
	the stipple, so realization is not needed.
	(build_disabled_pixmap): Removed unused variable style.

1998-02-26  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: made gnome-stock use gnome-pixmap.

Thu Feb 26 18:07:40 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-about.c: Undefine _ when compiling to avoid clash with
	i18n definition.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-stock.[ch]: New tb_scores pixmap for the games.

        * gnome-about.c (gnome_about_new): Now uses a stock button for OK.

1998-02-25  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_add_radio_toolbar_entries): Use
	the GnomePixmap widget.
	(gnome_app_do_toolbar_creation): Likewise.

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-app.c (gnome_app_new): Use "" instead of NULL.  Friendler
	to systems where `strlen(NULL)' is broken.

1998-02-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_init): GnomePixmap is a GTK_BASIC
	widget.

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (load_file): New internal function that takes
	care of file loading and widget setup.
	(gnome_pixmap_load_file): Changed to use load_file() internally.
	(gnome_pixmap_load_file_at_size): New function to load an image
	file and resize it to the specified size.  For example, this is
	useful to have a single icon size for the panel and just specify
	the size one will use (full size for the launchers, half size for
	menu items, etc.).
	(gnome_pixmap_new_from_xpm_d): New function, creates pixmap from
	XPM data in memory.
	(gnome_pixmap_new_from_xpm_d_at_size): Likewise.
	(gnome_pixmap_load_xpm_d): Likewise.
	(gnome_pixmap_load_xpm_d_at_size): Likewise!
	(gnome_pixmap_new_from_rgb_d): New function, creates pixmap from
	RGB plus (optional) Alpha data in memory.
	(gnome_pixmap_new_from_rgb_d_at_size): Likewise.
	(gnome_pixmap_load_rgb_d): Likewise.
	(gnome_pixmap_load_rgb_d_at_size): Likewise, you know it!
	(finish_load): New misc. internal function that does all the
	boilerplate image loading finalization.
	(load_file): Modified to use finish_load().
	(load_xpm_d): New internal function.
	(load_rgb_d): Likewise.

	* gnome-app-helper.c (gnome_app_do_toolbar_creation): Use
	gnome_pixmap_new_from_file() widget instead of
	gnome_create_pixmap_widget().  I did not replace the
	g_c_p_widget_d() call because GnomePixmap does not support
	creating pixmaps from xpm data yet.

	* gnome-pixmap.c:
	* gnome-pixmap.h: New GnomePixmap widget!  It was created to
	replace the ugly gnome_create_pixmap_*() functions.  Now you can
	simply do something like:

		GtkWidget *gpixmap;
		gpixmap = gnome_pixmap_new_from_file ("hello.jpg");
		gtk_container_add (container, gpixmap);
		gtk_widget_show (gpixmap);

	And that's it.  The GnomePixmap widget takes care of all the
	visuals/colormaps/other_icky_X_stuff.

	GnomePixmap uses gdk_imlib for its work, so now gdk_imlib is a
	required component of Gnome.  Please install it if you have not
	done it yet; it is a very cool thing to have.

	During the next hours, I will be converting most of Gnome to use
	the new GnomePixmap widget instead of the old
	gnome_creat_pixmap_*() functions.

	* gnome-init.c (gnome_init): Added gdk_imlib_init() to the GnomeUI
	initialization procedure.

1998-02-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.c (gnome_default_client_init): New function.
	Creates a new client without connection to a session manager.
	This client is called the 'default client'. (Not used yet)
	(default_client_connect): New callback function.  This callback is
	registered to the connect signal of the default client and sets
	the SM_CLIENT_ID property to the gdk client leader window.
	(default_client_disconnect): New callback function.  Removes
	SM_CLIENT_ID property.
	(gnome_get_default_client): New function.

	* gnome-app-helper.h: Removed comma in pixmap_type.

1998-02-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-entry.c (entry_activated): Now the GnomeEntry pushes a
	history item if the entry field was activated (via return key, for
	example).  We do proper checks to see if it is not an empty string
	and such (in which case a history item does not need to be pushed).

	* gnome-entry.h: Added changed field.  This is set to true if the
	entry field has changed but it has not been put into the history
	list.  False otherwise.

	* Gnome-entry.c: First usable version of the GnomeEntry widget.

	* gnome-startup.c:
	* gnome-client.c: Added #include <string.h>

	* libgnomeui.h: Added gnome-entry.h to the includes list.

	* Makefile.am: Added gnome-entry.{c,h}

	* gnome-entry.c:
	* gnome-entry.h: New Gnomentry widget -- entry field with
	automagic history saving.

	* ted_demo.c (main): Added app_id "ted_demo".

	* stock_demo.c (main): Added app_id "stock_demo".

	* gnome-init.c (gnome_init): Added app_id parameter to this
	function.  Changes to the rest of Gnome are in progress.

1998-02-19  Carsten Schaar <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-session.c: Removed. Was replaced by gnome-client.

	* gnome-session.h: same as above.

Wed Feb 18 13:52:00 PST 1998  Christoph Toshok  <toshok@hungry.com>

	* gnome-app-helper.c (gnome_app_do_menu_creation): If any items in
	a menu have GNOME_APP_PIXMAP_STOCK, use gnome_stock_menu_item for
	all of them, so the left side of the labels line up.
	(gnome_app_do_toolbar_creation): Use gnome_stock_pixmap_widget_new
	to create the toolbar button.

Wed Feb 18 17:03:13 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-about.c (gnome_destroy_about): Fixed refcounting.
	(gnome_fill_info, gnome_about_new): Fixed I18N problem.  (but a
	dirty hack, it uses ONLY the fonts from gtkrc.).
	* gtkrc: Moved GnomeAbout styles to here.

1998-02-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-init.c (gnome_init): At last!  The horribly broken
	gnome_colors goes to hell now that we have imlib and the
	GdkColorContext :-)

	* libgnomeui.h: Removed gnome-colors include.

Tue Feb 17 00:16:49 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-messagebox.c (gnome_messagebox_button_clicked): Fixed
	buttonnumber counting.

	* gnome-scores.[ch]: Fixed i18n problem.  All color/font settings
	are in gtkrc.
	(gnome_scores_set_logo_label_title): New function
	(gnome_scores_set_current_player): New function.
	* gnome-scores.c (gnome_scores_display): Use the above new
	functions.

	* gtkrc: New file, the global gtk+ rc file of GNOME.
	* Makefile.am: Added gtkrc.

1998-02-17  Eckehard Berns <eb@berns.prima.de>

	* gnome-stock.[ch]: added width/height fields to the
	GnomeStock...Entry structs to make sure a size_request gets the
	correct values.

Tue Feb 17 00:16:49 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>


	* gnome-scores.c (gnome_scores_set_color): gtk_style_unref() new
	GtkStyle after gtk_widget_set_style.
	(gnome_scores_set_logo_label): Likewise.
	* gnome-about.c (gnome_about_new): Likewise.
	* gnome-font-selector.c (text_resize_text_widget): Likewise.


Mon Feb 16 11:53:14 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-client.h: Include <gtk/gtkobject.h>.

Sun Feb 15 21:22:33 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnomeui.h: Include gnome-startup.h.
	* Makefile.am (libgnomeui_la_SOURCES): Include gnome-startup.c.
	(libgnomeuiinclude_HEADERS): Include gnome-startup.h.
	* gnome-startup.c: New file.
	* gnome-startup.h: New file.

	* gnome-client.c (gnome_client_init): Initialize previous_id.
	(gnome_real_client_destroy): Free previous_id if required.
	(gnome_client_new_without_connection): Set previous_id.
	(gnome_client_get_previous_id): New function.
	* gnome-client.h (struct _GnomeClient): Added previous_id member.
	(gnome_client_get_previous_id): Declare.

	* gnome-client.h: Corrected comment.

Sat Feb 14 17:15:18 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-scores.h (test): Removed declaration.

	* gnome-client.h: Removed RCS "Id" line.

1998-02-15  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.h: Two arguments were named 'id'.  This broke
	the objectiv-c interface, so I named them 'client_id' and
	'user_id'.

1998-02-14  Christoph Toshok <toshok@hungry.com>

	* gnome-app-helper.c (gnome_app_create_menus_with_data): new
	function, to handle the (common) case of creating an entire menu
	system with the same callback data.
	(gnome_app_create_toolbar_with_data): analogous addition for
	toolbars.
	(gnome_app_do_menu_create): add data parameter, which is passed in
	by both gnome_app_create_menus_with_dat and
	gnome_app_create_menus, and which is passed on to
	gtk_signal_connect.  Also, add handling for new menuinfo type,
	GNOME_APP_MENU_SEPARATOR.
	(gnome_app_do_toolbar_create): analogous change for toolbars.
	* gnome-app-helper.h: wrap with BEGIN_GNOME_DECLS/END_GNOME_DECLS
	and add GNOME_APP_MENU_HELP enum.

1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* libgnomeui.h: includes the new session management
	support header file 'gnome-client.h' instead of the old one
	'gnome-session.h'

	* Makefile.am (libgnomeui_la_SOURCES): replaced 'gnome-session.c'
	with 'gnome-client.c'
	(libgnomeuiinclude_HEADERS): replaced 'gnome-session.h' with
	'gnome-client.h'
	(ted_demo_LDADD): added '$(INTLLIBS)'
	(stock_demo_LDADD): added '$(INTLLIBS)'

	* gnome-client.h: new file

	* gnome-client.c: new file

1998-02-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-about.c (gnome_fill_info): Made gdk_color_alloc() use the
	widget default colormap instead of the system colormap.  This is
	actually not the right way to do it; the about box should do all
	color allocation via a GdkColorContext.  The cc structure should
	reside in the GnomeAboutClass so that all about boxes can share it.

	* gnome-stock.c (gnome_stock_pixmap_widget_state_changed): Added
	gtk_widget_ref() when a new pixmap is created, because later they
	may get gtk_container_remove()d.
	(gnome_stock_pixmap_widget_size_request): Bad hack: if the pixmap
	window is NULL, we return a default size.  The gnome-stock
	architecture has to be rewritten, I think.  Please see my
	forthcoming post to gnome-list for a proposal on how to do this.

	* gnome-app.c: indentation fixes.

	* gnome-stock.c (build_hash_key): Made routine use g_copy_strings().

Fri Feb 13 19:03:21 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_parse_pos): Initialize flags to zero before
	doing the parsing.

Fri Feb 13 18:23:02 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-messagebox.c: Message boxes now take a variable number of
	arguments instead of having 3 options at most.

Fri Feb 13 18:09:46 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_update_position): More refcouting joy.

Fri Feb 13 11:45:12 1998  Nuno Ferreira <nmrf@rnl.ist.utl.pt>

	* gnome-app.c (gnome_app_configure_positions): use app->toolbar
	when dealing with the toolbar, not app->menubar.

Wed Feb 11 15:06:05 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_widget_drop
	gtk_ted_prepare_editable_widget): refcouting fixes

