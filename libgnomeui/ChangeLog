Thu Apr 30 23:13:31 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: added an accelerator table and
	  accelerators since too many people complained about it.
	  it doesn't work for the numpad which is kind of weird

Thu Apr 30 21:31:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (client_set_prop_from_string): Don't include
	trailing \0 in length.
	(client_set_prop_from_array): Likewise.

Thu Apr 30 23:25:19 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h (struct _GnomeDialog): New member, 
	GtkAcceleratorTable * accelerators
	* gnome-dialog.h (gnome_dialog_set_accelerator): New function, EZ
 	way to connect an accelerator to a button.
	* gnome-dialog.h (gnome_dialog_close): New function. Emits
	delete_event, hides then destroys only if delete_event isn't
	handled.
	* gnome-propertybox.c (just_close): Use gnome_dialog_close.
	* gnome-dialog.c: Use gnome-uidefs rather than custom
	button/border sizes. Implement new gnome-dialog.h interfaces.
	* gnome-dialog.c (gnome_dialog_key_pressed): New function, 
	gnome_dialog_close if GDK_Escape is pressed, otherwise
	call parent's key_press_event handler.
	* gnome-dialog.c (gnome_dialog_class_init):
	widget_class->key_press_event = gnome_dialog_key_pressed;
	* gnome-dialog.c (gnome_dialog_init): Create accelerator table.
	* gnome-dialog.c (gnome_dialog_button_clicked): Use 
	gnome_dialog_closed() to self destruct.
	* gnome-dialog.c (gnome_dialog_destroy): Unref accelerator table.

Thu Apr 30 21:31:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (client_parse_func): Set previous_id for client.

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c: return meaningful values from most routines.  

Thu Apr 30 11:45:38 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-app-helper.c (gnome_app_create_menus_custom,
	gnome_app_do_toolbar_creation): if GnomeApp gets a new accelerator
	table, add it to the window.

Thu Apr 30 01:27:52 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Removed.

1998-04-30  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-geometry.c (get_number): Handle the case +-10.

Thu Apr 30 00:48:54 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-less.h, gnome-less.c: Added simple widget to display a
 	file or command output. GtkText wrapper. Not included in Makefile
	due to feature freeze. 
	* gnome-uidefs.h: Added GNOME_BUTTON_WIDTH, GNOME_BUTTON_HEIGHT.
	Shouldn't break anything.
	
1998-04-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-color-selector.c (gnome_color_selector_button_clicked):
	Use correct visual and colormap for color selector.

1998-04-29  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (finish_load): Hide the old window and show the
	new one if the widget is mapped.  Otherwise reloading a new pixmap
	won't work right.

Wed Apr 29 21:16:28 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-dialog.c (gnome_dialog_append_buttons): changed signal_connect
	for button to signal_connect_after.

1998-04-29  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-geometry.c (gnome_parse_geometry): Add preconditions;
	Support 'X' and '=' as XParseGeometry does.

1998-04-28  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-geometry.c: New file, provides X geometry string parsing.

1998-04-28  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-propertybox.c (global_apply): Use correct types for the
	parameters passed to gtk_signal_emit().

	* gnome-propertybox.h (struct _GnomePropertyBoxClass): Fixed
	prototypes for the signal handlers (they take a gint parameter as well).

Sun Apr 26 15:40:48 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: supplied `About' icon for use in buttons

Sun Apr 26 00:18:02 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c (gnome_dialog_init): Pack the dialog's vbox 
	with expand set to TRUE.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-file-entry.c (gnome_file_entry_init): Undo the emission of
	a signal on content change, as GtkText already emitted "changed". 

Sat Apr 25 14:04:55 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{.c,-imlib.h}: fixed apply/ok stock buttons, added trash
	and trash_full to the list of stock menu items.

Fri Apr 24 16:32:33 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk-socket.c: Re-fixed destroy handling on the socket
	so that it can be destroyed correctly _and_ notifies
	the child correctly of the destruction.

Thu Apr 23 20:50:56 1998  George Lebl  <jirka@5z.com>

	* gtk-socket.c: fixed destroy handeling on the socket,
	  before it only worked if you destroyed the plug, if
	  you destroyed the socket it just messed up

1998-04-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dialog.c (gnome_dialog_new): Actually set the window
	title; it was just being ignored.

Fri Apr 24 01:32:21 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: added new icons by tigert

	* gnome-stock.c (stock_button_from_entry): added support for normal
	stock icons in stock buttons

Wed Apr 22 19:29:49 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.h: Added better comments.
	* gnome-dialog.c (gnome_dialog_button_connect): New function.

1998-04-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-calculator.c (gnome_calculator_class_init): Register the
	signals. 

	* gnome-file-entry.c (gnome_file_entry_init): Added emission of a
	signal when the information on the entry changes. 

Wed Apr 22 16:47:49 CEST 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock: added new icons by tigert

1998-04-21  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-calculator.c (gnome_calculator_init): Add padding to
	calculator buttons. 

	* gtkcalendar.c (gtk_calendar_select_day): Call
	gtk_calendar_compute_days every time when selecting a day and a
	month.

Tue Apr 21 14:26:22 1998  George Lebl  <jirka@5z.com>

	* gnome-calcualtor.c: spelling error in comment

Tue Apr 21 00:04:28 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: use function call finite and stop
	  NAN's. this should help portability

1998-04-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-calculator.c (gnome_calculator_init): Added
	internationalization. 

	* gnome-app-helper.h (GNOMEUIINFO_ITEM_STOCK): New macro, this one
	uses STOCK pixmaps.

Sun Apr 19 17:34:22 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.c: Cleanup and rearranging, generalized some
	functions to think about moving them to gnome-util.
	* gnome-appsmenu.h: Fixed a typo.

Sat Apr 18 16:32:09 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: catch SIGFPE's and set error, this
	  catches all the errors (intel doesn't give SIGFPE's
	  enough, and alpha SIGFPE's all over the place)

Fri Apr 17 19:42:54 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: #define GNOME_APPS_MENU_DENTRY_DIR_EXTENSION 

	* gnome-appsmenu.c: Saving works now, mostly. Successfully loaded 
	system menu, saved in .gnome, reloaded, displayed.
	(GNOME_APPS_MENU_DEBUG_PRINT): debugging macro
	(g_extract_file): New, reverse of g_concat_dir_and_file (may move 
	to gnome-util along with get_extension, is_dotfile?).
	(dentry_save_func): Implemented.
	(is_dotfile): Oops, didn't stop at first path separator. Fixed.
	(gnome_apps_menu_new_from_file): optimized to immediately ignore
	backup files.	
	(gnome_apps_menu_save): Made to work, previously it saved the
 	.directory file in the wrong directory and got confused. Still
 	does symlinks wrong I think (like ftw(), potentially traverses
 	them twice.)

Fri Apr 17 15:49:02 1998  George Lebl  <jirka@5z.com>

	* gnome-calcualtor.c: fix the +/- button to actually
	  change the sign.

Fri Apr 17 16:03:36 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h (GnomeAppsMenu): rearranged order of items
	in struct (put bit flags together)
	(GnomeAppsMenuSetupFunc): Changed required behavior - can now
	take NULL arguments and ignore them.

	* gnome-appsmenu.c: Implemented vtable instead of function
	lookup, meaning small changes throughout.
	(gnome_apps_menu_check): Check presence of vtable.
	(find_class): Took out this function, not needed with vtables.
	(dentry_setup_func): Changed to use new SetupFunc semantics.
	(dentry_save_func): New function, just a stub.
	(gnome_apps_menu_new_from_file): new function.
	(gnome_apps_menu_load): destroy empty menu, and return NULL,
	rather than return an empty menu.	
	(gnome_apps_menu_save): Removed use of ftw(). Get name of
 	directory AppsMenu and create a matching filesystem
 	directory. Delete empty filesystem directories. Delete old backup
 	files. Still doesn't work, some kind of memory corruption, and
 	likely fails on symlinks or other weird situations.
	(gnome_apps_menu_new): Init vtable.
	
1998-04-17  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* gtkcalendar.[hc]: display option GTK_CALENDAR_NO_MONTH_CHANGE to 
	avoid undesired month changings.

1998-04-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (gnome_date_edit_new): Now gets a show_time
	flag that indicates show the time part (or just the date).
	(gnome_date_edit_init): Fix cut&paste typo when showing time_entry.

1998-04-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (gnome_date_edit_set_time): Print the date correctly.

Thu Apr 16 00:18:13 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: added error handeling,
	  some workarounds to alpha's SIGFPE problem, and
	  added a result_changed signal.

Thu Apr 16 02:06:07 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Renamed "variety" to
	"class" throughout, for clarity. Starting on using a vtable
	instead of whatever dumb thing I was doing.
	(GnomeAppsMenuGtkMenuItemFunc): Replaced by 
	GnomeAppsMenuSetupFunc, this is more versatile and works
	with GtkTree or whatever as well. Uses of GtkMenuItemFunc
	changed appropriately.
	(gnome_apps_menu_setup): Calls setup function.
	(gnome_apps_menu_save, gnome_apps_menu_save_default): new
	functions, started implementing them.

Wed Apr 15 18:03:36 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: Updated comments.

	* gnome-appsmenu.c: Moved things around and fixed comments to make
 	file clearer.
	(gtk_menu_item_new_from_apps_menu): Fixed bug which assumed menu
 	was of homogeneous type (because the particular variety's function
 	did the recursion rather than the generic function).
	(gtk_menu_new_from_apps_menu): ignore the root node, rather than
 	creating a one-item menu with the root node on it. Remaining bug:
 	Child menus show up on my screen before I call _show() on the root
 	menu. I do not understand this.

1998-04-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (gnome_date_edit_init): The "Calendar" button
	is now prettier.

	* gnome-dateedit.c (select_clicked): The date editor widget now
	has a real popup for the calendar, and generally does the calendar
	stuff in a saner way.

Wed Apr 15 00:57:30 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.c: I got a working panel-like menu out of
 	share/apps, so that's progress. Many rough edges remain. Changes:
 	use G_DISABLE_CHECKS; implemented function to create GtkMenuItem
 	from the menu structure, complete with pixmaps; took out some
 	unused code

	* gnome-appsmenu.h (GNOME_APPS_MENU_IS_DENTRY): Removed unused
 	macros for identifying .desktop-based menus, according to new "no
 	special cases" policy.	

1998-04-15  Arturo Espinosa Aldama  <arturo@nuclecu.unam.mx>

	* gtkcalendar.c (gtk_calendar_size_allocate): just an if to
	avoid a warning when not using the header window.
	
	* gtkcalendar.c (gtk_calendar_select_day): another if for added
	functionality: gtk_calendar_select_day (my_widget, 0) now eliminates
	any selected day in the calendar. This was already possible, but
	generated a warning.

1998-04-14  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c (day_selected): Use gtk_calendar_get_date ().

	* gtkcalendar.c (gtk_calendar_size_request): In libdate, months
	are indexed in [1, 12].  Make the calculation of the max month
	width know about this.
	(gtk_calendar_get_date): Added gtk_calendar_get_date() function to
	avoid the user having to access the widget's fields.

	* gtkcalendar.h: Added prototype for gtk_calendar_get_date().

	* gnome-dateedit.c (select_clicked): Add 1900 to the tm_year field
	of the struct tm.  The calendar was getting the wrong year.
	(day_selected): Synchronize calendar month and displayed month.
	(gnome_date_edit_get_date): We have to test for >= 1900, not just >.
	(gnome_date_edit_set_time): Add 1900 to tm_year.

	* gnome-dateedit.c (gnome_date_edit_class_init): Initialize signal
	handlers.
	(gnome_date_edit_init): Changed flags passed to
	gtk_box_pack_start() to make the widget look nicer when resized.

	* gnome-dateedit.h: Fixed the declarations for the class signals.

Tue Apr 14 16:35:40 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h (gnome_apps_menu_new): Now has
	arguments.
	* gnome-appsmenu.c: Added lots of debugging stuff to
	check invariants. Broke gnome_apps_menu_load() apart
	into lots of little functions and it seems to work now.

Tue Apr 14 00:34:54 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: added parenthesis and factorial,
	  which means that except for error handeling it's
	  almost complete

Mon Apr 13 22:48:11 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: added conversions DEG/RAD/GRAD

Mon Apr 13 22:17:02 1998  George Lebl  <jirka@5z.com>

	* Makefile.am: added pixmap subdir

	* pixmaps/Makefile.am: install calcualtor-font.xpm

	* gnome-calculator.[ch]: reduce object size by not
	  including the font pixmap and redone how buttons are
	  made

Tue Apr 14 10:27:25 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Fixed many little glitches,
	after first compilation attempt. Compiles, doesn't work. Copyright
	changed to FSF. 

Mon Apr 13 00:43:32 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: fixed display

Sun Apr 12 23:43:11 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.c: added e and PI buttons and made
	  the display have more digits after .

Sun Apr 12 23:28:02 1998  George Lebl  <jirka@5z.com>

	* gnome-calcualtor.c: DEG/RAD/GRAD modeswitching button
	  added

Sun Apr 12 23:01:24 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: now has pretty font display,
	  reduced the number of digits to 12 and added
	  memory functions.

	* pixmaps/calculator-font.xpm: the font for the
	  calculator display

Sun Apr 12 19:29:52 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: killed a few bugs, seems to
	  kind of work now

Sun Apr 12 17:24:39 1998  George Lebl  <jirka@5z.com>

	* gnome-calculator.[ch]: added the beginnings of a
	  double precision calculator widget modeled after
	  xcalc

	* libgnomeui.h, Makefile.am: added gnome-calculator
	  references

Sat Apr 11 14:20:26 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c: Began implementing
	load and menu creation functions. .directory support.
	* gnome-appsmenu.h (gtk_menu_item_new_from_apps_menu): New
	function.

Sat Apr 11 11:35:24 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h, gnome-appsmenu.c 
	(gnome_apps_menu_load_system, gnome_apps_menu_load_default):
	Two new functions.
	(GnomeAppsMenuVariety): moved from .h to .c
	(gnome_apps_menu_variety_new): also moved
	
1998-04-10  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-app-helper.h (GnomeUIInfoType): New type, extracted from
 	GnomeUIInfo, to make access to this type easier when using C++.
	(GnomeUIPixmapType): likewise
	(GnomeUIInfo): Use GnomeUIInfoType and GnomeUIPixmapType.
	(GNOMEUIINFO_END): Use expicit type casts to GnomeUIPixmapType and
 	GdkModifierType to prevent C++ from generating compiler warnings.
	(GNOMEUIINFO_SEPARATOR): likewise
	(GNOMEUIINFO_ITEM): likewise
	(GNOMEUIINFO_ITEM_DATA): likewise
	(GNOMEUIINFO_TOGGLEITEM): likewise
	(GNOMEUIINFO_TOGGLEITEM_DATA): likewise
	(GNOMEUIINFO_HELP): likewise
	(GNOMEUIINFO_RADIOLIST): likewise
	(GNOMEUIINFO_RADIOITEM): likewise
	(GNOMEUIINFO_RADIOITEM_DATA): likewise

Fri Apr 10 00:14:03 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h (gnome_apps_menu_variety_new): 
	New function.
	* gnome-appsmenu.c: Continued implementation. Variety
	registration is done, load and GtkMenu creation isn't.

Thu Apr  9 23:25:29 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: Added basic menu-manipulation functions.
	* gnome-appsmenu.c: New file, began implementation. 
	Doesn't work yet.

Thu Apr  9 22:12:49 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-appsmenu.h: New interface, not yet implemented.

Wed Apr  8 19:17:18 1998  Havoc Pennington  <hp@pobox.com>

	* gnome-dialog.c, gnome-messagebox.c: Use gnome-uidefs.h
	* libgnomeui.h: #include gnome-uidefs.h
	* gnome-uidefs.h: New file. 

1998-04-07  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (lift_me): I never thought that
	gtk_signal_emit_stop_by_name was so easy to use :-).
	This means, GtkTed is now back to functional for GUI editing. 

	(gtk_ted_setup_layout): Handle the case where the widgets do no
	longer exist in the code, but the layout file still has
	information on them.

	(gtk_ted_init_divisions): New routine, now when editing an
	existing dialog box, the correct number of control rows/columns
	are created.
	
Mon Apr  6 13:10:43 CDT 1998 Havoc Pennington  <hp@pobox.com>

	* gnome-about.h (GnomeAboutButton): typedef removed.
	* gnome-about.h (GNOME_ABOUT_BUTTON_WIDTH,
	GNOME_ABOUT_BUTTON_HEIGHT): defines removed.
	* gnome-about.h, gnome-about.c: GnomeAbout now derives from 
	GnomeDialog. 
	* gnome-about.c: Unused signal enum removed.
	* gnome-about.c (parent_class): Unused global variable 
	removed.
	* gnome-about.c: Removed button-creating code, since
	GnomeDialog handles it.
	* gnome-about.c (gnome_about_button_clicked): Callback
	removed, GnomeDialog handles it.
	* gnome-about.c: Removed border-width code; use default
	border from GnomeDialog.
	* gnome-about.c (gnome_destroy_about): Fixed memory leak;
	function freed uninitialized tmp variable rather than 
	gai->names. Removed tmp declaration.
	* libgnomeui.h: #include <libgnomeui/gnome-dialog.h>
	* gnome-net.h: use BEGIN_GNOME_DECLS
	* gnome-net.c (gnome_net_gets): changed if (errno = EAGAIN)
	to if (errno == EAGAIN). 
	* gnome-about.c, gnome-net.c, gnome-scores.c, 
	gnome-propertybox.c: #include specific headers, not <gnome.h>
	* gnome-propertybox.c, gnome-messagebox.c, gnome-dialog.c:
	Removed i18n defines; will use new private header.
	* gnome-actionarea.h: Added a "deprecated" comment.
	* gnome-dialog.h, gnome-dialog.c (gnome_dialog_set_sensitive):
	New function to set button sensitivity.
	* gnome-propertybox.h, gnome-propertybox.c: Now derives from 
	GnomeDialog.
	* gnome-propertybox.c (GNOME_PAD): Removed this #define.
	* gnome-propertybox.c (dialog_clicked_cb): new function.
	* gnome-propertybox.c: Changed signature of previous button
	callbacks. They are now called from dialog_clicked_cb, so 
	they have no button argument.
	* gnome-propertybox.c (gnome_property_box_init): Don't set 
	up button box or vbox, since GnomeDialog now handles that.
	* gnome-propertybox.c (global_apply): return if
	property_box->items == NULL. Initialize variable 'item' to 
	NULL, to make -Wall happy.
	* gnome-dialog.c (gnome_dialog_button_clicked): Since 
	PropertyBox destroyed itself when this function emitted 
	"clicked", and this function then tried to look at a 
	GnomeDialog struct member, there was a bug. Fixed.
	* gnome-propertybox.c (gnome_property_box_init): Don't do
	the 3D frame, since GnomeDialog handles it.
	* gnome-dialog.c (gnome_dialog_init): Added a nice 3D bevel
	to the edge of the dialog, like gnome-propertybox had.

1998-04-06  Marc Ewing  <marc@redhat.com>

	* gtk-socket.[ch]: change "id" parameter name to "wid"
	  so as not to conflict with objc reserved word (again).

Mon Apr 06 00:57:23 1998  George Lebl  <jirka@5z.com>

	* gtk-{plug,socket}.[ch]: updated to owen's 
	  plugsocket v0.2

Fri Apr  3 23:29:11 1998  Havoc Pennington <hp@pobox.com>

	* gnome-messagebox.c, gnome-messagebox.h: Now derived from
	gnome-dialog.
	* Makefile.am (libgnomeui_la_SOURCES): Added gnome-dialog.c.
	(libgnomeuiinclude_HEADERS): Added gnome-dialog.h.
	* gnome-dialog.c, gnome-dialog.h: New files.

1998-04-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-dateedit.c: #include <string.h>
	Removed unused global variable parent_class.

	* gnome-dateedit.h: Add prototype for gnome_date_edit_get_type().

1998-04-03  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-dateedit.c (fill_time_popup): Make the top boundary inclusive

1998-04-02  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtkcalendar.[ch]: Update to latest version from gcalendar cvs module.

1998-04-01  Arturo Espinosa  <arturo@nuclecu.unam.mx>

	* gtkcalendar.c (gtk_calendar_select_month,
	gtk_calendar_select_day): Don't paint unless the widget is drawable!

1998-04-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-dateedit.c, gnome-dateedit.h: New widget for editing a
	date/time. 

	* gtkcalendar.c (gtk_calendar_class_init): Declare signal
	"day_selected"; 
	(gtk_calendar_marshall_date): Marshaller for new signal.
	(gtk_calendar_main_button): when a click happens in a day, emit
	the signal day_changed.
	
1998-04-01  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtkcalendar.[ch]: Updated to latest version from gcalendar
	module.

1998-03-31  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c: Added Shawn's and Cesar's calendar widget to the
	gnome-libs. 

1998-03-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_moveto): Finished
	implementing moveto routine.  It only supports vertical alignment,
	as the icon list tries to display only whole columns and thus
	disable horizontal scrolling.

	* gnome-icon-list.h: New function gnome_icon_list_get_icon_at().
	Returns the index of the icon that is under the specified
	coordinates, or -1 if the coordinates are over white space.

	* gnome-icon-list.c: Added missing functionality regarding
	selecting/unselecting of icons.

1998-03-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_icon): Only try to set the masks if the pixmap exists.
	(get_icon_num_from_xy): Fixed a couple of off-by-one errors.

Sat Mar 28 18:12:33 CET 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{,-imlib}.[ch], stock_demo.c: Added more of tigert's
	pixmaps.

1998-03-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_icons_area): Only paint icons within
	exposure area width.
	(adjust_scrollbars): Use better values for step_increment in adjustments.

1998-03-27  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome_segv.c: included "config.h"
	(main): Added i18n.
	
1998-03-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.h: New files gnome-icon-list.[ch].  This
	provides the GnomeIconList widget.  It is an icon list widget with
	several display modes.  It has an API very similar to the
	GtkCList, so using it should be easy.  It will be used on the file
	manager for the iconic view, for an icon selector property box,
	etc.  It is still not finished and it has bugs, but you can start
	playing with it now.  There is a small example program on
	http://www.nuclecu.unam.mx/~federico/test-ilist.c

	* libgnomeui.h: Added gnome-icon-list.h to the includes.

	* Makefile.am: Added gnome-icon-list.[ch] to the rules.

Thu Mar 26 13:29:18 1998  Radek Doulik  <gis@academy.cas.cz>

	* gnome-client.c (gnome_client_flush): check HAVE_LIBSM, hope I don't
	break something

Wed Mar 25 01:30:00 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* stock_demo.c: use the "Really quit?" message box for real.

	* gnome-stock.c: minor i18n fix for clist titles.

Tue Mar 24 23:06:44 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-messagebox.c (gnome_message_box_init): applied patch from
	robert havoc pennington <rhpennin@midway.uchicago.edu> with some
	sanity checks and use of gnome_pixmap_file

Tue Mar 24 22:32:11 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-propertybox.c: applied patch from Havoc Pennington
	<hp@pobox.com>

Tue Mar 24 19:24:23 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-messagebox.c (gnome_message_box_new): use
	gnome_pixmap_new_from_file for pixmap loading

	We will have to supply some pixmaps for the gnome message box. I
	couldn't find any "bomp.{xpm,png}".

Tue Mar 24 19:24:23 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-app-helper.c (gnome_app_do_ui_accelerator_setup): use
	gtk_widget_install_accelerator to make the accelerators visible in
	the menu

Tue Mar 24 19:16:55 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* stock_demo.c, gnome-stock.c: use GnomePropertyBox's own signals.

	* gnome-propertybox.c: fix some box-packing (to allow window resizing).
	(just_close): fix "delete_event" (segfaulted if someone realy catched
	the signal)

Tue Mar 24 01:07:14 1998  Tom Tromey  <tromey@cygnus.com>

	* stock_demo.c (message_dlg): New function to test
	gnome-messagebox.  (This could be moved elsewhere; it is just a
	hack.)

	* gnome-propertybox.c (gnome_property_box_new): Buttons now kept
	in a button box.
	* gnome-messagebox.c (gnome_message_box_new): Buttons now kept in
	a button box.
	(GNOME_PAD): Define.

Sun Mar 23 02:24:44 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: fixed some segfaults when clicking on empty
	accelerators.

Sun Mar 23 00:09:49 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: Added config dialog for menu accelerators. This might
	not be the proper place, but I didn't know where else to put it.

	* stock_demo.c: Choosing preferences opens the accel config dlg.

Sun Mar 22 19:16:58 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: Added gnome_stock_menu_accel_parse.

	* gnome-stock.c: Added parsing of default accelerators in rc
	GnomeStock.

Sun Mar 22 16:04:00 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: Added gnome_stock_menu_accel

	* stock_demo.c: Use gnome_stock_menu_accel. Include GnomePropertyBox
	sample.

Sun Mar 22 10:26:09 1998  Radek Doulik  <rodo@aquarius>

	* gnome-propertybox.c (just_close): send delete_event to property
	box instead of widget_destroy

Sun Mar 22 00:07:06 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-propertybox.c (global_apply): Emit apply signal with page
	number of -1 after all pages applied.

Sat Mar 21 00:45:10 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-properties.c (apply_page): New function.
	(gnome_property_configurator_setup): Connect apply_page to "apply"
	signal on property box.
	(gnome_property_configurator_request): Removed.

	* gnome-properties.h (GnomePropertyConfigurator): Replaced
	notebook with property_box.

	* gnome-propertybox.c (gnome_property_box_new): Actually pack
	widgets into frame.
	(gnome_property_box_init): Initalize `items'.

	* libgnomeui.h: Include gnome-propertybox.h.
	* gnome-propertybox.h: New file.
	* gnome-propertybox.c: New file.
	* Makefile.am (libgnomeui_la_SOURCES): Added gnome-propertybox.c.
	(libgnomeuiinclude_HEADERS): Added gnome-propertybox.h.

	* gnome-messagebox.c: Changed all names from gnome_messagebox_* to
	gnome_message_box_*.  The latter mathches Gtk style, and works
	better with gnome.defs/gen-typeinfo.

	Somewhat modified patch from Havoc Pennington:
	* gnome-messagebox.c (gnome_messagebox_new): Initialize buttons
	element to NULL, not to a new list.  Call va_end.
	(gnome_messagebox_set_default): Use g_list_nth.
	(gnome_messagebox_button_clicked): Now static.

Fri Mar 20 23:02:46 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-messagebox.c (gnome_messagebox_new): Use
	gnome_stock_or_ordinary_button.

	* gnome-stock.h (gnome_stock_or_ordinary_button): Declare.
	Updated copyright.
	* gnome-stock.c (stock_button_from_entry): New function.
	(gnome_stock_button): Use it.
	(gnome_stock_or_ordinary_button): New function.
	Updated copyright.

1998-03-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-file-entry.c (realize): Added drop support to gnome
	file-entries.  Now you can drag files from mc to the file entries
	and guess what happens :-)

Fri Mar 20 00:01:47 1998  Tom Tromey  <tromey@cygnus.com>

	* gtk-plug.h: Changed `()' to `(void)'.
	* gtk-clock.h: Renamed `clock' arguments to `gclock' to avoid
	clash with ANSI function.
	* gtk-socket.h: Renamed `socket' argument to `gsocket' to avoid
	clash with Unix system call.

Thu Mar 19 18:02:04 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (our_gtk_parse_func): Allocate two slots for every
	slot in argv.

1998-03-19  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_add): Add support for gtk_container_add
	to GnomeApp widget.

1998-03-20  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-imlib.h: added timer and timer_stopped icons. At least
	two apps already use timer buttons: gtt and gtop.

	* gnome-stock.[ch]: Added gnome_stock_pixmap_widget_set_icon. See
	stock_demo.c for an example.

	* stock_demo.c: added an example for the use of ..._set_icon.

1998-03-19  Marc Ewing  <marc@redhat.com>

	* gtk-socket.{c,h}: change "id" parameter name to "wid"
	  so as not to conflict with objc reserved word.

Wed Mar 18 20:40:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-stock.c (NOT_ALWAYS_SHADE): Renamed to fix typo.
	(_default_entries_data): Added `label' field.
	(entries_data): Added label info to each element.
	(stock_pixmaps): Copy label into hash entry.
	(gnome_stock_menu_item): Fail if text is NULL.
	(gnome_stock_button): Look up label in entry.

	* gnome-stock.h: Added `label' field to each GnomeStockPixmapEntry
	structure.

1998-03-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-file-entry.h: New files gnome-file-entry.[ch].  This is a
	combo box widget with an extra "Browse" button to enter file
	names.  All places in Gnome where an entry widget is being used to
	get a filename should use the GnomeFileEntry widget instead.

	* libgnomeui.h: Added gnome-file-entry.h to the includes.

	* Makefile.am: Added gnome-file-entry.[ch] to the file lists.

Tue Mar 17 22:45:47 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock/stock_demo: added "Save As" icon.

Tue Mar 17 22:28:47 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.h: added dummy variable to include N_("blah")s for
	i18n.

	* gnome-stock.c (gnome_stock_button): use dgettext, not gettext.

1998-03-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_do_menu_creation): The activate
	signal should not be connected to subtree items --- you don't want
	to call a subtree structure when the user clicks on a submenu, right?

1998-03-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.h: Removed the explicit values from the type
	enum and removed the GNOME_APP_UI_LAST value (never used).
	Added #ifndef GNOME_APP_HELPER_H... stuff.

1998-03-16  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock/stock_demo: Added undo stock icon. Added some more
	stock icons to the list of converted menu icons.

	* gnome-stock-xpm-h: removed -- fully switched to imlib rgbs.

1998-03-16  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock*.[ch]: Added new icons for yes/no buttons. Added a
	quick and durty scale_down function to convert the toolbar icons for
	the menus. Hope it works on all mashines. Removed external reference
	to gnome_stock_pixmap - use gnome_stock_pixmap_widget instead.

	* gnome-pixmap.[ch]: Added gnome_pixmap_new_from_rgb_d_shaped to
	support imlib's shape_color for gnome-stock.

1998-03-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-rootwin.h: New widget GnomeRootWin.  This is a widget that
	corresponds to the root window of the screen.  Yes, I know it is
	weird.  However, it provides a nice Gtk abstraction for the root
	window.  The immediate use of this will be to drop objects from
	the file manager into the root window.  Some hacking is still
	needed in this widget to make it work exactly like normal GtkWindows.

	* libgnomeui.h: Added #include "libgnomeui/gnome-rootwin.h".

	* Makefile.am: Added gnome-rootwin.[ch] to the list of files.

1998-03-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_draw): Doh.  I don't know how to
	subtract.  Fixed offsetting, again.

Thu Mar 12 15:50:27 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_set_spacings): Set the spacings for each line
	with a hacky widget on every line.

1998-03-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c: Added warnings of "don't use me" to all the
	obsolete functions.
	(gnome_pixmap_draw): Added proper widget draw function.  We need a
	special draw function because a GnomePixmap's window may not be as
	big as its allocation.
	(paint): New function that actually paints the stuff.
	(gnome_pixmap_expose): Use the paint() function.

Tue Mar 10 22:27:31 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_flush): New function.
	(gnome_client_disconnect): Flush client.
	* gnome-client.h (gnome_client_flush): Declare.

	* gnome-client.c (gnome_client_set_restart_command): Don't insert
	--sm-client-id option if restart_command is NULL.
	(gnome_real_client_connect): Likewise.

Tue Mar 10 15:01:05 1998  Federico Mena <federico@nuclecu.unam.mx>

	* gnome-color-selector.c (gnome_color_selector_new): Use the
	proper visuals for the color selectors.

Mon Mar  9 23:59:41 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_load_layout): Remove gracious printf.

1998-03-09  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-init.c (gnome_init): Only set `program_invocation_name'
	and `program_invocation_short_name' if they are not already set.

Mon Mar  9 23:21:22 1998  Eckehard Berns  <eb@berns.prima.de>

	* stock_demo.c: added stock icon properties,
	added descriptions for `other icons'

	* gnome-stock*: changed other icons to look like tigert's and added
	a preferences stock icon.

Mon Mar  9 17:37:44 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (gnome_init): Set program_invocation_short_name.

Mon Mar  9 17:37:17 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-init.c (gnome_init): Initialize the
	program_invocation_name.  Wonder if this fixes stuff for people?

Sun Mar  8 17:59:38 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (INCLUDES): Added @SUPPORTINCS@.
	(ted_demo_LDADD): Added @LIBSUPPORT@.
	(stock_demo_LDADD): Likewise.

Sat Mar  7 01:21:57 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_new_without_connection): Don't look
	for magic argument.
	(default_client_connect): Use sm_client_id_prop.
	(default_client_disconnect): Likewise.
	(array_has_sm_client_id_arg): Removed.
	(array_insert_sm_client_id_arg): Now static.
	(gnome_client_set_clone_command): Duplicate RestartCommand if
	clone command is freed.
	(gnome_real_client_connect): Only add magic option to duplicate of
	restart command.
	(gnome_client_set_restart_command): Likewise.
	(array_copy): Now static.
	(array_init_from_arg): Likewise.
	(array_free): Likewise.
	(array_remove_sm_client_id_arg): Removed.

	* stock_demo.c (main): Use new form of gnome_init.
	* ted_demo.c (main): Use new form of gnome_init.

Fri Mar  6 21:46:37 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_get_default_client): Removed.
	(gnome_client_new_default): New function.
	(default_client_init): Renamed, now static.
	(arguments): New static.
	(parser): Likewise.
	(client_parse_func): New function.
	(gnome_client_new): Changed interface.
	(gnome_client_new_without_connection): Likewise.

	* gnome-init.c (gnome_init): Pass argv[0], not *argv[0], to
	gnome_rc_parse.

Sat Mar  8 02:35:33 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-{imlib,xpm}.h: foolishly tried to make remaning stock
	icons look like tigert's pixmaps.

	* gnome-stock.c: changed_size fields (20x20 -> 24x24) for affected icons

Sat Mar  7 16:40:08 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c (create_pixmap_from_data): use
	gnome_pixmap_new_from_xpm_d_at_size.
	
	* gnome-stock.h: added new stock icons: print, search, back, forward.
	
	* gnome-stock-{imlib,xpm}.h: added tigert's icons.

	* stock_demo.c: included new icons

Fri Mar  6 18:06:32 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{,-imlib,-xpm}.[ch]: reorganized pixmaps.
	./pixmaps/ isn't needed any longer

Wed Mar  4 00:14:01 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_new_layout): create widgets with an argument
	that specifies where the layout is stored.

1998-03-03  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-about.c (gnome_about_new): Uses /* */ comments, not //.

1998-03-01  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.c (gnome_pixmap_expose): I have to draw the pixmap on
	every expose :-(

1998-03-01  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.c: fixed GnomePixmaps positioning.

	* gnome-stock.c (..._size_request): request size of current pixmap
	if there is one.

	* gnome-stock-{imlib,xpm}.h: added/changed those nasty stock button
	pixmaps to other nasty pixmaps (when will someone with at least a
	minimum of some drawing skill replace my ugly pixmaps?)

Sun Mar  1 00:23:29 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-about.c (gnome_about_display_comments): Simplified
	paragraph splitting.  Don't crash if comments is empty string.
	Don't leak memory if malloc fails.

Sat Feb 28 17:27:41 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_new): Set app->name to appname.  Do not
	know how this got to the current state.

1998-02-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_expose): Repaint only the exposed area.
	(gnome_pixmap_size_allocate): Center the pixmap's window on its allocation.
	(setup_window_and_style): Center the window on the widget's allocation.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-scores.c: Set window policy for the score dialog so that it
	                  doesn't shrink nor grow.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-scores.c: The scores dialog now uses a stock button for OK.

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-stock.c (build_disabled_pixmap): The style that provides
	the GC for painting should come from the pixmap, not from the
	window, to avoid BadMatch problems.  Also, the visual and colormap
	should come from there.  Eliminated the window argument, as it is
	no longer needed.
	I still have a problem, though.  The widget needs to be realized
	to pick its style (for the gc).  So I realize it if it is not
	realized yet --- this will create a toplevel window if the widget
	has not been parented yet, and looks extremely ugly, and doesn't
	work.
	(build_disabled_pixmap): OK, I now use a color context to paint
	the stipple, so realization is not needed.
	(build_disabled_pixmap): Removed unused variable style.

1998-02-26  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: made gnome-stock use gnome-pixmap.

Thu Feb 26 18:07:40 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-about.c: Undefine _ when compiling to avoid clash with
	i18n definition.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-stock.[ch]: New tb_scores pixmap for the games.

        * gnome-about.c (gnome_about_new): Now uses a stock button for OK.
	
1998-02-25  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_add_radio_toolbar_entries): Use
	the GnomePixmap widget.
	(gnome_app_do_toolbar_creation): Likewise.

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-app.c (gnome_app_new): Use "" instead of NULL.  Friendler
	to systems where `strlen(NULL)' is broken.

1998-02-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_init): GnomePixmap is a GTK_BASIC
	widget.

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (load_file): New internal function that takes
	care of file loading and widget setup.
	(gnome_pixmap_load_file): Changed to use load_file() internally.
	(gnome_pixmap_load_file_at_size): New function to load an image
	file and resize it to the specified size.  For example, this is
	useful to have a single icon size for the panel and just specify
	the size one will use (full size for the launchers, half size for
	menu items, etc.).
	(gnome_pixmap_new_from_xpm_d): New function, creates pixmap from
	XPM data in memory.
	(gnome_pixmap_new_from_xpm_d_at_size): Likewise.
	(gnome_pixmap_load_xpm_d): Likewise.
	(gnome_pixmap_load_xpm_d_at_size): Likewise!
	(gnome_pixmap_new_from_rgb_d): New function, creates pixmap from
	RGB plus (optional) Alpha data in memory.
	(gnome_pixmap_new_from_rgb_d_at_size): Likewise.
	(gnome_pixmap_load_rgb_d): Likewise.
	(gnome_pixmap_load_rgb_d_at_size): Likewise, you know it!
	(finish_load): New misc. internal function that does all the boilerplate
	image loading finalization.
	(load_file): Modified to use finish_load().
	(load_xpm_d): New internal function.
	(load_rgb_d): Likewise.

	* gnome-app-helper.c (gnome_app_do_toolbar_creation): Use 
	gnome_pixmap_new_from_file() widget instead of
	gnome_create_pixmap_widget().  I did not replace the
	g_c_p_widget_d() call because GnomePixmap does not support
	creating pixmaps from xpm data yet.

	* gnome-pixmap.c:
	* gnome-pixmap.h: New GnomePixmap widget!  It was created to
	replace the ugly gnome_create_pixmap_*() functions.  Now you can
	simply do something like:

		GtkWidget *gpixmap;
		gpixmap = gnome_pixmap_new_from_file ("hello.jpg");
		gtk_container_add (container, gpixmap);
		gtk_widget_show (gpixmap);

	And that's it.  The GnomePixmap widget takes care of all the
	visuals/colormaps/other_icky_X_stuff.

	GnomePixmap uses gdk_imlib for its work, so now gdk_imlib is a
	required component of Gnome.  Please install it if you have not
	done it yet; it is a very cool thing to have.

	During the next hours, I will be converting most of Gnome to use
	the new GnomePixmap widget instead of the old
	gnome_creat_pixmap_*() functions.

	* gnome-init.c (gnome_init): Added gdk_imlib_init() to the GnomeUI
	initialization procedure.

1998-02-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.c (gnome_default_client_init): New function.
  	Creates a new client without connection to a session manager.
  	This client is called the 'default client'. (Not used yet)
	(default_client_connect): New callback function.  This callback is
 	registered to the connect signal of the default client and sets
 	the SM_CLIENT_ID property to the gdk client leader window.
	(default_client_disconnect): New callback function.  Removes
 	SM_CLIENT_ID property.
	(gnome_get_default_client): New function.

	* gnome-app-helper.h: Removed comma in pixmap_type.

1998-02-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-entry.c (entry_activated): Now the GnomeEntry pushes a
	history item if the entry field was activated (via return key, for
	example).  We do proper checks to see if it is not an empty string
	and such (in which case a history item does not need to be pushed).

	* gnome-entry.h: Added changed field.  This is set to true if the
	entry field has changed but it has not been put into the history
	list.  False otherwise.

	* Gnome-entry.c: First usable version of the GnomeEntry widget.

	* gnome-startup.c: 
	* gnome-client.c: Added #include <string.h>

	* libgnomeui.h: Added gnome-entry.h to the includes list.

	* Makefile.am: Added gnome-entry.{c,h}

	* gnome-entry.c:
	* gnome-entry.h: New GnomeËntry widget -- entry field with
	automagic history saving.

	* ted_demo.c (main): Added app_id "ted_demo".

	* stock_demo.c (main): Added app_id "stock_demo".

	* gnome-init.c (gnome_init): Added app_id parameter to this
	function.  Changes to the rest of Gnome are in progress.

1998-02-19  Carsten Schaar <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-session.c: Removed. Was replaced by gnome-client.

	* gnome-session.h: same as above.

Wed Feb 18 13:52:00 PST 1998  Christoph Toshok  <toshok@hungry.com>
	* gnome-app-helper.c (gnome_app_do_menu_creation): If any items in
	a menu have GNOME_APP_PIXMAP_STOCK, use gnome_stock_menu_item for
	all of them, so the left side of the labels line up.
	(gnome_app_do_toolbar_creation): Use gnome_stock_pixmap_widget_new
	to create the toolbar button.
	
Wed Feb 18 17:03:13 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-about.c (gnome_destroy_about): Fixed refcounting.
	(gnome_fill_info, gnome_about_new): Fixed I18N problem.  (but a
 	dirty hack, it uses ONLY the fonts from gtkrc.).
	* gtkrc: Moved GnomeAbout styles to here.

1998-02-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-init.c (gnome_init): At last!  The horribly broken
	gnome_colors goes to hell now that we have imlib and the
	GdkColorContext :-)

	* libgnomeui.h: Removed gnome-colors include.

Tue Feb 17 00:16:49 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-messagebox.c (gnome_messagebox_button_clicked): Fixed
	buttonnumber counting.

	* gnome-scores.[ch]: Fixed i18n problem.  All color/font settings
 	are in gtkrc.
	(gnome_scores_set_logo_label_title): New function
	(gnome_scores_set_current_player): New function.
	* gnome-scores.c (gnome_scores_display): Use the above new
	functions. 

	* gtkrc: New file, the global gtk+ rc file of GNOME.
	* Makefile.am: Added gtkrc. 

1998-02-17  Eckehard Berns <eb@berns.prima.de>

	* gnome-stock.[ch]: added width/height fields to the
	GnomeStock...Entry structs to make sure a size_request gets the
	correct values.

Tue Feb 17 00:16:49 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>


	* gnome-scores.c (gnome_scores_set_color): gtk_style_unref() new
	GtkStyle after gtk_widget_set_style.
	(gnome_scores_set_logo_label): Likewise.
	* gnome-about.c (gnome_about_new): Likewise.
	* gnome-font-selector.c (text_resize_text_widget): Likewise.


Mon Feb 16 11:53:14 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-client.h: Include <gtk/gtkobject.h>.

Sun Feb 15 21:22:33 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnomeui.h: Include gnome-startup.h.
	* Makefile.am (libgnomeui_la_SOURCES): Include gnome-startup.c.
	(libgnomeuiinclude_HEADERS): Include gnome-startup.h.
	* gnome-startup.c: New file.
	* gnome-startup.h: New file.

	* gnome-client.c (gnome_client_init): Initialize previous_id.
	(gnome_real_client_destroy): Free previous_id if required.
	(gnome_client_new_without_connection): Set previous_id.
	(gnome_client_get_previous_id): New function.
	* gnome-client.h (struct _GnomeClient): Added previous_id member.
	(gnome_client_get_previous_id): Declare.

	* gnome-client.h: Corrected comment.

Sat Feb 14 17:15:18 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-scores.h (test): Removed declaration.

	* gnome-client.h: Removed RCS "Id" line.

1998-02-15  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.h: Two arguments were named 'id'.  This broke
	the objectiv-c interface, so I named them 'client_id' and 
	'user_id'.

1998-02-14  Christoph Toshok <toshok@hungry.com>
	* gnome-app-helper.c (gnome_app_create_menus_with_data): new
	function, to handle the (common) case of creating an entire menu
	system with the same callback data.
	(gnome_app_create_toolbar_with_data): analogous addition for
	toolbars.
	(gnome_app_do_menu_create): add data parameter, which is passed in
	by both gnome_app_create_menus_with_dat and
	gnome_app_create_menus, and which is passed on to
	gtk_signal_connect.  Also, add handling for new menuinfo type,
	GNOME_APP_MENU_SEPARATOR.
	(gnome_app_do_toolbar_create): analogous change for toolbars.
	* gnome-app-helper.h: wrap with BEGIN_GNOME_DECLS/END_GNOME_DECLS
	and add GNOME_APP_MENU_HELP enum.
	
1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* libgnomeui.h: includes the new session management
	support header file 'gnome-client.h' instead of the old one
	'gnome-session.h'

	* Makefile.am (libgnomeui_la_SOURCES): replaced 'gnome-session.c'
	with 'gnome-client.c'
	(libgnomeuiinclude_HEADERS): replaced 'gnome-session.h' with
	'gnome-client.h'
	(ted_demo_LDADD): added '$(INTLLIBS)'
	(stock_demo_LDADD): added '$(INTLLIBS)'

	* gnome-client.h: new file

	* gnome-client.c: new file

1998-02-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-about.c (gnome_fill_info): Made gdk_color_alloc() use the
	widget default colormap instead of the system colormap.  This is
	actually not the right way to do it; the about box should do all
	color allocation via a GdkColorContext.  The cc structure should
	reside in the GnomeAboutClass so that all about boxes can share it.

	* gnome-stock.c (gnome_stock_pixmap_widget_state_changed): Added
	gtk_widget_ref() when a new pixmap is created, because later they
	may get gtk_container_remove()d.
	(gnome_stock_pixmap_widget_size_request): Bad hack: if the pixmap
	window is NULL, we return a default size.  The gnome-stock
	architecture has to be rewritten, I think.  Please see my
	forthcoming post to gnome-list for a proposal on how to do this.

	* gnome-app.c: indentation fixes.

	* gnome-stock.c (build_hash_key): Made routine use g_copy_strings().

Fri Feb 13 19:03:21 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_parse_pos): Initialize flags to zero before
	doing the parsing.

Fri Feb 13 18:23:02 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-messagebox.c: Message boxes now take a variable number of
	arguments instead of having 3 options at most. 

Fri Feb 13 18:09:46 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_update_position): More refcouting joy.

Fri Feb 13 11:45:12 1998  Nuno Ferreira <nmrf@rnl.ist.utl.pt>

	* gnome-app.c (gnome_app_configure_positions): use app->toolbar
	when dealing with the toolbar, not app->menubar.

Wed Feb 11 15:06:05 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_widget_drop
	gtk_ted_prepare_editable_widget): refcouting fixes

