1998-04-01  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-dateedit.c, gnome-dateedit.h: New widget for editing a
	date/time. 

	* gtkcalendar.c (gtk_calendar_class_init): Declare signal
	"day_selected"; 
	(gtk_calendar_marshall_date): Marshaller for new signal.
	(gtk_calendar_main_button): when a click happens in a day, emit
	the signal day_changed.
	
1998-04-01  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtkcalendar.[ch]: Updated to latest version from gcalendar
	module.

1998-03-31  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtkcalendar.c: Added Shawn's and Cesar's calendar widget to the
	gnome-libs. 

1998-03-30  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (gnome_icon_list_moveto): Finished
	implementing moveto routine.  It only supports vertical alignment,
	as the icon list tries to display only whole columns and thus
	disable horizontal scrolling.

	* gnome-icon-list.h: New function gnome_icon_list_get_icon_at().
	Returns the index of the icon that is under the specified
	coordinates, or -1 if the coordinates are over white space.

	* gnome-icon-list.c: Added missing functionality regarding
	selecting/unselecting of icons.

1998-03-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_icon): Only try to set the masks if the pixmap exists.
	(get_icon_num_from_xy): Fixed a couple of off-by-one errors.

Sat Mar 28 18:12:33 CET 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{,-imlib}.[ch], stock_demo.c: Added more of tigert's
	pixmaps.

1998-03-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.c (draw_icons_area): Only paint icons within
	exposure area width.
	(adjust_scrollbars): Use better values for step_increment in adjustments.

1998-03-27  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome_segv.c: included "config.h"
	(main): Added i18n.
	
1998-03-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-icon-list.h: New files gnome-icon-list.[ch].  This
	provides the GnomeIconList widget.  It is an icon list widget with
	several display modes.  It has an API very similar to the
	GtkCList, so using it should be easy.  It will be used on the file
	manager for the iconic view, for an icon selector property box,
	etc.  It is still not finished and it has bugs, but you can start
	playing with it now.  There is a small example program on
	http://www.nuclecu.unam.mx/~federico/test-ilist.c

	* libgnomeui.h: Added gnome-icon-list.h to the includes.

	* Makefile.am: Added gnome-icon-list.[ch] to the rules.

Thu Mar 26 13:29:18 1998  Radek Doulik  <gis@academy.cas.cz>

	* gnome-client.c (gnome_client_flush): check HAVE_LIBSM, hope I don't
	break something

Wed Mar 25 01:30:00 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* stock_demo.c: use the "Really quit?" message box for real.

	* gnome-stock.c: minor i18n fix for clist titles.

Tue Mar 24 23:06:44 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-messagebox.c (gnome_message_box_init): applied patch from
	robert havoc pennington <rhpennin@midway.uchicago.edu> with some
	sanity checks and use of gnome_pixmap_file

Tue Mar 24 22:32:11 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-propertybox.c: applied patch from Havoc Pennington
	<hp@pobox.com>

Tue Mar 24 19:24:23 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-messagebox.c (gnome_message_box_new): use
	gnome_pixmap_new_from_file for pixmap loading

	We will have to supply some pixmaps for the gnome message box. I
	couldn't find any "bomp.{xpm,png}".

Tue Mar 24 19:24:23 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* gnome-app-helper.c (gnome_app_do_ui_accelerator_setup): use
	gtk_widget_install_accelerator to make the accelerators visible in
	the menu

Tue Mar 24 19:16:55 CET 1998  Eckeherad Berns  <eb@berns.prima.de>

	* stock_demo.c, gnome-stock.c: use GnomePropertyBox's own signals.

	* gnome-propertybox.c: fix some box-packing (to allow window resizing).
	(just_close): fix "delete_event" (segfaulted if someone realy catched
	the signal)

Tue Mar 24 01:07:14 1998  Tom Tromey  <tromey@cygnus.com>

	* stock_demo.c (message_dlg): New function to test
	gnome-messagebox.  (This could be moved elsewhere; it is just a
	hack.)

	* gnome-propertybox.c (gnome_property_box_new): Buttons now kept
	in a button box.
	* gnome-messagebox.c (gnome_message_box_new): Buttons now kept in
	a button box.
	(GNOME_PAD): Define.

Sun Mar 23 02:24:44 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: fixed some segfaults when clicking on empty
	accelerators.

Sun Mar 23 00:09:49 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c: Added config dialog for menu accelerators. This might
	not be the proper place, but I didn't know where else to put it.

	* stock_demo.c: Choosing preferences opens the accel config dlg.

Sun Mar 22 19:16:58 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: Added gnome_stock_menu_accel_parse.

	* gnome-stock.c: Added parsing of default accelerators in rc
	GnomeStock.

Sun Mar 22 16:04:00 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: Added gnome_stock_menu_accel

	* stock_demo.c: Use gnome_stock_menu_accel. Include GnomePropertyBox
	sample.

Sun Mar 22 10:26:09 1998  Radek Doulik  <rodo@aquarius>

	* gnome-propertybox.c (just_close): send delete_event to property
	box instead of widget_destroy

Sun Mar 22 00:07:06 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-propertybox.c (global_apply): Emit apply signal with page
	number of -1 after all pages applied.

Sat Mar 21 00:45:10 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-properties.c (apply_page): New function.
	(gnome_property_configurator_setup): Connect apply_page to "apply"
	signal on property box.
	(gnome_property_configurator_request): Removed.

	* gnome-properties.h (GnomePropertyConfigurator): Replaced
	notebook with property_box.

	* gnome-propertybox.c (gnome_property_box_new): Actually pack
	widgets into frame.
	(gnome_property_box_init): Initalize `items'.

	* libgnomeui.h: Include gnome-propertybox.h.
	* gnome-propertybox.h: New file.
	* gnome-propertybox.c: New file.
	* Makefile.am (libgnomeui_la_SOURCES): Added gnome-propertybox.c.
	(libgnomeuiinclude_HEADERS): Added gnome-propertybox.h.

	* gnome-messagebox.c: Changed all names from gnome_messagebox_* to
	gnome_message_box_*.  The latter mathches Gtk style, and works
	better with gnome.defs/gen-typeinfo.

	Somewhat modified patch from Havoc Pennington:
	* gnome-messagebox.c (gnome_messagebox_new): Initialize buttons
	element to NULL, not to a new list.  Call va_end.
	(gnome_messagebox_set_default): Use g_list_nth.
	(gnome_messagebox_button_clicked): Now static.

Fri Mar 20 23:02:46 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-messagebox.c (gnome_messagebox_new): Use
	gnome_stock_or_ordinary_button.

	* gnome-stock.h (gnome_stock_or_ordinary_button): Declare.
	Updated copyright.
	* gnome-stock.c (stock_button_from_entry): New function.
	(gnome_stock_button): Use it.
	(gnome_stock_or_ordinary_button): New function.
	Updated copyright.

1998-03-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-file-entry.c (realize): Added drop support to gnome
	file-entries.  Now you can drag files from mc to the file entries
	and guess what happens :-)

Fri Mar 20 00:01:47 1998  Tom Tromey  <tromey@cygnus.com>

	* gtk-plug.h: Changed `()' to `(void)'.
	* gtk-clock.h: Renamed `clock' arguments to `gclock' to avoid
	clash with ANSI function.
	* gtk-socket.h: Renamed `socket' argument to `gsocket' to avoid
	clash with Unix system call.

Thu Mar 19 18:02:04 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (our_gtk_parse_func): Allocate two slots for every
	slot in argv.

1998-03-19  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_add): Add support for gtk_container_add
	to GnomeApp widget.

1998-03-20  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-imlib.h: added timer and timer_stopped icons. At least
	two apps already use timer buttons: gtt and gtop.

	* gnome-stock.[ch]: Added gnome_stock_pixmap_widget_set_icon. See
	stock_demo.c for an example.

	* stock_demo.c: added an example for the use of ..._set_icon.

1998-03-19  Marc Ewing  <marc@redhat.com>

	* gtk-socket.{c,h}: change "id" parameter name to "wid"
	  so as not to conflict with objc reserved word.

Wed Mar 18 20:40:43 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-stock.c (NOT_ALWAYS_SHADE): Renamed to fix typo.
	(_default_entries_data): Added `label' field.
	(entries_data): Added label info to each element.
	(stock_pixmaps): Copy label into hash entry.
	(gnome_stock_menu_item): Fail if text is NULL.
	(gnome_stock_button): Look up label in entry.

	* gnome-stock.h: Added `label' field to each GnomeStockPixmapEntry
	structure.

1998-03-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-file-entry.h: New files gnome-file-entry.[ch].  This is a
	combo box widget with an extra "Browse" button to enter file
	names.  All places in Gnome where an entry widget is being used to
	get a filename should use the GnomeFileEntry widget instead.

	* libgnomeui.h: Added gnome-file-entry.h to the includes.

	* Makefile.am: Added gnome-file-entry.[ch] to the file lists.

Tue Mar 17 22:45:47 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock/stock_demo: added "Save As" icon.

Tue Mar 17 22:28:47 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.h: added dummy variable to include N_("blah")s for
	i18n.

	* gnome-stock.c (gnome_stock_button): use dgettext, not gettext.

1998-03-17  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_do_menu_creation): The activate
	signal should not be connected to subtree items --- you don't want
	to call a subtree structure when the user clicks on a submenu, right?

1998-03-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.h: Removed the explicit values from the type
	enum and removed the GNOME_APP_UI_LAST value (never used).
	Added #ifndef GNOME_APP_HELPER_H... stuff.

1998-03-16  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock/stock_demo: Added undo stock icon. Added some more
	stock icons to the list of converted menu icons.

	* gnome-stock-xpm-h: removed -- fully switched to imlib rgbs.

1998-03-16  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock*.[ch]: Added new icons for yes/no buttons. Added a
	quick and durty scale_down function to convert the toolbar icons for
	the menus. Hope it works on all mashines. Removed external reference
	to gnome_stock_pixmap - use gnome_stock_pixmap_widget instead.

	* gnome-pixmap.[ch]: Added gnome_pixmap_new_from_rgb_d_shaped to
	support imlib's shape_color for gnome-stock.

1998-03-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-rootwin.h: New widget GnomeRootWin.  This is a widget that
	corresponds to the root window of the screen.  Yes, I know it is
	weird.  However, it provides a nice Gtk abstraction for the root
	window.  The immediate use of this will be to drop objects from
	the file manager into the root window.  Some hacking is still
	needed in this widget to make it work exactly like normal GtkWindows.

	* libgnomeui.h: Added #include "libgnomeui/gnome-rootwin.h".

	* Makefile.am: Added gnome-rootwin.[ch] to the list of files.

1998-03-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_draw): Doh.  I don't know how to
	subtract.  Fixed offsetting, again.

Thu Mar 12 15:50:27 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_set_spacings): Set the spacings for each line
	with a hacky widget on every line.

1998-03-12  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c: Added warnings of "don't use me" to all the
	obsolete functions.
	(gnome_pixmap_draw): Added proper widget draw function.  We need a
	special draw function because a GnomePixmap's window may not be as
	big as its allocation.
	(paint): New function that actually paints the stuff.
	(gnome_pixmap_expose): Use the paint() function.

Tue Mar 10 22:27:31 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_flush): New function.
	(gnome_client_disconnect): Flush client.
	* gnome-client.h (gnome_client_flush): Declare.

	* gnome-client.c (gnome_client_set_restart_command): Don't insert
	--sm-client-id option if restart_command is NULL.
	(gnome_real_client_connect): Likewise.

Tue Mar 10 15:01:05 1998  Federico Mena <federico@nuclecu.unam.mx>

	* gnome-color-selector.c (gnome_color_selector_new): Use the
	proper visuals for the color selectors.

Mon Mar  9 23:59:41 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_load_layout): Remove gracious printf.

1998-03-09  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-init.c (gnome_init): Only set `program_invocation_name'
	and `program_invocation_short_name' if they are not already set.

Mon Mar  9 23:21:22 1998  Eckehard Berns  <eb@berns.prima.de>

	* stock_demo.c: added stock icon properties,
	added descriptions for `other icons'

	* gnome-stock*: changed other icons to look like tigert's and added
	a preferences stock icon.

Mon Mar  9 17:37:44 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-init.c (gnome_init): Set program_invocation_short_name.

Mon Mar  9 17:37:17 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-init.c (gnome_init): Initialize the
	program_invocation_name.  Wonder if this fixes stuff for people?

Sun Mar  8 17:59:38 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (INCLUDES): Added @SUPPORTINCS@.
	(ted_demo_LDADD): Added @LIBSUPPORT@.
	(stock_demo_LDADD): Likewise.

Sat Mar  7 01:21:57 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_client_new_without_connection): Don't look
	for magic argument.
	(default_client_connect): Use sm_client_id_prop.
	(default_client_disconnect): Likewise.
	(array_has_sm_client_id_arg): Removed.
	(array_insert_sm_client_id_arg): Now static.
	(gnome_client_set_clone_command): Duplicate RestartCommand if
	clone command is freed.
	(gnome_real_client_connect): Only add magic option to duplicate of
	restart command.
	(gnome_client_set_restart_command): Likewise.
	(array_copy): Now static.
	(array_init_from_arg): Likewise.
	(array_free): Likewise.
	(array_remove_sm_client_id_arg): Removed.

	* stock_demo.c (main): Use new form of gnome_init.
	* ted_demo.c (main): Use new form of gnome_init.

Fri Mar  6 21:46:37 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-client.c (gnome_get_default_client): Removed.
	(gnome_client_new_default): New function.
	(default_client_init): Renamed, now static.
	(arguments): New static.
	(parser): Likewise.
	(client_parse_func): New function.
	(gnome_client_new): Changed interface.
	(gnome_client_new_without_connection): Likewise.

	* gnome-init.c (gnome_init): Pass argv[0], not *argv[0], to
	gnome_rc_parse.

Sat Mar  8 02:35:33 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock-{imlib,xpm}.h: foolishly tried to make remaning stock
	icons look like tigert's pixmaps.

	* gnome-stock.c: changed_size fields (20x20 -> 24x24) for affected icons

Sat Mar  7 16:40:08 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.c (create_pixmap_from_data): use
	gnome_pixmap_new_from_xpm_d_at_size.
	
	* gnome-stock.h: added new stock icons: print, search, back, forward.
	
	* gnome-stock-{imlib,xpm}.h: added tigert's icons.

	* stock_demo.c: included new icons

Fri Mar  6 18:06:32 1998  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock{,-imlib,-xpm}.[ch]: reorganized pixmaps.
	./pixmaps/ isn't needed any longer

Wed Mar  4 00:14:01 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_new_layout): create widgets with an argument
	that specifies where the layout is stored.

1998-03-03  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-about.c (gnome_about_new): Uses /* */ comments, not //.

1998-03-01  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.c (gnome_pixmap_expose): I have to draw the pixmap on
	every expose :-(

1998-03-01  Eckehard Berns  <eb@berns.prima.de>

	* gnome-pixmap.c: fixed GnomePixmaps positioning.

	* gnome-stock.c (..._size_request): request size of current pixmap
	if there is one.

	* gnome-stock-{imlib,xpm}.h: added/changed those nasty stock button
	pixmaps to other nasty pixmaps (when will someone with at least a
	minimum of some drawing skill replace my ugly pixmaps?)

Sun Mar  1 00:23:29 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-about.c (gnome_about_display_comments): Simplified
	paragraph splitting.  Don't crash if comments is empty string.
	Don't leak memory if malloc fails.

Sat Feb 28 17:27:41 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-app.c (gnome_app_new): Set app->name to appname.  Do not
	know how this got to the current state.

1998-02-27  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_expose): Repaint only the exposed area.
	(gnome_pixmap_size_allocate): Center the pixmap's window on its allocation.
	(setup_window_and_style): Center the window on the widget's allocation.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-scores.c: Set window policy for the score dialog so that it
	                  doesn't shrink nor grow.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-scores.c: The scores dialog now uses a stock button for OK.

1998-02-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-stock.c (build_disabled_pixmap): The style that provides
	the GC for painting should come from the pixmap, not from the
	window, to avoid BadMatch problems.  Also, the visual and colormap
	should come from there.  Eliminated the window argument, as it is
	no longer needed.
	I still have a problem, though.  The widget needs to be realized
	to pick its style (for the gc).  So I realize it if it is not
	realized yet --- this will create a toplevel window if the widget
	has not been parented yet, and looks extremely ugly, and doesn't
	work.
	(build_disabled_pixmap): OK, I now use a color context to paint
	the stipple, so realization is not needed.
	(build_disabled_pixmap): Removed unused variable style.

1998-02-26  Eckehard Berns  <eb@berns.prima.de>

	* gnome-stock.[ch]: made gnome-stock use gnome-pixmap.

Thu Feb 26 18:07:40 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-about.c: Undefine _ when compiling to avoid clash with
	i18n definition.

1998-02-26 Arturo Espinosa  <arturo@nuclecu.unam.mx>

        * gnome-stock.[ch]: New tb_scores pixmap for the games.

        * gnome-about.c (gnome_about_new): Now uses a stock button for OK.
	
1998-02-25  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-app-helper.c (gnome_app_add_radio_toolbar_entries): Use
	the GnomePixmap widget.
	(gnome_app_do_toolbar_creation): Likewise.

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* gnome-app.c (gnome_app_new): Use "" instead of NULL.  Friendler
	to systems where `strlen(NULL)' is broken.

1998-02-24  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (gnome_pixmap_init): GnomePixmap is a GTK_BASIC
	widget.

1998-02-23  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-pixmap.c (load_file): New internal function that takes
	care of file loading and widget setup.
	(gnome_pixmap_load_file): Changed to use load_file() internally.
	(gnome_pixmap_load_file_at_size): New function to load an image
	file and resize it to the specified size.  For example, this is
	useful to have a single icon size for the panel and just specify
	the size one will use (full size for the launchers, half size for
	menu items, etc.).
	(gnome_pixmap_new_from_xpm_d): New function, creates pixmap from
	XPM data in memory.
	(gnome_pixmap_new_from_xpm_d_at_size): Likewise.
	(gnome_pixmap_load_xpm_d): Likewise.
	(gnome_pixmap_load_xpm_d_at_size): Likewise!
	(gnome_pixmap_new_from_rgb_d): New function, creates pixmap from
	RGB plus (optional) Alpha data in memory.
	(gnome_pixmap_new_from_rgb_d_at_size): Likewise.
	(gnome_pixmap_load_rgb_d): Likewise.
	(gnome_pixmap_load_rgb_d_at_size): Likewise, you know it!
	(finish_load): New misc. internal function that does all the boilerplate
	image loading finalization.
	(load_file): Modified to use finish_load().
	(load_xpm_d): New internal function.
	(load_rgb_d): Likewise.

	* gnome-app-helper.c (gnome_app_do_toolbar_creation): Use 
	gnome_pixmap_new_from_file() widget instead of
	gnome_create_pixmap_widget().  I did not replace the
	g_c_p_widget_d() call because GnomePixmap does not support
	creating pixmaps from xpm data yet.

	* gnome-pixmap.c:
	* gnome-pixmap.h: New GnomePixmap widget!  It was created to
	replace the ugly gnome_create_pixmap_*() functions.  Now you can
	simply do something like:

		GtkWidget *gpixmap;
		gpixmap = gnome_pixmap_new_from_file ("hello.jpg");
		gtk_container_add (container, gpixmap);
		gtk_widget_show (gpixmap);

	And that's it.  The GnomePixmap widget takes care of all the
	visuals/colormaps/other_icky_X_stuff.

	GnomePixmap uses gdk_imlib for its work, so now gdk_imlib is a
	required component of Gnome.  Please install it if you have not
	done it yet; it is a very cool thing to have.

	During the next hours, I will be converting most of Gnome to use
	the new GnomePixmap widget instead of the old
	gnome_creat_pixmap_*() functions.

	* gnome-init.c (gnome_init): Added gdk_imlib_init() to the GnomeUI
	initialization procedure.

1998-02-23  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.c (gnome_default_client_init): New function.
  	Creates a new client without connection to a session manager.
  	This client is called the 'default client'. (Not used yet)
	(default_client_connect): New callback function.  This callback is
 	registered to the connect signal of the default client and sets
 	the SM_CLIENT_ID property to the gdk client leader window.
	(default_client_disconnect): New callback function.  Removes
 	SM_CLIENT_ID property.
	(gnome_get_default_client): New function.

	* gnome-app-helper.h: Removed comma in pixmap_type.

1998-02-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-entry.c (entry_activated): Now the GnomeEntry pushes a
	history item if the entry field was activated (via return key, for
	example).  We do proper checks to see if it is not an empty string
	and such (in which case a history item does not need to be pushed).

	* gnome-entry.h: Added changed field.  This is set to true if the
	entry field has changed but it has not been put into the history
	list.  False otherwise.

	* Gnome-entry.c: First usable version of the GnomeEntry widget.

	* gnome-startup.c: 
	* gnome-client.c: Added #include <string.h>

	* libgnomeui.h: Added gnome-entry.h to the includes list.

	* Makefile.am: Added gnome-entry.{c,h}

	* gnome-entry.c:
	* gnome-entry.h: New GnomeËntry widget -- entry field with
	automagic history saving.

	* ted_demo.c (main): Added app_id "ted_demo".

	* stock_demo.c (main): Added app_id "stock_demo".

	* gnome-init.c (gnome_init): Added app_id parameter to this
	function.  Changes to the rest of Gnome are in progress.

1998-02-19  Carsten Schaar <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-session.c: Removed. Was replaced by gnome-client.

	* gnome-session.h: same as above.

Wed Feb 18 13:52:00 PST 1998  Christoph Toshok  <toshok@hungry.com>
	* gnome-app-helper.c (gnome_app_do_menu_creation): If any items in
	a menu have GNOME_APP_PIXMAP_STOCK, use gnome_stock_menu_item for
	all of them, so the left side of the labels line up.
	(gnome_app_do_toolbar_creation): Use gnome_stock_pixmap_widget_new
	to create the toolbar button.
	
Wed Feb 18 17:03:13 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-about.c (gnome_destroy_about): Fixed refcounting.
	(gnome_fill_info, gnome_about_new): Fixed I18N problem.  (but a
 	dirty hack, it uses ONLY the fonts from gtkrc.).
	* gtkrc: Moved GnomeAbout styles to here.

1998-02-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-init.c (gnome_init): At last!  The horribly broken
	gnome_colors goes to hell now that we have imlib and the
	GdkColorContext :-)

	* libgnomeui.h: Removed gnome-colors include.

Tue Feb 17 00:16:49 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-messagebox.c (gnome_messagebox_button_clicked): Fixed
	buttonnumber counting.

	* gnome-scores.[ch]: Fixed i18n problem.  All color/font settings
 	are in gtkrc.
	(gnome_scores_set_logo_label_title): New function
	(gnome_scores_set_current_player): New function.
	* gnome-scores.c (gnome_scores_display): Use the above new
	functions. 

	* gtkrc: New file, the global gtk+ rc file of GNOME.
	* Makefile.am: Added gtkrc. 

1998-02-17  Eckehard Berns <eb@berns.prima.de>

	* gnome-stock.[ch]: added width/height fields to the
	GnomeStock...Entry structs to make sure a size_request gets the
	correct values.

Tue Feb 17 00:16:49 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>


	* gnome-scores.c (gnome_scores_set_color): gtk_style_unref() new
	GtkStyle after gtk_widget_set_style.
	(gnome_scores_set_logo_label): Likewise.
	* gnome-about.c (gnome_about_new): Likewise.
	* gnome-font-selector.c (text_resize_text_widget): Likewise.


Mon Feb 16 11:53:14 KST 1998  Changwoo Ryu  <cwryu@adam.kaist.ac.kr>

	* gnome-client.h: Include <gtk/gtkobject.h>.

Sun Feb 15 21:22:33 1998  Tom Tromey  <tromey@cygnus.com>

	* libgnomeui.h: Include gnome-startup.h.
	* Makefile.am (libgnomeui_la_SOURCES): Include gnome-startup.c.
	(libgnomeuiinclude_HEADERS): Include gnome-startup.h.
	* gnome-startup.c: New file.
	* gnome-startup.h: New file.

	* gnome-client.c (gnome_client_init): Initialize previous_id.
	(gnome_real_client_destroy): Free previous_id if required.
	(gnome_client_new_without_connection): Set previous_id.
	(gnome_client_get_previous_id): New function.
	* gnome-client.h (struct _GnomeClient): Added previous_id member.
	(gnome_client_get_previous_id): Declare.

	* gnome-client.h: Corrected comment.

Sat Feb 14 17:15:18 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-scores.h (test): Removed declaration.

	* gnome-client.h: Removed RCS "Id" line.

1998-02-15  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-client.h: Two arguments were named 'id'.  This broke
	the objectiv-c interface, so I named them 'client_id' and 
	'user_id'.

1998-02-14  Christoph Toshok <toshok@hungry.com>
	* gnome-app-helper.c (gnome_app_create_menus_with_data): new
	function, to handle the (common) case of creating an entire menu
	system with the same callback data.
	(gnome_app_create_toolbar_with_data): analogous addition for
	toolbars.
	(gnome_app_do_menu_create): add data parameter, which is passed in
	by both gnome_app_create_menus_with_dat and
	gnome_app_create_menus, and which is passed on to
	gtk_signal_connect.  Also, add handling for new menuinfo type,
	GNOME_APP_MENU_SEPARATOR.
	(gnome_app_do_toolbar_create): analogous change for toolbars.
	* gnome-app-helper.h: wrap with BEGIN_GNOME_DECLS/END_GNOME_DECLS
	and add GNOME_APP_MENU_HELP enum.
	
1998-02-14  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* libgnomeui.h: includes the new session management
	support header file 'gnome-client.h' instead of the old one
	'gnome-session.h'

	* Makefile.am (libgnomeui_la_SOURCES): replaced 'gnome-session.c'
	with 'gnome-client.c'
	(libgnomeuiinclude_HEADERS): replaced 'gnome-session.h' with
	'gnome-client.h'
	(ted_demo_LDADD): added '$(INTLLIBS)'
	(stock_demo_LDADD): added '$(INTLLIBS)'

	* gnome-client.h: new file

	* gnome-client.c: new file

1998-02-13  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gnome-about.c (gnome_fill_info): Made gdk_color_alloc() use the
	widget default colormap instead of the system colormap.  This is
	actually not the right way to do it; the about box should do all
	color allocation via a GdkColorContext.  The cc structure should
	reside in the GnomeAboutClass so that all about boxes can share it.

	* gnome-stock.c (gnome_stock_pixmap_widget_state_changed): Added
	gtk_widget_ref() when a new pixmap is created, because later they
	may get gtk_container_remove()d.
	(gnome_stock_pixmap_widget_size_request): Bad hack: if the pixmap
	window is NULL, we return a default size.  The gnome-stock
	architecture has to be rewritten, I think.  Please see my
	forthcoming post to gnome-list for a proposal on how to do this.

	* gnome-app.c: indentation fixes.

	* gnome-stock.c (build_hash_key): Made routine use g_copy_strings().

Fri Feb 13 19:03:21 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_parse_pos): Initialize flags to zero before
	doing the parsing.

Fri Feb 13 18:23:02 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-messagebox.c: Message boxes now take a variable number of
	arguments instead of having 3 options at most. 

Fri Feb 13 18:09:46 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_update_position): More refcouting joy.

Fri Feb 13 11:45:12 1998  Nuno Ferreira <nmrf@rnl.ist.utl.pt>

	* gnome-app.c (gnome_app_configure_positions): use app->toolbar
	when dealing with the toolbar, not app->menubar.

Wed Feb 11 15:06:05 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk-ted.c (gtk_ted_widget_drop
	gtk_ted_prepare_editable_widget): refcouting fixes

